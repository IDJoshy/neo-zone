(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Kg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fh={exports:{}},ya={},Mh={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function _v(){if(Sm)return Ce;Sm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function V(U,X,me){this.props=U,this.context=X,this.refs=j,this.updater=me||N}V.prototype.isReactComponent={},V.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},V.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=V.prototype;function z(U,X,me){this.props=U,this.context=X,this.refs=j,this.updater=me||N}var K=z.prototype=new O;K.constructor=z,L(K,V.prototype),K.isPureReactComponent=!0;var ee=Array.isArray,se=Object.prototype.hasOwnProperty,oe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(U,X,me){var Se,xe={},Pe=null,Fe=null;if(X!=null)for(Se in X.ref!==void 0&&(Fe=X.ref),X.key!==void 0&&(Pe=""+X.key),X)se.call(X,Se)&&!k.hasOwnProperty(Se)&&(xe[Se]=X[Se]);var Me=arguments.length-2;if(Me===1)xe.children=me;else if(1<Me){for(var qe=Array(Me),Et=0;Et<Me;Et++)qe[Et]=arguments[Et+2];xe.children=qe}if(U&&U.defaultProps)for(Se in Me=U.defaultProps,Me)xe[Se]===void 0&&(xe[Se]=Me[Se]);return{$$typeof:r,type:U,key:Pe,ref:Fe,props:xe,_owner:oe.current}}function x(U,X){return{$$typeof:r,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function R(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return X[me]})}var F=/\/+/g;function A(U,X){return typeof U=="object"&&U!==null&&U.key!=null?R(""+U.key):X.toString(36)}function Be(U,X,me,Se,xe){var Pe=typeof U;(Pe==="undefined"||Pe==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(Pe){case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case r:case e:Fe=!0}}if(Fe)return Fe=U,xe=xe(Fe),U=Se===""?"."+A(Fe,0):Se,ee(xe)?(me="",U!=null&&(me=U.replace(F,"$&/")+"/"),Be(xe,X,me,"",function(Et){return Et})):xe!=null&&(P(xe)&&(xe=x(xe,me+(!xe.key||Fe&&Fe.key===xe.key?"":(""+xe.key).replace(F,"$&/")+"/")+U)),X.push(xe)),1;if(Fe=0,Se=Se===""?".":Se+":",ee(U))for(var Me=0;Me<U.length;Me++){Pe=U[Me];var qe=Se+A(Pe,Me);Fe+=Be(Pe,X,me,qe,xe)}else if(qe=S(U),typeof qe=="function")for(U=qe.call(U),Me=0;!(Pe=U.next()).done;)Pe=Pe.value,qe=Se+A(Pe,Me++),Fe+=Be(Pe,X,me,qe,xe);else if(Pe==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Fe}function ft(U,X,me){if(U==null)return U;var Se=[],xe=0;return Be(U,Se,"","",function(Pe){return X.call(me,Pe,xe++)}),Se}function dt(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var Oe={current:null},re={transition:null},ye={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:re,ReactCurrentOwner:oe};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:ft,forEach:function(U,X,me){ft(U,function(){X.apply(this,arguments)},me)},count:function(U){var X=0;return ft(U,function(){X++}),X},toArray:function(U){return ft(U,function(X){return X})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ce.Component=V,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=z,Ce.StrictMode=s,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ce.act=le,Ce.cloneElement=function(U,X,me){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Se=L({},U.props),xe=U.key,Pe=U.ref,Fe=U._owner;if(X!=null){if(X.ref!==void 0&&(Pe=X.ref,Fe=oe.current),X.key!==void 0&&(xe=""+X.key),U.type&&U.type.defaultProps)var Me=U.type.defaultProps;for(qe in X)se.call(X,qe)&&!k.hasOwnProperty(qe)&&(Se[qe]=X[qe]===void 0&&Me!==void 0?Me[qe]:X[qe])}var qe=arguments.length-2;if(qe===1)Se.children=me;else if(1<qe){Me=Array(qe);for(var Et=0;Et<qe;Et++)Me[Et]=arguments[Et+2];Se.children=Me}return{$$typeof:r,type:U.type,key:xe,ref:Pe,props:Se,_owner:Fe}},Ce.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},Ce.createElement=I,Ce.createFactory=function(U){var X=I.bind(null,U);return X.type=U,X},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(U){return{$$typeof:d,render:U}},Ce.isValidElement=P,Ce.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:dt}},Ce.memo=function(U,X){return{$$typeof:y,type:U,compare:X===void 0?null:X}},Ce.startTransition=function(U){var X=re.transition;re.transition={};try{U()}finally{re.transition=X}},Ce.unstable_act=le,Ce.useCallback=function(U,X){return Oe.current.useCallback(U,X)},Ce.useContext=function(U){return Oe.current.useContext(U)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(U){return Oe.current.useDeferredValue(U)},Ce.useEffect=function(U,X){return Oe.current.useEffect(U,X)},Ce.useId=function(){return Oe.current.useId()},Ce.useImperativeHandle=function(U,X,me){return Oe.current.useImperativeHandle(U,X,me)},Ce.useInsertionEffect=function(U,X){return Oe.current.useInsertionEffect(U,X)},Ce.useLayoutEffect=function(U,X){return Oe.current.useLayoutEffect(U,X)},Ce.useMemo=function(U,X){return Oe.current.useMemo(U,X)},Ce.useReducer=function(U,X,me){return Oe.current.useReducer(U,X,me)},Ce.useRef=function(U){return Oe.current.useRef(U)},Ce.useState=function(U){return Oe.current.useState(U)},Ce.useSyncExternalStore=function(U,X,me){return Oe.current.useSyncExternalStore(U,X,me)},Ce.useTransition=function(){return Oe.current.useTransition()},Ce.version="18.3.1",Ce}var xm;function bf(){return xm||(xm=1,Mh.exports=_v()),Mh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function vv(){if(Cm)return ya;Cm=1;var r=bf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,y){var v,w={},S=null,N=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(N=p.ref);for(v in p)s.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:d,key:S,ref:N,props:w,_owner:o.current}}return ya.Fragment=t,ya.jsx=h,ya.jsxs=h,ya}var Am;function Ev(){return Am||(Am=1,Fh.exports=vv()),Fh.exports}var M=Ev(),H=bf();const Xe=Kg(H);var uu={},jh={exports:{}},Jt={},zh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function wv(){return km||(km=1,function(r){function e(re,ye){var le=re.length;re.push(ye);e:for(;0<le;){var U=le-1>>>1,X=re[U];if(0<o(X,ye))re[U]=ye,re[le]=X,le=U;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ye=re[0],le=re.pop();if(le!==ye){re[0]=le;e:for(var U=0,X=re.length,me=X>>>1;U<me;){var Se=2*(U+1)-1,xe=re[Se],Pe=Se+1,Fe=re[Pe];if(0>o(xe,le))Pe<X&&0>o(Fe,xe)?(re[U]=Fe,re[Pe]=le,U=Pe):(re[U]=xe,re[Se]=le,U=Se);else if(Pe<X&&0>o(Fe,le))re[U]=Fe,re[Pe]=le,U=Pe;else break e}}return ye}function o(re,ye){var le=re.sortIndex-ye.sortIndex;return le!==0?le:re.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],y=[],v=1,w=null,S=3,N=!1,L=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(re){for(var ye=t(y);ye!==null;){if(ye.callback===null)s(y);else if(ye.startTime<=re)s(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(y)}}function ee(re){if(j=!1,K(re),!L)if(t(p)!==null)L=!0,dt(se);else{var ye=t(y);ye!==null&&Oe(ee,ye.startTime-re)}}function se(re,ye){L=!1,j&&(j=!1,O(I),I=-1),N=!0;var le=S;try{for(K(ye),w=t(p);w!==null&&(!(w.expirationTime>ye)||re&&!R());){var U=w.callback;if(typeof U=="function"){w.callback=null,S=w.priorityLevel;var X=U(w.expirationTime<=ye);ye=r.unstable_now(),typeof X=="function"?w.callback=X:w===t(p)&&s(p),K(ye)}else s(p);w=t(p)}if(w!==null)var me=!0;else{var Se=t(y);Se!==null&&Oe(ee,Se.startTime-ye),me=!1}return me}finally{w=null,S=le,N=!1}}var oe=!1,k=null,I=-1,x=5,P=-1;function R(){return!(r.unstable_now()-P<x)}function F(){if(k!==null){var re=r.unstable_now();P=re;var ye=!0;try{ye=k(!0,re)}finally{ye?A():(oe=!1,k=null)}}else oe=!1}var A;if(typeof z=="function")A=function(){z(F)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,ft=Be.port2;Be.port1.onmessage=F,A=function(){ft.postMessage(null)}}else A=function(){V(F,0)};function dt(re){k=re,oe||(oe=!0,A())}function Oe(re,ye){I=V(function(){re(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){L||N||(L=!0,dt(se))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(re){switch(S){case 1:case 2:case 3:var ye=3;break;default:ye=S}var le=S;S=ye;try{return re()}finally{S=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=S;S=re;try{return ye()}finally{S=le}},r.unstable_scheduleCallback=function(re,ye,le){var U=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,re={id:v++,callback:ye,priorityLevel:re,startTime:le,expirationTime:X,sortIndex:-1},le>U?(re.sortIndex=le,e(y,re),t(p)===null&&re===t(y)&&(j?(O(I),I=-1):j=!0,Oe(ee,le-U))):(re.sortIndex=X,e(p,re),L||N||(L=!0,dt(se))),re},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(re){var ye=S;return function(){var le=S;S=ye;try{return re.apply(this,arguments)}finally{S=le}}}}(Uh)),Uh}var Rm;function Tv(){return Rm||(Rm=1,zh.exports=wv()),zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function Iv(){if(Pm)return Jt;Pm=1;var r=bf(),e=Tv();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function S(n){return p.call(w,n)?!0:p.call(v,n)?!1:y.test(n)?w[n]=!0:(v[n]=!0,!1)}function N(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function L(n,i,a,c){if(i===null||typeof i>"u"||N(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(n,i,a,c,f,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){V[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];V[i]=new j(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){V[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){V[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){V[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){V[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){V[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){V[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){V[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function z(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(O,z);V[i]=new j(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(O,z);V[i]=new j(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(O,z);V[i]=new j(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){V[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),V.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){V[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function K(n,i,a,c){var f=V.hasOwnProperty(i)?V[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(L(i,a,f,c)&&(a=null),c||f===null?S(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),oe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),re=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var le=Object.assign,U;function X(n){if(U===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+n}var me=!1;function Se(n,i){if(!n||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(n,[],i)}else{try{i.call()}catch(W){c=W}n.call(i.prototype)}else{try{throw Error()}catch(W){c=W}n()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=c.stack.split(`
`),E=f.length-1,C=g.length-1;1<=E&&0<=C&&f[E]!==g[C];)C--;for(;1<=E&&0<=C;E--,C--)if(f[E]!==g[C]){if(E!==1||C!==1)do if(E--,C--,0>C||f[E]!==g[C]){var b=`
`+f[E].replace(" at new "," at ");return n.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",n.displayName)),b}while(1<=E&&0<=C);break}}}finally{me=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?X(n):""}function xe(n){switch(n.tag){case 5:return X(n.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return n=Se(n.type,!1),n;case 11:return n=Se(n.type.render,!1),n;case 1:return n=Se(n.type,!0),n;default:return""}}function Pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case oe:return"Portal";case x:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case Be:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case R:return(n.displayName||"Context")+".Consumer";case P:return(n._context.displayName||"Context")+".Provider";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ft:return i=n.displayName||null,i!==null?i:Pe(n.type)||"Memo";case dt:i=n._payload,n=n._init;try{return Pe(n(i))}catch{}}return null}function Fe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Et(n){var i=qe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ar(n){n._valueTracker||(n._valueTracker=Et(n))}function is(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=qe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Vr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function _i(n,i){var a=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ss(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Io(n,i){i=i.checked,i!=null&&K(n,"checked",i,!1)}function So(n,i){Io(n,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?os(n,i.type,a):i.hasOwnProperty("defaultValue")&&os(n,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ka(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function os(n,i,a){(i!=="number"||Vr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var lr=Array.isArray;function ur(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function xo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function as(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(lr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Me(a)}}function ls(n,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Co(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function pt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?pt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var cr,Ao=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=cr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Or(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ei=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(n){Ei.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),vi[i]=vi[n]})});function ko(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||vi.hasOwnProperty(n)&&vi[n]?(""+i).trim():i+"px"}function Ro(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=ko(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var Po=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function No(n,i){if(i){if(Po[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function bo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function us(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var cs=null,hn=null,Un=null;function hs(n){if(n=na(n)){if(typeof cs!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Sl(i),cs(n.stateNode,n.type,i))}}function $n(n){hn?Un?Un.push(n):Un=[n]:hn=n}function Do(){if(hn){var n=hn,i=Un;if(Un=hn=null,hs(n),i)for(n=0;n<i.length;n++)hs(i[n])}}function Ti(n,i){return n(i)}function Vo(){}var hr=!1;function Oo(n,i,a){if(hr)return n(i,a);hr=!0;try{return Ti(n,i,a)}finally{hr=!1,(hn!==null||Un!==null)&&(Vo(),Do())}}function it(n,i){var a=n.stateNode;if(a===null)return null;var c=Sl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var fs=!1;if(d)try{var In={};Object.defineProperty(In,"passive",{get:function(){fs=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{fs=!1}function Ii(n,i,a,c,f,g,E,C,b){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(Z){this.onError(Z)}}var Si=!1,ds=null,Sn=!1,Lo=null,hc={onError:function(n){Si=!0,ds=n}};function ps(n,i,a,c,f,g,E,C,b){Si=!1,ds=null,Ii.apply(hc,arguments)}function Ga(n,i,a,c,f,g,E,C,b){if(ps.apply(this,arguments),Si){if(Si){var W=ds;Si=!1,ds=null}else throw Error(t(198));Sn||(Sn=!0,Lo=W)}}function xn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function xi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Cn(n){if(xn(n)!==n)throw Error(t(188))}function Xa(n){var i=n.alternate;if(!i){if(i=xn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Cn(f),n;if(g===c)return Cn(f),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var E=!1,C=f.child;C;){if(C===a){E=!0,a=f,c=g;break}if(C===c){E=!0,c=f,a=g;break}C=C.sibling}if(!E){for(C=g.child;C;){if(C===a){E=!0,a=g,c=f;break}if(C===c){E=!0,c=g,a=f;break}C=C.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Fo(n){return n=Xa(n),n!==null?ms(n):null}function ms(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ms(n);if(i!==null)return i;n=n.sibling}return null}var gs=e.unstable_scheduleCallback,Mo=e.unstable_cancelCallback,Ya=e.unstable_shouldYield,fc=e.unstable_requestPaint,He=e.unstable_now,Ja=e.unstable_getCurrentPriorityLevel,Ci=e.unstable_ImmediatePriority,Lr=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,jo=e.unstable_LowPriority,Za=e.unstable_IdlePriority,Ai=null,nn=null;function el(n){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ai,n,void 0,(n.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:nl,zo=Math.log,tl=Math.LN2;function nl(n){return n>>>=0,n===0?32:31-(zo(n)/tl|0)|0}var ys=64,_s=4194304;function Fr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ki(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,g=n.pingedLanes,E=a&268435455;if(E!==0){var C=E&~f;C!==0?c=Fr(C):(g&=E,g!==0&&(c=Fr(g)))}else E=a&~f,E!==0?c=Fr(E):g!==0&&(c=Fr(g));if(c===0)return 0;if(i!==0&&i!==c&&!(i&f)&&(f=c&-c,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-zt(i),f=1<<a,c|=n[a],i&=~f;return c}function dc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var E=31-zt(g),C=1<<E,b=f[E];b===-1?(!(C&a)||C&c)&&(f[E]=dc(C,i)):b<=i&&(n.expiredLanes|=C),g&=~C}}function rn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ri(){var n=ys;return ys<<=1,!(ys&4194240)&&(ys=64),n}function Mr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function jr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-zt(i),n[i]=a}function $e(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-zt(a),g=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~g}}function zr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-zt(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var ke=0;function Ur(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var rl,vs,il,sl,ol,Uo=!1,Bn=[],Ct=null,An=null,kn=null,$r=new Map,dn=new Map,qn=[],pc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function al(n,i){switch(n){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":$r.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(i.pointerId)}}function Ht(n,i,a,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},i!==null&&(i=na(i),i!==null&&vs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function mc(n,i,a,c,f){switch(i){case"focusin":return Ct=Ht(Ct,n,i,a,c,f),!0;case"dragenter":return An=Ht(An,n,i,a,c,f),!0;case"mouseover":return kn=Ht(kn,n,i,a,c,f),!0;case"pointerover":var g=f.pointerId;return $r.set(g,Ht($r.get(g)||null,n,i,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,dn.set(g,Ht(dn.get(g)||null,n,i,a,c,f)),!0}return!1}function ll(n){var i=Vi(n.target);if(i!==null){var a=xn(i);if(a!==null){if(i=a.tag,i===13){if(i=xi(a),i!==null){n.blockedOn=i,ol(n.priority,function(){il(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Es(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);wi=c,a.target.dispatchEvent(c),wi=null}else return i=na(a),i!==null&&vs(i),n.blockedOn=a,!1;i.shift()}return!0}function Pi(n,i,a){dr(n)&&a.delete(i)}function ul(){Uo=!1,Ct!==null&&dr(Ct)&&(Ct=null),An!==null&&dr(An)&&(An=null),kn!==null&&dr(kn)&&(kn=null),$r.forEach(Pi),dn.forEach(Pi)}function Rn(n,i){n.blockedOn===i&&(n.blockedOn=null,Uo||(Uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ul)))}function Pn(n){function i(f){return Rn(f,n)}if(0<Bn.length){Rn(Bn[0],n);for(var a=1;a<Bn.length;a++){var c=Bn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Ct!==null&&Rn(Ct,n),An!==null&&Rn(An,n),kn!==null&&Rn(kn,n),$r.forEach(i),dn.forEach(i),a=0;a<qn.length;a++)c=qn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)ll(a),a.blockedOn===null&&qn.shift()}var pr=ee.ReactCurrentBatchConfig,Br=!0;function Ye(n,i,a,c){var f=ke,g=pr.transition;pr.transition=null;try{ke=1,$o(n,i,a,c)}finally{ke=f,pr.transition=g}}function gc(n,i,a,c){var f=ke,g=pr.transition;pr.transition=null;try{ke=4,$o(n,i,a,c)}finally{ke=f,pr.transition=g}}function $o(n,i,a,c){if(Br){var f=Es(n,i,a,c);if(f===null)Ac(n,i,c,Ni,a),al(n,c);else if(mc(f,n,i,a,c))c.stopPropagation();else if(al(n,c),i&4&&-1<pc.indexOf(n)){for(;f!==null;){var g=na(f);if(g!==null&&rl(g),g=Es(n,i,a,c),g===null&&Ac(n,i,c,Ni,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Ac(n,i,c,null,a)}}var Ni=null;function Es(n,i,a,c){if(Ni=null,n=us(c),n=Vi(n),n!==null)if(i=xn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=xi(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ni=n,null}function Bo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ja()){case Ci:return 1;case Lr:return 4;case fn:case jo:return 16;case Za:return 536870912;default:return 16}default:return 16}}var sn=null,ws=null,Wt=null;function qo(){if(Wt)return Wt;var n,i=ws,a=i.length,c,f="value"in sn?sn.value:sn.textContent,g=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(c=1;c<=E&&i[a-c]===f[g-c];c++);return Wt=f.slice(n,1<c?1-c:void 0)}function Ts(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Hn(){return!0}function Ho(){return!1}function At(n){function i(a,c,f,g,E){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Hn:Ho,this.isPropagationStopped=Ho,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),i}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=At(Nn),Wn=le({},Nn,{view:0,detail:0}),yc=At(Wn),Ss,mr,qr,bi=le({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qr&&(qr&&n.type==="mousemove"?(Ss=n.screenX-qr.screenX,mr=n.screenY-qr.screenY):mr=Ss=0,qr=n),Ss)},movementY:function(n){return"movementY"in n?n.movementY:mr}}),xs=At(bi),Wo=le({},bi,{dataTransfer:0}),cl=At(Wo),Cs=le({},Wn,{relatedTarget:0}),As=At(Cs),hl=le({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),gr=At(hl),fl=le({},Nn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dl=At(fl),pl=le({},Nn,{data:0}),Qo=At(pl),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ml[n])?!!i[n]:!1}function Qn(){return gl}var u=le({},Wn,{key:function(n){if(n.key){var i=ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ts(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ut[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(n){return n.type==="keypress"?Ts(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ts(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=At(u),_=le({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=At(_),$=le({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),Q=At($),ie=le({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=At(ie),gt=le({},bi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=At(gt),wt=[9,13,27,32],at=d&&"CompositionEvent"in window,pn=null;d&&"documentMode"in document&&(pn=document.documentMode);var on=d&&"TextEvent"in window&&!pn,Di=d&&(!at||pn&&8<pn&&11>=pn),Rs=" ",_d=!1;function vd(n,i){switch(n){case"keyup":return wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ps=!1;function m0(n,i){switch(n){case"compositionend":return Ed(i);case"keypress":return i.which!==32?null:(_d=!0,Rs);case"textInput":return n=i.data,n===Rs&&_d?null:n;default:return null}}function g0(n,i){if(Ps)return n==="compositionend"||!at&&vd(n,i)?(n=qo(),Wt=ws=sn=null,Ps=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!y0[n.type]:i==="textarea"}function Td(n,i,a,c){$n(c),i=wl(i,"onChange"),0<i.length&&(a=new Is("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Ko=null,Go=null;function _0(n){zd(n,0)}function yl(n){var i=Os(n);if(is(i))return n}function v0(n,i){if(n==="change")return i}var Id=!1;if(d){var _c;if(d){var vc="oninput"in document;if(!vc){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),vc=typeof Sd.oninput=="function"}_c=vc}else _c=!1;Id=_c&&(!document.documentMode||9<document.documentMode)}function xd(){Ko&&(Ko.detachEvent("onpropertychange",Cd),Go=Ko=null)}function Cd(n){if(n.propertyName==="value"&&yl(Go)){var i=[];Td(i,Go,n,us(n)),Oo(_0,i)}}function E0(n,i,a){n==="focusin"?(xd(),Ko=i,Go=a,Ko.attachEvent("onpropertychange",Cd)):n==="focusout"&&xd()}function w0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yl(Go)}function T0(n,i){if(n==="click")return yl(i)}function I0(n,i){if(n==="input"||n==="change")return yl(i)}function S0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var bn=typeof Object.is=="function"?Object.is:S0;function Xo(n,i){if(bn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!p.call(i,f)||!bn(n[f],i[f]))return!1}return!0}function Ad(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kd(n,i){var a=Ad(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ad(a)}}function Rd(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Rd(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Pd(){for(var n=window,i=Vr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Vr(n.document)}return i}function Ec(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function x0(n){var i=Pd(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Rd(a.ownerDocument.documentElement,a)){if(c!==null&&Ec(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!n.extend&&g>c&&(f=c,c=g,g=f),f=kd(a,g);var E=kd(a,c);f&&E&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),g>c?(n.addRange(i),n.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var C0=d&&"documentMode"in document&&11>=document.documentMode,Ns=null,wc=null,Yo=null,Tc=!1;function Nd(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tc||Ns==null||Ns!==Vr(c)||(c=Ns,"selectionStart"in c&&Ec(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yo&&Xo(Yo,c)||(Yo=c,c=wl(wc,"onSelect"),0<c.length&&(i=new Is("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Ns)))}function _l(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var bs={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},Ic={},bd={};d&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function vl(n){if(Ic[n])return Ic[n];if(!bs[n])return n;var i=bs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in bd)return Ic[n]=i[a];return n}var Dd=vl("animationend"),Vd=vl("animationiteration"),Od=vl("animationstart"),Ld=vl("transitionend"),Fd=new Map,Md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(n,i){Fd.set(n,i),l(i,[n])}for(var Sc=0;Sc<Md.length;Sc++){var xc=Md[Sc],A0=xc.toLowerCase(),k0=xc[0].toUpperCase()+xc.slice(1);Hr(A0,"on"+k0)}Hr(Dd,"onAnimationEnd"),Hr(Vd,"onAnimationIteration"),Hr(Od,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(Ld,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function jd(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Ga(c,i,void 0,n),n.currentTarget=null}function zd(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var E=c.length-1;0<=E;E--){var C=c[E],b=C.instance,W=C.currentTarget;if(C=C.listener,b!==g&&f.isPropagationStopped())break e;jd(f,C,W),g=b}else for(E=0;E<c.length;E++){if(C=c[E],b=C.instance,W=C.currentTarget,C=C.listener,b!==g&&f.isPropagationStopped())break e;jd(f,C,W),g=b}}}if(Sn)throw n=Lo,Sn=!1,Lo=null,n}function Qe(n,i){var a=i[Dc];a===void 0&&(a=i[Dc]=new Set);var c=n+"__bubble";a.has(c)||(Ud(i,n,2,!1),a.add(c))}function Cc(n,i,a){var c=0;i&&(c|=4),Ud(a,n,c,i)}var El="_reactListening"+Math.random().toString(36).slice(2);function Zo(n){if(!n[El]){n[El]=!0,s.forEach(function(a){a!=="selectionchange"&&(R0.has(a)||Cc(a,!1,n),Cc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[El]||(i[El]=!0,Cc("selectionchange",!1,i))}}function Ud(n,i,a,c){switch(Bo(i)){case 1:var f=Ye;break;case 4:f=gc;break;default:f=$o}a=f.bind(null,i,a,n),f=void 0,!fs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Ac(n,i,a,c,f){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(E===4)for(E=c.return;E!==null;){var b=E.tag;if((b===3||b===4)&&(b=E.stateNode.containerInfo,b===f||b.nodeType===8&&b.parentNode===f))return;E=E.return}for(;C!==null;){if(E=Vi(C),E===null)return;if(b=E.tag,b===5||b===6){c=g=E;continue e}C=C.parentNode}}c=c.return}Oo(function(){var W=g,Z=us(a),te=[];e:{var J=Fd.get(n);if(J!==void 0){var ae=Is,fe=n;switch(n){case"keypress":if(Ts(a)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":fe="focus",ae=As;break;case"focusout":fe="blur",ae=As;break;case"beforeblur":case"afterblur":ae=As;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Q;break;case Dd:case Vd:case Od:ae=gr;break;case Ld:ae=ze;break;case"scroll":ae=yc;break;case"wheel":ae=Ne;break;case"copy":case"cut":case"paste":ae=dl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=T}var de=(i&4)!==0,st=!de&&n==="scroll",B=de?J!==null?J+"Capture":null:J;de=[];for(var D=W,q;D!==null;){q=D;var ne=q.stateNode;if(q.tag===5&&ne!==null&&(q=ne,B!==null&&(ne=it(D,B),ne!=null&&de.push(ea(D,ne,q)))),st)break;D=D.return}0<de.length&&(J=new ae(J,fe,null,a,Z),te.push({event:J,listeners:de}))}}if(!(i&7)){e:{if(J=n==="mouseover"||n==="pointerover",ae=n==="mouseout"||n==="pointerout",J&&a!==wi&&(fe=a.relatedTarget||a.fromElement)&&(Vi(fe)||fe[yr]))break e;if((ae||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(fe=a.relatedTarget||a.toElement,ae=W,fe=fe?Vi(fe):null,fe!==null&&(st=xn(fe),fe!==st||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ae=null,fe=W),ae!==fe)){if(de=xs,ne="onMouseLeave",B="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(de=T,ne="onPointerLeave",B="onPointerEnter",D="pointer"),st=ae==null?J:Os(ae),q=fe==null?J:Os(fe),J=new de(ne,D+"leave",ae,a,Z),J.target=st,J.relatedTarget=q,ne=null,Vi(Z)===W&&(de=new de(B,D+"enter",fe,a,Z),de.target=q,de.relatedTarget=st,ne=de),st=ne,ae&&fe)t:{for(de=ae,B=fe,D=0,q=de;q;q=Ds(q))D++;for(q=0,ne=B;ne;ne=Ds(ne))q++;for(;0<D-q;)de=Ds(de),D--;for(;0<q-D;)B=Ds(B),q--;for(;D--;){if(de===B||B!==null&&de===B.alternate)break t;de=Ds(de),B=Ds(B)}de=null}else de=null;ae!==null&&$d(te,J,ae,de,!1),fe!==null&&st!==null&&$d(te,st,fe,de,!0)}}e:{if(J=W?Os(W):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var pe=v0;else if(wd(J))if(Id)pe=I0;else{pe=w0;var _e=E0}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=T0);if(pe&&(pe=pe(n,W))){Td(te,pe,a,Z);break e}_e&&_e(n,J,W),n==="focusout"&&(_e=J._wrapperState)&&_e.controlled&&J.type==="number"&&os(J,"number",J.value)}switch(_e=W?Os(W):window,n){case"focusin":(wd(_e)||_e.contentEditable==="true")&&(Ns=_e,wc=W,Yo=null);break;case"focusout":Yo=wc=Ns=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Nd(te,a,Z);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":Nd(te,a,Z)}var ve;if(at)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ps?vd(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Di&&a.locale!=="ko"&&(Ps||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ps&&(ve=qo()):(sn=Z,ws="value"in sn?sn.value:sn.textContent,Ps=!0)),_e=wl(W,Ee),0<_e.length&&(Ee=new Qo(Ee,n,null,a,Z),te.push({event:Ee,listeners:_e}),ve?Ee.data=ve:(ve=Ed(a),ve!==null&&(Ee.data=ve)))),(ve=on?m0(n,a):g0(n,a))&&(W=wl(W,"onBeforeInput"),0<W.length&&(Z=new Qo("onBeforeInput","beforeinput",null,a,Z),te.push({event:Z,listeners:W}),Z.data=ve))}zd(te,i)})}function ea(n,i,a){return{instance:n,listener:i,currentTarget:a}}function wl(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=it(n,a),g!=null&&c.unshift(ea(n,g,f)),g=it(n,i),g!=null&&c.push(ea(n,g,f))),n=n.return}return c}function Ds(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $d(n,i,a,c,f){for(var g=i._reactName,E=[];a!==null&&a!==c;){var C=a,b=C.alternate,W=C.stateNode;if(b!==null&&b===c)break;C.tag===5&&W!==null&&(C=W,f?(b=it(a,g),b!=null&&E.unshift(ea(a,b,C))):f||(b=it(a,g),b!=null&&E.push(ea(a,b,C)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var P0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function Bd(n){return(typeof n=="string"?n:""+n).replace(P0,`
`).replace(N0,"")}function Tl(n,i,a){if(i=Bd(i),Bd(n)!==i&&a)throw Error(t(425))}function Il(){}var kc=null,Rc=null;function Pc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nc=typeof setTimeout=="function"?setTimeout:void 0,b0=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(n){return qd.resolve(null).then(n).catch(V0)}:Nc;function V0(n){setTimeout(function(){throw n})}function bc(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Pn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Pn(i)}function Wr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Hd(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Vs,ta="__reactProps$"+Vs,yr="__reactContainer$"+Vs,Dc="__reactEvents$"+Vs,O0="__reactListeners$"+Vs,L0="__reactHandles$"+Vs;function Vi(n){var i=n[Kn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[yr]||a[Kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Hd(n);n!==null;){if(a=n[Kn])return a;n=Hd(n)}return i}n=a,a=n.parentNode}return null}function na(n){return n=n[Kn]||n[yr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Os(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Sl(n){return n[ta]||null}var Vc=[],Ls=-1;function Qr(n){return{current:n}}function Ke(n){0>Ls||(n.current=Vc[Ls],Vc[Ls]=null,Ls--)}function We(n,i){Ls++,Vc[Ls]=n.current,n.current=i}var Kr={},Dt=Qr(Kr),Qt=Qr(!1),Oi=Kr;function Fs(n,i){var a=n.type.contextTypes;if(!a)return Kr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Kt(n){return n=n.childContextTypes,n!=null}function xl(){Ke(Qt),Ke(Dt)}function Wd(n,i,a){if(Dt.current!==Kr)throw Error(t(168));We(Dt,i),We(Qt,a)}function Qd(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Fe(n)||"Unknown",f));return le({},a,c)}function Cl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Kr,Oi=Dt.current,We(Dt,n),We(Qt,Qt.current),!0}function Kd(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Qd(n,i,Oi),c.__reactInternalMemoizedMergedChildContext=n,Ke(Qt),Ke(Dt),We(Dt,n)):Ke(Qt),We(Qt,a)}var _r=null,Al=!1,Oc=!1;function Gd(n){_r===null?_r=[n]:_r.push(n)}function F0(n){Al=!0,Gd(n)}function Gr(){if(!Oc&&_r!==null){Oc=!0;var n=0,i=ke;try{var a=_r;for(ke=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}_r=null,Al=!1}catch(f){throw _r!==null&&(_r=_r.slice(n+1)),gs(Ci,Gr),f}finally{ke=i,Oc=!1}}return null}var Ms=[],js=0,kl=null,Rl=0,mn=[],gn=0,Li=null,vr=1,Er="";function Fi(n,i){Ms[js++]=Rl,Ms[js++]=kl,kl=n,Rl=i}function Xd(n,i,a){mn[gn++]=vr,mn[gn++]=Er,mn[gn++]=Li,Li=n;var c=vr;n=Er;var f=32-zt(c)-1;c&=~(1<<f),a+=1;var g=32-zt(i)+f;if(30<g){var E=f-f%5;g=(c&(1<<E)-1).toString(32),c>>=E,f-=E,vr=1<<32-zt(i)+f|a<<f|c,Er=g+n}else vr=1<<g|a<<f|c,Er=n}function Lc(n){n.return!==null&&(Fi(n,1),Xd(n,1,0))}function Fc(n){for(;n===kl;)kl=Ms[--js],Ms[js]=null,Rl=Ms[--js],Ms[js]=null;for(;n===Li;)Li=mn[--gn],mn[gn]=null,Er=mn[--gn],mn[gn]=null,vr=mn[--gn],mn[gn]=null}var an=null,ln=null,Je=!1,Dn=null;function Yd(n,i){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Jd(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,an=n,ln=Wr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,an=n,ln=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Li!==null?{id:vr,overflow:Er}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,an=n,ln=null,!0):!1;default:return!1}}function Mc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function jc(n){if(Je){var i=ln;if(i){var a=i;if(!Jd(n,i)){if(Mc(n))throw Error(t(418));i=Wr(a.nextSibling);var c=an;i&&Jd(n,i)?Yd(c,a):(n.flags=n.flags&-4097|2,Je=!1,an=n)}}else{if(Mc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Je=!1,an=n}}}function Zd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function Pl(n){if(n!==an)return!1;if(!Je)return Zd(n),Je=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Pc(n.type,n.memoizedProps)),i&&(i=ln)){if(Mc(n))throw ep(),Error(t(418));for(;i;)Yd(n,i),i=Wr(i.nextSibling)}if(Zd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){ln=Wr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}ln=null}}else ln=an?Wr(n.stateNode.nextSibling):null;return!0}function ep(){for(var n=ln;n;)n=Wr(n.nextSibling)}function zs(){ln=an=null,Je=!1}function zc(n){Dn===null?Dn=[n]:Dn.push(n)}var M0=ee.ReactCurrentBatchConfig;function ra(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var C=f.refs;E===null?delete C[g]:C[g]=E},i._stringRef=g,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Nl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function tp(n){var i=n._init;return i(n._payload)}function np(n){function i(B,D){if(n){var q=B.deletions;q===null?(B.deletions=[D],B.flags|=16):q.push(D)}}function a(B,D){if(!n)return null;for(;D!==null;)i(B,D),D=D.sibling;return null}function c(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function f(B,D){return B=ri(B,D),B.index=0,B.sibling=null,B}function g(B,D,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<D?(B.flags|=2,D):q):(B.flags|=2,D)):(B.flags|=1048576,D)}function E(B){return n&&B.alternate===null&&(B.flags|=2),B}function C(B,D,q,ne){return D===null||D.tag!==6?(D=Nh(q,B.mode,ne),D.return=B,D):(D=f(D,q),D.return=B,D)}function b(B,D,q,ne){var pe=q.type;return pe===k?Z(B,D,q.props.children,ne,q.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===dt&&tp(pe)===D.type)?(ne=f(D,q.props),ne.ref=ra(B,D,q),ne.return=B,ne):(ne=tu(q.type,q.key,q.props,null,B.mode,ne),ne.ref=ra(B,D,q),ne.return=B,ne)}function W(B,D,q,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=bh(q,B.mode,ne),D.return=B,D):(D=f(D,q.children||[]),D.return=B,D)}function Z(B,D,q,ne,pe){return D===null||D.tag!==7?(D=Hi(q,B.mode,ne,pe),D.return=B,D):(D=f(D,q),D.return=B,D)}function te(B,D,q){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Nh(""+D,B.mode,q),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case se:return q=tu(D.type,D.key,D.props,null,B.mode,q),q.ref=ra(B,null,D),q.return=B,q;case oe:return D=bh(D,B.mode,q),D.return=B,D;case dt:var ne=D._init;return te(B,ne(D._payload),q)}if(lr(D)||ye(D))return D=Hi(D,B.mode,q,null),D.return=B,D;Nl(B,D)}return null}function J(B,D,q,ne){var pe=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return pe!==null?null:C(B,D,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case se:return q.key===pe?b(B,D,q,ne):null;case oe:return q.key===pe?W(B,D,q,ne):null;case dt:return pe=q._init,J(B,D,pe(q._payload),ne)}if(lr(q)||ye(q))return pe!==null?null:Z(B,D,q,ne,null);Nl(B,q)}return null}function ae(B,D,q,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return B=B.get(q)||null,C(D,B,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case se:return B=B.get(ne.key===null?q:ne.key)||null,b(D,B,ne,pe);case oe:return B=B.get(ne.key===null?q:ne.key)||null,W(D,B,ne,pe);case dt:var _e=ne._init;return ae(B,D,q,_e(ne._payload),pe)}if(lr(ne)||ye(ne))return B=B.get(q)||null,Z(D,B,ne,pe,null);Nl(D,ne)}return null}function fe(B,D,q,ne){for(var pe=null,_e=null,ve=D,Ee=D=0,St=null;ve!==null&&Ee<q.length;Ee++){ve.index>Ee?(St=ve,ve=null):St=ve.sibling;var Le=J(B,ve,q[Ee],ne);if(Le===null){ve===null&&(ve=St);break}n&&ve&&Le.alternate===null&&i(B,ve),D=g(Le,D,Ee),_e===null?pe=Le:_e.sibling=Le,_e=Le,ve=St}if(Ee===q.length)return a(B,ve),Je&&Fi(B,Ee),pe;if(ve===null){for(;Ee<q.length;Ee++)ve=te(B,q[Ee],ne),ve!==null&&(D=g(ve,D,Ee),_e===null?pe=ve:_e.sibling=ve,_e=ve);return Je&&Fi(B,Ee),pe}for(ve=c(B,ve);Ee<q.length;Ee++)St=ae(ve,B,Ee,q[Ee],ne),St!==null&&(n&&St.alternate!==null&&ve.delete(St.key===null?Ee:St.key),D=g(St,D,Ee),_e===null?pe=St:_e.sibling=St,_e=St);return n&&ve.forEach(function(ii){return i(B,ii)}),Je&&Fi(B,Ee),pe}function de(B,D,q,ne){var pe=ye(q);if(typeof pe!="function")throw Error(t(150));if(q=pe.call(q),q==null)throw Error(t(151));for(var _e=pe=null,ve=D,Ee=D=0,St=null,Le=q.next();ve!==null&&!Le.done;Ee++,Le=q.next()){ve.index>Ee?(St=ve,ve=null):St=ve.sibling;var ii=J(B,ve,Le.value,ne);if(ii===null){ve===null&&(ve=St);break}n&&ve&&ii.alternate===null&&i(B,ve),D=g(ii,D,Ee),_e===null?pe=ii:_e.sibling=ii,_e=ii,ve=St}if(Le.done)return a(B,ve),Je&&Fi(B,Ee),pe;if(ve===null){for(;!Le.done;Ee++,Le=q.next())Le=te(B,Le.value,ne),Le!==null&&(D=g(Le,D,Ee),_e===null?pe=Le:_e.sibling=Le,_e=Le);return Je&&Fi(B,Ee),pe}for(ve=c(B,ve);!Le.done;Ee++,Le=q.next())Le=ae(ve,B,Ee,Le.value,ne),Le!==null&&(n&&Le.alternate!==null&&ve.delete(Le.key===null?Ee:Le.key),D=g(Le,D,Ee),_e===null?pe=Le:_e.sibling=Le,_e=Le);return n&&ve.forEach(function(yv){return i(B,yv)}),Je&&Fi(B,Ee),pe}function st(B,D,q,ne){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case se:e:{for(var pe=q.key,_e=D;_e!==null;){if(_e.key===pe){if(pe=q.type,pe===k){if(_e.tag===7){a(B,_e.sibling),D=f(_e,q.props.children),D.return=B,B=D;break e}}else if(_e.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===dt&&tp(pe)===_e.type){a(B,_e.sibling),D=f(_e,q.props),D.ref=ra(B,_e,q),D.return=B,B=D;break e}a(B,_e);break}else i(B,_e);_e=_e.sibling}q.type===k?(D=Hi(q.props.children,B.mode,ne,q.key),D.return=B,B=D):(ne=tu(q.type,q.key,q.props,null,B.mode,ne),ne.ref=ra(B,D,q),ne.return=B,B=ne)}return E(B);case oe:e:{for(_e=q.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){a(B,D.sibling),D=f(D,q.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else i(B,D);D=D.sibling}D=bh(q,B.mode,ne),D.return=B,B=D}return E(B);case dt:return _e=q._init,st(B,D,_e(q._payload),ne)}if(lr(q))return fe(B,D,q,ne);if(ye(q))return de(B,D,q,ne);Nl(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,D!==null&&D.tag===6?(a(B,D.sibling),D=f(D,q),D.return=B,B=D):(a(B,D),D=Nh(q,B.mode,ne),D.return=B,B=D),E(B)):a(B,D)}return st}var Us=np(!0),rp=np(!1),bl=Qr(null),Dl=null,$s=null,Uc=null;function $c(){Uc=$s=Dl=null}function Bc(n){var i=bl.current;Ke(bl),n._currentValue=i}function qc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Bs(n,i){Dl=n,Uc=$s=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Gt=!0),n.firstContext=null)}function yn(n){var i=n._currentValue;if(Uc!==n)if(n={context:n,memoizedValue:i,next:null},$s===null){if(Dl===null)throw Error(t(308));$s=n,Dl.dependencies={lanes:0,firstContext:n}}else $s=$s.next=n;return i}var Mi=null;function Hc(n){Mi===null?Mi=[n]:Mi.push(n)}function ip(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Hc(i)):(a.next=f.next,f.next=a),i.interleaved=a,wr(n,c)}function wr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Xr=!1;function Wc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Tr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Yr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Ve&2){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,wr(n,a)}return f=c.interleaved,f===null?(i.next=i,Hc(c)):(i.next=f.next,f.next=i),c.interleaved=i,wr(n,a)}function Vl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,zr(n,a)}}function op(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Ol(n,i,a,c){var f=n.updateQueue;Xr=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var b=C,W=b.next;b.next=null,E===null?g=W:E.next=W,E=b;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==E&&(C===null?Z.firstBaseUpdate=W:C.next=W,Z.lastBaseUpdate=b))}if(g!==null){var te=f.baseState;E=0,Z=W=b=null,C=g;do{var J=C.lane,ae=C.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var fe=n,de=C;switch(J=i,ae=a,de.tag){case 1:if(fe=de.payload,typeof fe=="function"){te=fe.call(ae,te,J);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=de.payload,J=typeof fe=="function"?fe.call(ae,te,J):fe,J==null)break e;te=le({},te,J);break e;case 2:Xr=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,J=f.effects,J===null?f.effects=[C]:J.push(C))}else ae={eventTime:ae,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(W=Z=ae,b=te):Z=Z.next=ae,E|=J;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;J=C,C=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(b=te),f.baseState=b,f.firstBaseUpdate=W,f.lastBaseUpdate=Z,i=f.shared.interleaved,i!==null){f=i;do E|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);Ui|=E,n.lanes=E,n.memoizedState=te}}function ap(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var ia={},Gn=Qr(ia),sa=Qr(ia),oa=Qr(ia);function ji(n){if(n===ia)throw Error(t(174));return n}function Qc(n,i){switch(We(oa,i),We(sa,n),We(Gn,ia),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:mt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=mt(i,n)}Ke(Gn),We(Gn,i)}function qs(){Ke(Gn),Ke(sa),Ke(oa)}function lp(n){ji(oa.current);var i=ji(Gn.current),a=mt(i,n.type);i!==a&&(We(sa,n),We(Gn,a))}function Kc(n){sa.current===n&&(Ke(Gn),Ke(sa))}var Ze=Qr(0);function Ll(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gc=[];function Xc(){for(var n=0;n<Gc.length;n++)Gc[n]._workInProgressVersionPrimary=null;Gc.length=0}var Fl=ee.ReactCurrentDispatcher,Yc=ee.ReactCurrentBatchConfig,zi=0,et=null,yt=null,Tt=null,Ml=!1,aa=!1,la=0,j0=0;function Vt(){throw Error(t(321))}function Jc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!bn(n[a],i[a]))return!1;return!0}function Zc(n,i,a,c,f,g){if(zi=g,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fl.current=n===null||n.memoizedState===null?B0:q0,n=a(c,f),aa){g=0;do{if(aa=!1,la=0,25<=g)throw Error(t(301));g+=1,Tt=yt=null,i.updateQueue=null,Fl.current=H0,n=a(c,f)}while(aa)}if(Fl.current=Ul,i=yt!==null&&yt.next!==null,zi=0,Tt=yt=et=null,Ml=!1,i)throw Error(t(300));return n}function eh(){var n=la!==0;return la=0,n}function Xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function _n(){if(yt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Tt===null?et.memoizedState:Tt.next;if(i!==null)Tt=i,yt=n;else{if(n===null)throw Error(t(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?et.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function ua(n,i){return typeof i=="function"?i(n):i}function th(n){var i=_n(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=yt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var C=E=null,b=null,W=g;do{var Z=W.lane;if((zi&Z)===Z)b!==null&&(b=b.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:n(c,W.action);else{var te={lane:Z,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};b===null?(C=b=te,E=c):b=b.next=te,et.lanes|=Z,Ui|=Z}W=W.next}while(W!==null&&W!==g);b===null?E=c:b.next=C,bn(c,i.memoizedState)||(Gt=!0),i.memoizedState=c,i.baseState=E,i.baseQueue=b,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do g=f.lane,et.lanes|=g,Ui|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function nh(n){var i=_n(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);bn(g,i.memoizedState)||(Gt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function up(){}function cp(n,i){var a=et,c=_n(),f=i(),g=!bn(c.memoizedState,f);if(g&&(c.memoizedState=f,Gt=!0),c=c.queue,rh(dp.bind(null,a,c,n),[n]),c.getSnapshot!==i||g||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,ca(9,fp.bind(null,a,c,f,i),void 0,null),It===null)throw Error(t(349));zi&30||hp(a,i,f)}return f}function hp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function fp(n,i,a,c){i.value=a,i.getSnapshot=c,pp(i)&&mp(n)}function dp(n,i,a){return a(function(){pp(i)&&mp(n)})}function pp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!bn(n,a)}catch{return!0}}function mp(n){var i=wr(n,1);i!==null&&Fn(i,n,1,-1)}function gp(n){var i=Xn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:n},i.queue=n,n=n.dispatch=$0.bind(null,et,n),[i.memoizedState,n]}function ca(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function yp(){return _n().memoizedState}function jl(n,i,a,c){var f=Xn();et.flags|=n,f.memoizedState=ca(1|i,a,void 0,c===void 0?null:c)}function zl(n,i,a,c){var f=_n();c=c===void 0?null:c;var g=void 0;if(yt!==null){var E=yt.memoizedState;if(g=E.destroy,c!==null&&Jc(c,E.deps)){f.memoizedState=ca(i,a,g,c);return}}et.flags|=n,f.memoizedState=ca(1|i,a,g,c)}function _p(n,i){return jl(8390656,8,n,i)}function rh(n,i){return zl(2048,8,n,i)}function vp(n,i){return zl(4,2,n,i)}function Ep(n,i){return zl(4,4,n,i)}function wp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Tp(n,i,a){return a=a!=null?a.concat([n]):null,zl(4,4,wp.bind(null,i,n),a)}function ih(){}function Ip(n,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Jc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Sp(n,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Jc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function xp(n,i,a){return zi&21?(bn(a,i)||(a=Ri(),et.lanes|=a,Ui|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Gt=!0),n.memoizedState=a)}function z0(n,i){var a=ke;ke=a!==0&&4>a?a:4,n(!0);var c=Yc.transition;Yc.transition={};try{n(!1),i()}finally{ke=a,Yc.transition=c}}function Cp(){return _n().memoizedState}function U0(n,i,a){var c=ti(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Ap(n))kp(i,a);else if(a=ip(n,i,a,c),a!==null){var f=Bt();Fn(a,n,c,f),Rp(a,i,c)}}function $0(n,i,a){var c=ti(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ap(n))kp(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,C=g(E,a);if(f.hasEagerState=!0,f.eagerState=C,bn(C,E)){var b=i.interleaved;b===null?(f.next=f,Hc(i)):(f.next=b.next,b.next=f),i.interleaved=f;return}}catch{}finally{}a=ip(n,i,f,c),a!==null&&(f=Bt(),Fn(a,n,c,f),Rp(a,i,c))}}function Ap(n){var i=n.alternate;return n===et||i!==null&&i===et}function kp(n,i){aa=Ml=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Rp(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,zr(n,a)}}var Ul={readContext:yn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},B0={readContext:yn,useCallback:function(n,i){return Xn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:_p,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,jl(4194308,4,wp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return jl(4194308,4,n,i)},useInsertionEffect:function(n,i){return jl(4,2,n,i)},useMemo:function(n,i){var a=Xn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Xn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=U0.bind(null,et,n),[c.memoizedState,n]},useRef:function(n){var i=Xn();return n={current:n},i.memoizedState=n},useState:gp,useDebugValue:ih,useDeferredValue:function(n){return Xn().memoizedState=n},useTransition:function(){var n=gp(!1),i=n[0];return n=z0.bind(null,n[1]),Xn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=et,f=Xn();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));zi&30||hp(c,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,_p(dp.bind(null,c,g,n),[n]),c.flags|=2048,ca(9,fp.bind(null,c,g,a,i),void 0,null),a},useId:function(){var n=Xn(),i=It.identifierPrefix;if(Je){var a=Er,c=vr;a=(c&~(1<<32-zt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=la++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=j0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},q0={readContext:yn,useCallback:Ip,useContext:yn,useEffect:rh,useImperativeHandle:Tp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Sp,useReducer:th,useRef:yp,useState:function(){return th(ua)},useDebugValue:ih,useDeferredValue:function(n){var i=_n();return xp(i,yt.memoizedState,n)},useTransition:function(){var n=th(ua)[0],i=_n().memoizedState;return[n,i]},useMutableSource:up,useSyncExternalStore:cp,useId:Cp,unstable_isNewReconciler:!1},H0={readContext:yn,useCallback:Ip,useContext:yn,useEffect:rh,useImperativeHandle:Tp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Sp,useReducer:nh,useRef:yp,useState:function(){return nh(ua)},useDebugValue:ih,useDeferredValue:function(n){var i=_n();return yt===null?i.memoizedState=n:xp(i,yt.memoizedState,n)},useTransition:function(){var n=nh(ua)[0],i=_n().memoizedState;return[n,i]},useMutableSource:up,useSyncExternalStore:cp,useId:Cp,unstable_isNewReconciler:!1};function Vn(n,i){if(n&&n.defaultProps){i=le({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function sh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:le({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var $l={isMounted:function(n){return(n=n._reactInternals)?xn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Bt(),f=ti(n),g=Tr(c,f);g.payload=i,a!=null&&(g.callback=a),i=Yr(n,g,f),i!==null&&(Fn(i,n,f,c),Vl(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Bt(),f=ti(n),g=Tr(c,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Yr(n,g,f),i!==null&&(Fn(i,n,f,c),Vl(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Bt(),c=ti(n),f=Tr(a,c);f.tag=2,i!=null&&(f.callback=i),i=Yr(n,f,c),i!==null&&(Fn(i,n,c,a),Vl(i,n,c))}};function Pp(n,i,a,c,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,E):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,c)||!Xo(f,g):!0}function Np(n,i,a){var c=!1,f=Kr,g=i.contextType;return typeof g=="object"&&g!==null?g=yn(g):(f=Kt(i)?Oi:Dt.current,c=i.contextTypes,g=(c=c!=null)?Fs(n,f):Kr),i=new i(a,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=$l,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),i}function bp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&$l.enqueueReplaceState(i,i.state,null)}function oh(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Wc(n);var g=i.contextType;typeof g=="object"&&g!==null?f.context=yn(g):(g=Kt(i)?Oi:Dt.current,f.context=Fs(n,g)),f.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(sh(n,i,g,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&$l.enqueueReplaceState(f,f.state,null),Ol(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Hs(n,i){try{var a="",c=i;do a+=xe(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:f,digest:null}}function ah(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function lh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var W0=typeof WeakMap=="function"?WeakMap:Map;function Dp(n,i,a){a=Tr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Gl||(Gl=!0,Ih=c),lh(n,i)},a}function Vp(n,i,a){a=Tr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){lh(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){lh(n,i),typeof c!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function Op(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new W0;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=ov.bind(null,n,i,a),i.then(n,n))}function Lp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Fp(n,i,a,c,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Tr(-1,1),i.tag=2,Yr(a,i,1))),a.lanes|=1),n)}var Q0=ee.ReactCurrentOwner,Gt=!1;function $t(n,i,a,c){i.child=n===null?rp(i,null,a,c):Us(i,n.child,a,c)}function Mp(n,i,a,c,f){a=a.render;var g=i.ref;return Bs(i,f),c=Zc(n,i,a,c,g,f),a=eh(),n!==null&&!Gt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Ir(n,i,f)):(Je&&a&&Lc(i),i.flags|=1,$t(n,i,c,f),i.child)}function jp(n,i,a,c,f){if(n===null){var g=a.type;return typeof g=="function"&&!Ph(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,zp(n,i,g,c,f)):(n=tu(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!(n.lanes&f)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(E,c)&&n.ref===i.ref)return Ir(n,i,f)}return i.flags|=1,n=ri(g,c),n.ref=i.ref,n.return=i,i.child=n}function zp(n,i,a,c,f){if(n!==null){var g=n.memoizedProps;if(Xo(g,c)&&n.ref===i.ref)if(Gt=!1,i.pendingProps=c=g,(n.lanes&f)!==0)n.flags&131072&&(Gt=!0);else return i.lanes=n.lanes,Ir(n,i,f)}return uh(n,i,a,c,f)}function Up(n,i,a){var c=i.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Qs,un),un|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,We(Qs,un),un|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,We(Qs,un),un|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,We(Qs,un),un|=c;return $t(n,i,f,a),i.child}function $p(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function uh(n,i,a,c,f){var g=Kt(a)?Oi:Dt.current;return g=Fs(i,g),Bs(i,f),a=Zc(n,i,a,c,g,f),c=eh(),n!==null&&!Gt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Ir(n,i,f)):(Je&&c&&Lc(i),i.flags|=1,$t(n,i,a,f),i.child)}function Bp(n,i,a,c,f){if(Kt(a)){var g=!0;Cl(i)}else g=!1;if(Bs(i,f),i.stateNode===null)ql(n,i),Np(i,a,c),oh(i,a,c,f),c=!0;else if(n===null){var E=i.stateNode,C=i.memoizedProps;E.props=C;var b=E.context,W=a.contextType;typeof W=="object"&&W!==null?W=yn(W):(W=Kt(a)?Oi:Dt.current,W=Fs(i,W));var Z=a.getDerivedStateFromProps,te=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==c||b!==W)&&bp(i,E,c,W),Xr=!1;var J=i.memoizedState;E.state=J,Ol(i,c,E,f),b=i.memoizedState,C!==c||J!==b||Qt.current||Xr?(typeof Z=="function"&&(sh(i,a,Z,c),b=i.memoizedState),(C=Xr||Pp(i,a,C,c,J,b,W))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=b),E.props=c,E.state=b,E.context=W,c=C):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{E=i.stateNode,sp(n,i),C=i.memoizedProps,W=i.type===i.elementType?C:Vn(i.type,C),E.props=W,te=i.pendingProps,J=E.context,b=a.contextType,typeof b=="object"&&b!==null?b=yn(b):(b=Kt(a)?Oi:Dt.current,b=Fs(i,b));var ae=a.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==te||J!==b)&&bp(i,E,c,b),Xr=!1,J=i.memoizedState,E.state=J,Ol(i,c,E,f);var fe=i.memoizedState;C!==te||J!==fe||Qt.current||Xr?(typeof ae=="function"&&(sh(i,a,ae,c),fe=i.memoizedState),(W=Xr||Pp(i,a,W,c,J,fe,b)||!1)?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,fe,b),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,fe,b)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=fe),E.props=c,E.state=fe,E.context=b,c=W):(typeof E.componentDidUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),c=!1)}return ch(n,i,a,c,g,f)}function ch(n,i,a,c,f,g){$p(n,i);var E=(i.flags&128)!==0;if(!c&&!E)return f&&Kd(i,a,!1),Ir(n,i,g);c=i.stateNode,Q0.current=i;var C=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&E?(i.child=Us(i,n.child,null,g),i.child=Us(i,null,C,g)):$t(n,i,C,g),i.memoizedState=c.state,f&&Kd(i,a,!0),i.child}function qp(n){var i=n.stateNode;i.pendingContext?Wd(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Wd(n,i.context,!1),Qc(n,i.containerInfo)}function Hp(n,i,a,c,f){return zs(),zc(f),i.flags|=256,$t(n,i,a,c),i.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function fh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Wp(n,i,a){var c=i.pendingProps,f=Ze.current,g=!1,E=(i.flags&128)!==0,C;if((C=E)||(C=n!==null&&n.memoizedState===null?!1:(f&2)!==0),C?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),We(Ze,f&1),n===null)return jc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(E=c.children,n=c.fallback,g?(c=i.mode,g=i.child,E={mode:"hidden",children:E},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=nu(E,c,0,null),n=Hi(n,c,a,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=fh(a),i.memoizedState=hh,n):dh(i,E));if(f=n.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return K0(n,i,E,c,C,f,a);if(g){g=c.fallback,E=i.mode,f=n.child,C=f.sibling;var b={mode:"hidden",children:c.children};return!(E&1)&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=b,i.deletions=null):(c=ri(f,b),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=ri(C,g):(g=Hi(g,E,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,E=n.child.memoizedState,E=E===null?fh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=n.childLanes&~a,i.memoizedState=hh,c}return g=n.child,n=g.sibling,c=ri(g,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function dh(n,i){return i=nu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Bl(n,i,a,c){return c!==null&&zc(c),Us(i,n.child,null,a),n=dh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function K0(n,i,a,c,f,g,E){if(a)return i.flags&256?(i.flags&=-257,c=ah(Error(t(422))),Bl(n,i,E,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=c.fallback,f=i.mode,c=nu({mode:"visible",children:c.children},f,0,null),g=Hi(g,f,E,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,i.mode&1&&Us(i,n.child,null,E),i.child.memoizedState=fh(E),i.memoizedState=hh,g);if(!(i.mode&1))return Bl(n,i,E,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=ah(g,c,void 0),Bl(n,i,E,c)}if(C=(E&n.childLanes)!==0,Gt||C){if(c=It,c!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,wr(n,f),Fn(c,n,f,-1))}return Rh(),c=ah(Error(t(421))),Bl(n,i,E,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=av.bind(null,n),f._reactRetry=i,null):(n=g.treeContext,ln=Wr(f.nextSibling),an=i,Je=!0,Dn=null,n!==null&&(mn[gn++]=vr,mn[gn++]=Er,mn[gn++]=Li,vr=n.id,Er=n.overflow,Li=i),i=dh(i,c.children),i.flags|=4096,i)}function Qp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),qc(n.return,i,a)}function ph(n,i,a,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function Kp(n,i,a){var c=i.pendingProps,f=c.revealOrder,g=c.tail;if($t(n,i,c.children,a),c=Ze.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qp(n,a,i);else if(n.tag===19)Qp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(We(Ze,c),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Ll(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),ph(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ll(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}ph(i,!0,a,null,g);break;case"together":ph(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ql(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ir(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ui|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ri(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ri(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function G0(n,i,a){switch(i.tag){case 3:qp(i),zs();break;case 5:lp(i);break;case 1:Kt(i.type)&&Cl(i);break;case 4:Qc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;We(bl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(We(Ze,Ze.current&1),i.flags|=128,null):a&i.child.childLanes?Wp(n,i,a):(We(Ze,Ze.current&1),n=Ir(n,i,a),n!==null?n.sibling:null);We(Ze,Ze.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return Kp(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(Ze,Ze.current),c)break;return null;case 22:case 23:return i.lanes=0,Up(n,i,a)}return Ir(n,i,a)}var Gp,mh,Xp,Yp;Gp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},mh=function(){},Xp=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,ji(Gn.current);var g=null;switch(a){case"input":f=_i(n,f),c=_i(n,c),g=[];break;case"select":f=le({},f,{value:void 0}),c=le({},c,{value:void 0}),g=[];break;case"textarea":f=xo(n,f),c=xo(n,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Il)}No(a,c);var E;a=null;for(W in f)if(!c.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var C=f[W];for(E in C)C.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in c){var b=c[W];if(C=f!=null?f[W]:void 0,c.hasOwnProperty(W)&&b!==C&&(b!=null||C!=null))if(W==="style")if(C){for(E in C)!C.hasOwnProperty(E)||b&&b.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in b)b.hasOwnProperty(E)&&C[E]!==b[E]&&(a||(a={}),a[E]=b[E])}else a||(g||(g=[]),g.push(W,a)),a=b;else W==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,C=C?C.__html:void 0,b!=null&&C!==b&&(g=g||[]).push(W,b)):W==="children"?typeof b!="string"&&typeof b!="number"||(g=g||[]).push(W,""+b):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(b!=null&&W==="onScroll"&&Qe("scroll",n),g||C===b||(g=[])):(g=g||[]).push(W,b))}a&&(g=g||[]).push("style",a);var W=g;(i.updateQueue=W)&&(i.flags|=4)}},Yp=function(n,i,a,c){a!==c&&(i.flags|=4)};function ha(n,i){if(!Je)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function X0(n,i,a){var c=i.pendingProps;switch(Fc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Kt(i.type)&&xl(),Ot(i),null;case 3:return c=i.stateNode,qs(),Ke(Qt),Ke(Dt),Xc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Pl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Dn!==null&&(Ch(Dn),Dn=null))),mh(n,i),Ot(i),null;case 5:Kc(i);var f=ji(oa.current);if(a=i.type,n!==null&&i.stateNode!=null)Xp(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ot(i),null}if(n=ji(Gn.current),Pl(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[Kn]=i,c[ta]=g,n=(i.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(f=0;f<Jo.length;f++)Qe(Jo[f],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":ss(c,g),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Qe("invalid",c);break;case"textarea":as(c,g),Qe("invalid",c)}No(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var C=g[E];E==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&Tl(c.textContent,C,n),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Tl(c.textContent,C,n),f=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Qe("scroll",c)}switch(a){case"input":ar(c),Ka(c,g,!0);break;case"textarea":ar(c),Co(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Il)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=pt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=E.createElement(a,{is:c.is}):(n=E.createElement(a),a==="select"&&(E=n,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):n=E.createElementNS(n,a),n[Kn]=i,n[ta]=c,Gp(n,i,!1,!1),i.stateNode=n;e:{switch(E=bo(a,c),a){case"dialog":Qe("cancel",n),Qe("close",n),f=c;break;case"iframe":case"object":case"embed":Qe("load",n),f=c;break;case"video":case"audio":for(f=0;f<Jo.length;f++)Qe(Jo[f],n);f=c;break;case"source":Qe("error",n),f=c;break;case"img":case"image":case"link":Qe("error",n),Qe("load",n),f=c;break;case"details":Qe("toggle",n),f=c;break;case"input":ss(n,c),f=_i(n,c),Qe("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=le({},c,{value:void 0}),Qe("invalid",n);break;case"textarea":as(n,c),f=xo(n,c),Qe("invalid",n);break;default:f=c}No(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var b=C[g];g==="style"?Ro(n,b):g==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Ao(n,b)):g==="children"?typeof b=="string"?(a!=="textarea"||b!=="")&&Or(n,b):typeof b=="number"&&Or(n,""+b):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?b!=null&&g==="onScroll"&&Qe("scroll",n):b!=null&&K(n,g,b,E))}switch(a){case"input":ar(n),Ka(n,c,!1);break;case"textarea":ar(n),Co(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Me(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?ur(n,!!c.multiple,g,!1):c.defaultValue!=null&&ur(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Il)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ot(i),null;case 6:if(n&&i.stateNode!=null)Yp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=ji(oa.current),ji(Gn.current),Pl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Kn]=i,(g=c.nodeValue!==a)&&(n=an,n!==null))switch(n.tag){case 3:Tl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Tl(c.nodeValue,a,(n.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Kn]=i,i.stateNode=c}return Ot(i),null;case 13:if(Ke(Ze),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&ln!==null&&i.mode&1&&!(i.flags&128))ep(),zs(),i.flags|=98560,g=!1;else if(g=Pl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Kn]=i}else zs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Ot(i),g=!1}else Dn!==null&&(Ch(Dn),Dn=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Ze.current&1?_t===0&&(_t=3):Rh())),i.updateQueue!==null&&(i.flags|=4),Ot(i),null);case 4:return qs(),mh(n,i),n===null&&Zo(i.stateNode.containerInfo),Ot(i),null;case 10:return Bc(i.type._context),Ot(i),null;case 17:return Kt(i.type)&&xl(),Ot(i),null;case 19:if(Ke(Ze),g=i.memoizedState,g===null)return Ot(i),null;if(c=(i.flags&128)!==0,E=g.rendering,E===null)if(c)ha(g,!1);else{if(_t!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(E=Ll(n),E!==null){for(i.flags|=128,ha(g,!1),c=E.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,n=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,n=E.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return We(Ze,Ze.current&1|2),i.child}n=n.sibling}g.tail!==null&&He()>Ks&&(i.flags|=128,c=!0,ha(g,!1),i.lanes=4194304)}else{if(!c)if(n=Ll(E),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ha(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Je)return Ot(i),null}else 2*He()-g.renderingStartTime>Ks&&a!==1073741824&&(i.flags|=128,c=!0,ha(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(a=g.last,a!==null?a.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=He(),i.sibling=null,a=Ze.current,We(Ze,c?a&1|2:a&1),i):(Ot(i),null);case 22:case 23:return kh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?un&1073741824&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Y0(n,i){switch(Fc(i),i.tag){case 1:return Kt(i.type)&&xl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qs(),Ke(Qt),Ke(Dt),Xc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Kc(i),null;case 13:if(Ke(Ze),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));zs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ke(Ze),null;case 4:return qs(),null;case 10:return Bc(i.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var Hl=!1,Lt=!1,J0=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ws(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(n,i,c)}else a.current=null}function gh(n,i,a){try{a()}catch(c){rt(n,i,c)}}var Jp=!1;function Z0(n,i){if(kc=Br,n=Pd(),Ec(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,C=-1,b=-1,W=0,Z=0,te=n,J=null;t:for(;;){for(var ae;te!==a||f!==0&&te.nodeType!==3||(C=E+f),te!==g||c!==0&&te.nodeType!==3||(b=E+c),te.nodeType===3&&(E+=te.nodeValue.length),(ae=te.firstChild)!==null;)J=te,te=ae;for(;;){if(te===n)break t;if(J===a&&++W===f&&(C=E),J===g&&++Z===c&&(b=E),(ae=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ae}a=C===-1||b===-1?null:{start:C,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rc={focusedElem:n,selectionRange:a},Br=!1,ce=i;ce!==null;)if(i=ce,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ce=n;else for(;ce!==null;){i=ce;try{var fe=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var de=fe.memoizedProps,st=fe.memoizedState,B=i.stateNode,D=B.getSnapshotBeforeUpdate(i.elementType===i.type?de:Vn(i.type,de),st);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){rt(i,i.return,ne)}if(n=i.sibling,n!==null){n.return=i.return,ce=n;break}ce=i.return}return fe=Jp,Jp=!1,fe}function fa(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&gh(i,a,g)}f=f.next}while(f!==c)}}function Wl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function yh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Zp(n){var i=n.alternate;i!==null&&(n.alternate=null,Zp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Kn],delete i[ta],delete i[Dc],delete i[O0],delete i[L0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function em(n){return n.tag===5||n.tag===3||n.tag===4}function tm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||em(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _h(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Il));else if(c!==4&&(n=n.child,n!==null))for(_h(n,i,a),n=n.sibling;n!==null;)_h(n,i,a),n=n.sibling}function vh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(vh(n,i,a),n=n.sibling;n!==null;)vh(n,i,a),n=n.sibling}var kt=null,On=!1;function Jr(n,i,a){for(a=a.child;a!==null;)nm(n,i,a),a=a.sibling}function nm(n,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 5:Lt||Ws(a,i);case 6:var c=kt,f=On;kt=null,Jr(n,i,a),kt=c,On=f,kt!==null&&(On?(n=kt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):kt.removeChild(a.stateNode));break;case 18:kt!==null&&(On?(n=kt,a=a.stateNode,n.nodeType===8?bc(n.parentNode,a):n.nodeType===1&&bc(n,a),Pn(n)):bc(kt,a.stateNode));break;case 4:c=kt,f=On,kt=a.stateNode.containerInfo,On=!0,Jr(n,i,a),kt=c,On=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&gh(a,i,E),f=f.next}while(f!==c)}Jr(n,i,a);break;case 1:if(!Lt&&(Ws(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){rt(a,i,C)}Jr(n,i,a);break;case 21:Jr(n,i,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,Jr(n,i,a),Lt=c):Jr(n,i,a);break;default:Jr(n,i,a)}}function rm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new J0),i.forEach(function(c){var f=lv.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Ln(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=n,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 5:kt=C.stateNode,On=!1;break e;case 3:kt=C.stateNode.containerInfo,On=!0;break e;case 4:kt=C.stateNode.containerInfo,On=!0;break e}C=C.return}if(kt===null)throw Error(t(160));nm(g,E,f),kt=null,On=!1;var b=f.alternate;b!==null&&(b.return=null),f.return=null}catch(W){rt(f,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)im(i,n),i=i.sibling}function im(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ln(i,n),Yn(n),c&4){try{fa(3,n,n.return),Wl(3,n)}catch(de){rt(n,n.return,de)}try{fa(5,n,n.return)}catch(de){rt(n,n.return,de)}}break;case 1:Ln(i,n),Yn(n),c&512&&a!==null&&Ws(a,a.return);break;case 5:if(Ln(i,n),Yn(n),c&512&&a!==null&&Ws(a,a.return),n.flags&32){var f=n.stateNode;try{Or(f,"")}catch(de){rt(n,n.return,de)}}if(c&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,E=a!==null?a.memoizedProps:g,C=n.type,b=n.updateQueue;if(n.updateQueue=null,b!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Io(f,g),bo(C,E);var W=bo(C,g);for(E=0;E<b.length;E+=2){var Z=b[E],te=b[E+1];Z==="style"?Ro(f,te):Z==="dangerouslySetInnerHTML"?Ao(f,te):Z==="children"?Or(f,te):K(f,Z,te,W)}switch(C){case"input":So(f,g);break;case"textarea":ls(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?ur(f,!!g.multiple,ae,!1):J!==!!g.multiple&&(g.defaultValue!=null?ur(f,!!g.multiple,g.defaultValue,!0):ur(f,!!g.multiple,g.multiple?[]:"",!1))}f[ta]=g}catch(de){rt(n,n.return,de)}}break;case 6:if(Ln(i,n),Yn(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(de){rt(n,n.return,de)}}break;case 3:if(Ln(i,n),Yn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(i.containerInfo)}catch(de){rt(n,n.return,de)}break;case 4:Ln(i,n),Yn(n);break;case 13:Ln(i,n),Yn(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Th=He())),c&4&&rm(n);break;case 22:if(Z=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(W=Lt)||Z,Ln(i,n),Lt=W):Ln(i,n),Yn(n),c&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!Z&&n.mode&1)for(ce=n,Z=n.child;Z!==null;){for(te=ce=Z;ce!==null;){switch(J=ce,ae=J.child,J.tag){case 0:case 11:case 14:case 15:fa(4,J,J.return);break;case 1:Ws(J,J.return);var fe=J.stateNode;if(typeof fe.componentWillUnmount=="function"){c=J,a=J.return;try{i=c,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(de){rt(c,a,de)}}break;case 5:Ws(J,J.return);break;case 22:if(J.memoizedState!==null){am(te);continue}}ae!==null?(ae.return=J,ce=ae):am(te)}Z=Z.sibling}e:for(Z=null,te=n;;){if(te.tag===5){if(Z===null){Z=te;try{f=te.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=te.stateNode,b=te.memoizedProps.style,E=b!=null&&b.hasOwnProperty("display")?b.display:null,C.style.display=ko("display",E))}catch(de){rt(n,n.return,de)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=W?"":te.memoizedProps}catch(de){rt(n,n.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===n)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===n)break e;for(;te.sibling===null;){if(te.return===null||te.return===n)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Ln(i,n),Yn(n),c&4&&rm(n);break;case 21:break;default:Ln(i,n),Yn(n)}}function Yn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(em(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Or(f,""),c.flags&=-33);var g=tm(n);vh(n,g,f);break;case 3:case 4:var E=c.stateNode.containerInfo,C=tm(n);_h(n,C,E);break;default:throw Error(t(161))}}catch(b){rt(n,n.return,b)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function ev(n,i,a){ce=n,sm(n)}function sm(n,i,a){for(var c=(n.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&c){var E=f.memoizedState!==null||Hl;if(!E){var C=f.alternate,b=C!==null&&C.memoizedState!==null||Lt;C=Hl;var W=Lt;if(Hl=E,(Lt=b)&&!W)for(ce=f;ce!==null;)E=ce,b=E.child,E.tag===22&&E.memoizedState!==null?lm(f):b!==null?(b.return=E,ce=b):lm(f);for(;g!==null;)ce=g,sm(g),g=g.sibling;ce=f,Hl=C,Lt=W}om(n)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ce=g):om(n)}}function om(n){for(;ce!==null;){var i=ce;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Lt||Wl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Vn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&ap(i,g,c);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}ap(i,E,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var b=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&a.focus();break;case"img":b.src&&(a.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var Z=W.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&Pn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||i.flags&512&&yh(i)}catch(J){rt(i,i.return,J)}}if(i===n){ce=null;break}if(a=i.sibling,a!==null){a.return=i.return,ce=a;break}ce=i.return}}function am(n){for(;ce!==null;){var i=ce;if(i===n){ce=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ce=a;break}ce=i.return}}function lm(n){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Wl(4,i)}catch(b){rt(i,a,b)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(b){rt(i,f,b)}}var g=i.return;try{yh(i)}catch(b){rt(i,g,b)}break;case 5:var E=i.return;try{yh(i)}catch(b){rt(i,E,b)}}}catch(b){rt(i,i.return,b)}if(i===n){ce=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ce=C;break}ce=i.return}}var tv=Math.ceil,Ql=ee.ReactCurrentDispatcher,Eh=ee.ReactCurrentOwner,vn=ee.ReactCurrentBatchConfig,Ve=0,It=null,lt=null,Rt=0,un=0,Qs=Qr(0),_t=0,da=null,Ui=0,Kl=0,wh=0,pa=null,Xt=null,Th=0,Ks=1/0,Sr=null,Gl=!1,Ih=null,Zr=null,Xl=!1,ei=null,Yl=0,ma=0,Sh=null,Jl=-1,Zl=0;function Bt(){return Ve&6?He():Jl!==-1?Jl:Jl=He()}function ti(n){return n.mode&1?Ve&2&&Rt!==0?Rt&-Rt:M0.transition!==null?(Zl===0&&(Zl=Ri()),Zl):(n=ke,n!==0||(n=window.event,n=n===void 0?16:Bo(n.type)),n):1}function Fn(n,i,a,c){if(50<ma)throw ma=0,Sh=null,Error(t(185));jr(n,a,c),(!(Ve&2)||n!==It)&&(n===It&&(!(Ve&2)&&(Kl|=a),_t===4&&ni(n,Rt)),Yt(n,c),a===1&&Ve===0&&!(i.mode&1)&&(Ks=He()+500,Al&&Gr()))}function Yt(n,i){var a=n.callbackNode;fr(n,i);var c=ki(n,n===It?Rt:0);if(c===0)a!==null&&Mo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Mo(a),i===1)n.tag===0?F0(cm.bind(null,n)):Gd(cm.bind(null,n)),D0(function(){!(Ve&6)&&Gr()}),a=null;else{switch(Ur(c)){case 1:a=Ci;break;case 4:a=Lr;break;case 16:a=fn;break;case 536870912:a=Za;break;default:a=fn}a=_m(a,um.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function um(n,i){if(Jl=-1,Zl=0,Ve&6)throw Error(t(327));var a=n.callbackNode;if(Gs()&&n.callbackNode!==a)return null;var c=ki(n,n===It?Rt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=eu(n,c);else{i=c;var f=Ve;Ve|=2;var g=fm();(It!==n||Rt!==i)&&(Sr=null,Ks=He()+500,Bi(n,i));do try{iv();break}catch(C){hm(n,C)}while(!0);$c(),Ql.current=g,Ve=f,lt!==null?i=0:(It=null,Rt=0,i=_t)}if(i!==0){if(i===2&&(f=rn(n),f!==0&&(c=f,i=xh(n,f))),i===1)throw a=da,Bi(n,0),ni(n,c),Yt(n,He()),a;if(i===6)ni(n,c);else{if(f=n.current.alternate,!(c&30)&&!nv(f)&&(i=eu(n,c),i===2&&(g=rn(n),g!==0&&(c=g,i=xh(n,g))),i===1))throw a=da,Bi(n,0),ni(n,c),Yt(n,He()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:qi(n,Xt,Sr);break;case 3:if(ni(n,c),(c&130023424)===c&&(i=Th+500-He(),10<i)){if(ki(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Bt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Nc(qi.bind(null,n,Xt,Sr),i);break}qi(n,Xt,Sr);break;case 4:if(ni(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var E=31-zt(c);g=1<<E,E=i[E],E>f&&(f=E),c&=~g}if(c=f,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*tv(c/1960))-c,10<c){n.timeoutHandle=Nc(qi.bind(null,n,Xt,Sr),c);break}qi(n,Xt,Sr);break;case 5:qi(n,Xt,Sr);break;default:throw Error(t(329))}}}return Yt(n,He()),n.callbackNode===a?um.bind(null,n):null}function xh(n,i){var a=pa;return n.current.memoizedState.isDehydrated&&(Bi(n,i).flags|=256),n=eu(n,i),n!==2&&(i=Xt,Xt=a,i!==null&&Ch(i)),n}function Ch(n){Xt===null?Xt=n:Xt.push.apply(Xt,n)}function nv(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!bn(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ni(n,i){for(i&=~wh,i&=~Kl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-zt(i),c=1<<a;n[a]=-1,i&=~c}}function cm(n){if(Ve&6)throw Error(t(327));Gs();var i=ki(n,0);if(!(i&1))return Yt(n,He()),null;var a=eu(n,i);if(n.tag!==0&&a===2){var c=rn(n);c!==0&&(i=c,a=xh(n,c))}if(a===1)throw a=da,Bi(n,0),ni(n,i),Yt(n,He()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,qi(n,Xt,Sr),Yt(n,He()),null}function Ah(n,i){var a=Ve;Ve|=1;try{return n(i)}finally{Ve=a,Ve===0&&(Ks=He()+500,Al&&Gr())}}function $i(n){ei!==null&&ei.tag===0&&!(Ve&6)&&Gs();var i=Ve;Ve|=1;var a=vn.transition,c=ke;try{if(vn.transition=null,ke=1,n)return n()}finally{ke=c,vn.transition=a,Ve=i,!(Ve&6)&&Gr()}}function kh(){un=Qs.current,Ke(Qs)}function Bi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,b0(a)),lt!==null)for(a=lt.return;a!==null;){var c=a;switch(Fc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&xl();break;case 3:qs(),Ke(Qt),Ke(Dt),Xc();break;case 5:Kc(c);break;case 4:qs();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Bc(c.type._context);break;case 22:case 23:kh()}a=a.return}if(It=n,lt=n=ri(n.current,null),Rt=un=i,_t=0,da=null,wh=Kl=Ui=0,Xt=pa=null,Mi!==null){for(i=0;i<Mi.length;i++)if(a=Mi[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,c.next=E}a.pending=c}Mi=null}return n}function hm(n,i){do{var a=lt;try{if($c(),Fl.current=Ul,Ml){for(var c=et.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Ml=!1}if(zi=0,Tt=yt=et=null,aa=!1,la=0,Eh.current=null,a===null||a.return===null){_t=1,da=i,lt=null;break}e:{var g=n,E=a.return,C=a,b=i;if(i=Rt,C.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var W=b,Z=C,te=Z.tag;if(!(Z.mode&1)&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=Lp(E);if(ae!==null){ae.flags&=-257,Fp(ae,E,C,g,i),ae.mode&1&&Op(g,W,i),i=ae,b=W;var fe=i.updateQueue;if(fe===null){var de=new Set;de.add(b),i.updateQueue=de}else fe.add(b);break e}else{if(!(i&1)){Op(g,W,i),Rh();break e}b=Error(t(426))}}else if(Je&&C.mode&1){var st=Lp(E);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Fp(st,E,C,g,i),zc(Hs(b,C));break e}}g=b=Hs(b,C),_t!==4&&(_t=2),pa===null?pa=[g]:pa.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var B=Dp(g,b,i);op(g,B);break e;case 1:C=b;var D=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Zr===null||!Zr.has(q)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=Vp(g,C,i);op(g,ne);break e}}g=g.return}while(g!==null)}pm(a)}catch(pe){i=pe,lt===a&&a!==null&&(lt=a=a.return);continue}break}while(!0)}function fm(){var n=Ql.current;return Ql.current=Ul,n===null?Ul:n}function Rh(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(Ui&268435455)&&!(Kl&268435455)||ni(It,Rt)}function eu(n,i){var a=Ve;Ve|=2;var c=fm();(It!==n||Rt!==i)&&(Sr=null,Bi(n,i));do try{rv();break}catch(f){hm(n,f)}while(!0);if($c(),Ve=a,Ql.current=c,lt!==null)throw Error(t(261));return It=null,Rt=0,_t}function rv(){for(;lt!==null;)dm(lt)}function iv(){for(;lt!==null&&!Ya();)dm(lt)}function dm(n){var i=ym(n.alternate,n,un);n.memoizedProps=n.pendingProps,i===null?pm(n):lt=i,Eh.current=null}function pm(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=Y0(a,i),a!==null){a.flags&=32767,lt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,lt=null;return}}else if(a=X0(a,i,un),a!==null){lt=a;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=n}while(i!==null);_t===0&&(_t=5)}function qi(n,i,a){var c=ke,f=vn.transition;try{vn.transition=null,ke=1,sv(n,i,a,c)}finally{vn.transition=f,ke=c}return null}function sv(n,i,a,c){do Gs();while(ei!==null);if(Ve&6)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if($e(n,g),n===It&&(lt=It=null,Rt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Xl||(Xl=!0,_m(fn,function(){return Gs(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=vn.transition,vn.transition=null;var E=ke;ke=1;var C=Ve;Ve|=4,Eh.current=null,Z0(n,a),im(a,n),x0(Rc),Br=!!kc,Rc=kc=null,n.current=a,ev(a),fc(),Ve=C,ke=E,vn.transition=g}else n.current=a;if(Xl&&(Xl=!1,ei=n,Yl=f),g=n.pendingLanes,g===0&&(Zr=null),el(a.stateNode),Yt(n,He()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Gl)throw Gl=!1,n=Ih,Ih=null,n;return Yl&1&&n.tag!==0&&Gs(),g=n.pendingLanes,g&1?n===Sh?ma++:(ma=0,Sh=n):ma=0,Gr(),null}function Gs(){if(ei!==null){var n=Ur(Yl),i=vn.transition,a=ke;try{if(vn.transition=null,ke=16>n?16:n,ei===null)var c=!1;else{if(n=ei,ei=null,Yl=0,Ve&6)throw Error(t(331));var f=Ve;for(Ve|=4,ce=n.current;ce!==null;){var g=ce,E=g.child;if(ce.flags&16){var C=g.deletions;if(C!==null){for(var b=0;b<C.length;b++){var W=C[b];for(ce=W;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:fa(8,Z,g)}var te=Z.child;if(te!==null)te.return=Z,ce=te;else for(;ce!==null;){Z=ce;var J=Z.sibling,ae=Z.return;if(Zp(Z),Z===W){ce=null;break}if(J!==null){J.return=ae,ce=J;break}ce=ae}}}var fe=g.alternate;if(fe!==null){var de=fe.child;if(de!==null){fe.child=null;do{var st=de.sibling;de.sibling=null,de=st}while(de!==null)}}ce=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,ce=E;else e:for(;ce!==null;){if(g=ce,g.flags&2048)switch(g.tag){case 0:case 11:case 15:fa(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ce=B;break e}ce=g.return}}var D=n.current;for(ce=D;ce!==null;){E=ce;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,ce=q;else e:for(E=D;ce!==null;){if(C=ce,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Wl(9,C)}}catch(pe){rt(C,C.return,pe)}if(C===E){ce=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,ce=ne;break e}ce=C.return}}if(Ve=f,Gr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ai,n)}catch{}c=!0}return c}finally{ke=a,vn.transition=i}}return!1}function mm(n,i,a){i=Hs(a,i),i=Dp(n,i,1),n=Yr(n,i,1),i=Bt(),n!==null&&(jr(n,1,i),Yt(n,i))}function rt(n,i,a){if(n.tag===3)mm(n,n,a);else for(;i!==null;){if(i.tag===3){mm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zr===null||!Zr.has(c))){n=Hs(a,n),n=Vp(i,n,1),i=Yr(i,n,1),n=Bt(),i!==null&&(jr(i,1,n),Yt(i,n));break}}i=i.return}}function ov(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Bt(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Rt&a)===a&&(_t===4||_t===3&&(Rt&130023424)===Rt&&500>He()-Th?Bi(n,0):wh|=a),Yt(n,i)}function gm(n,i){i===0&&(n.mode&1?(i=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):i=1);var a=Bt();n=wr(n,i),n!==null&&(jr(n,i,a),Yt(n,a))}function av(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),gm(n,a)}function lv(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),gm(n,a)}var ym;ym=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Qt.current)Gt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Gt=!1,G0(n,i,a);Gt=!!(n.flags&131072)}else Gt=!1,Je&&i.flags&1048576&&Xd(i,Rl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ql(n,i),n=i.pendingProps;var f=Fs(i,Dt.current);Bs(i,a),f=Zc(null,i,c,n,f,a);var g=eh();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Kt(c)?(g=!0,Cl(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Wc(i),f.updater=$l,i.stateNode=f,f._reactInternals=i,oh(i,c,n,a),i=ch(null,i,c,!0,g,a)):(i.tag=0,Je&&g&&Lc(i),$t(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ql(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=cv(c),n=Vn(c,n),f){case 0:i=uh(null,i,c,n,a);break e;case 1:i=Bp(null,i,c,n,a);break e;case 11:i=Mp(null,i,c,n,a);break e;case 14:i=jp(null,i,c,Vn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Vn(c,f),uh(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Vn(c,f),Bp(n,i,c,f,a);case 3:e:{if(qp(i),n===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,f=g.element,sp(n,i),Ol(i,c,null,a);var E=i.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=Hs(Error(t(423)),i),i=Hp(n,i,c,a,f);break e}else if(c!==f){f=Hs(Error(t(424)),i),i=Hp(n,i,c,a,f);break e}else for(ln=Wr(i.stateNode.containerInfo.firstChild),an=i,Je=!0,Dn=null,a=rp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zs(),c===f){i=Ir(n,i,a);break e}$t(n,i,c,a)}i=i.child}return i;case 5:return lp(i),n===null&&jc(i),c=i.type,f=i.pendingProps,g=n!==null?n.memoizedProps:null,E=f.children,Pc(c,f)?E=null:g!==null&&Pc(c,g)&&(i.flags|=32),$p(n,i),$t(n,i,E,a),i.child;case 6:return n===null&&jc(i),null;case 13:return Wp(n,i,a);case 4:return Qc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Us(i,null,c,a):$t(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Vn(c,f),Mp(n,i,c,f,a);case 7:return $t(n,i,i.pendingProps,a),i.child;case 8:return $t(n,i,i.pendingProps.children,a),i.child;case 12:return $t(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,g=i.memoizedProps,E=f.value,We(bl,c._currentValue),c._currentValue=E,g!==null)if(bn(g.value,E)){if(g.children===f.children&&!Qt.current){i=Ir(n,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var C=g.dependencies;if(C!==null){E=g.child;for(var b=C.firstContext;b!==null;){if(b.context===c){if(g.tag===1){b=Tr(-1,a&-a),b.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var Z=W.pending;Z===null?b.next=b:(b.next=Z.next,Z.next=b),W.pending=b}}g.lanes|=a,b=g.alternate,b!==null&&(b.lanes|=a),qc(g.return,a,i),C.lanes|=a;break}b=b.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,C=E.alternate,C!==null&&(C.lanes|=a),qc(E,a,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}$t(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Bs(i,a),f=yn(f),c=c(f),i.flags|=1,$t(n,i,c,a),i.child;case 14:return c=i.type,f=Vn(c,i.pendingProps),f=Vn(c.type,f),jp(n,i,c,f,a);case 15:return zp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Vn(c,f),ql(n,i),i.tag=1,Kt(c)?(n=!0,Cl(i)):n=!1,Bs(i,a),Np(i,c,f),oh(i,c,f,a),ch(null,i,c,!0,n,a);case 19:return Kp(n,i,a);case 22:return Up(n,i,a)}throw Error(t(156,i.tag))};function _m(n,i){return gs(n,i)}function uv(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,a,c){return new uv(n,i,a,c)}function Ph(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cv(n){if(typeof n=="function")return Ph(n)?1:0;if(n!=null){if(n=n.$$typeof,n===F)return 11;if(n===ft)return 14}return 2}function ri(n,i){var a=n.alternate;return a===null?(a=En(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function tu(n,i,a,c,f,g){var E=2;if(c=n,typeof n=="function")Ph(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case k:return Hi(a.children,f,g,i);case I:E=8,f|=8;break;case x:return n=En(12,a,i,f|2),n.elementType=x,n.lanes=g,n;case A:return n=En(13,a,i,f),n.elementType=A,n.lanes=g,n;case Be:return n=En(19,a,i,f),n.elementType=Be,n.lanes=g,n;case Oe:return nu(a,f,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:E=10;break e;case R:E=9;break e;case F:E=11;break e;case ft:E=14;break e;case dt:E=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=En(E,a,i,f),i.elementType=n,i.type=c,i.lanes=g,i}function Hi(n,i,a,c){return n=En(7,n,c,i),n.lanes=a,n}function nu(n,i,a,c){return n=En(22,n,c,i),n.elementType=Oe,n.lanes=a,n.stateNode={isHidden:!1},n}function Nh(n,i,a){return n=En(6,n,null,i),n.lanes=a,n}function bh(n,i,a){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function hv(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mr(0),this.expirationTimes=Mr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Dh(n,i,a,c,f,g,E,C,b){return n=new hv(n,i,a,C,b),i===1?(i=1,g===!0&&(i|=8)):i=0,g=En(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(g),n}function fv(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function vm(n){if(!n)return Kr;n=n._reactInternals;e:{if(xn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Kt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Kt(a))return Qd(n,a,i)}return i}function Em(n,i,a,c,f,g,E,C,b){return n=Dh(a,c,!0,n,f,g,E,C,b),n.context=vm(null),a=n.current,c=Bt(),f=ti(a),g=Tr(c,f),g.callback=i??null,Yr(a,g,f),n.current.lanes=f,jr(n,f,c),Yt(n,c),n}function ru(n,i,a,c){var f=i.current,g=Bt(),E=ti(f);return a=vm(a),i.context===null?i.context=a:i.pendingContext=a,i=Tr(g,E),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Yr(f,i,E),n!==null&&(Fn(n,f,E,g),Vl(n,f,E)),E}function iu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function wm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Vh(n,i){wm(n,i),(n=n.alternate)&&wm(n,i)}function dv(){return null}var Tm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Oh(n){this._internalRoot=n}su.prototype.render=Oh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));ru(n,i,null,null)},su.prototype.unmount=Oh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;$i(function(){ru(null,n,null,null)}),i[yr]=null}};function su(n){this._internalRoot=n}su.prototype.unstable_scheduleHydration=function(n){if(n){var i=sl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<qn.length&&i!==0&&i<qn[a].priority;a++);qn.splice(a,0,n),a===0&&ll(n)}};function Lh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ou(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Im(){}function pv(n,i,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var W=iu(E);g.call(W)}}var E=Em(i,c,n,0,null,!1,!1,"",Im);return n._reactRootContainer=E,n[yr]=E.current,Zo(n.nodeType===8?n.parentNode:n),$i(),E}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var W=iu(b);C.call(W)}}var b=Dh(n,0,!1,null,null,!1,!1,"",Im);return n._reactRootContainer=b,n[yr]=b.current,Zo(n.nodeType===8?n.parentNode:n),$i(function(){ru(i,b,a,c)}),b}function au(n,i,a,c,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var C=f;f=function(){var b=iu(E);C.call(b)}}ru(i,E,n,f)}else E=pv(a,i,n,f,c);return iu(E)}rl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Fr(i.pendingLanes);a!==0&&(zr(i,a|1),Yt(i,He()),!(Ve&6)&&(Ks=He()+500,Gr()))}break;case 13:$i(function(){var c=wr(n,1);if(c!==null){var f=Bt();Fn(c,n,1,f)}}),Vh(n,1)}},vs=function(n){if(n.tag===13){var i=wr(n,134217728);if(i!==null){var a=Bt();Fn(i,n,134217728,a)}Vh(n,134217728)}},il=function(n){if(n.tag===13){var i=ti(n),a=wr(n,i);if(a!==null){var c=Bt();Fn(a,n,i,c)}Vh(n,i)}},sl=function(){return ke},ol=function(n,i){var a=ke;try{return ke=n,i()}finally{ke=a}},cs=function(n,i,a){switch(i){case"input":if(So(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=Sl(c);if(!f)throw Error(t(90));is(c),So(c,f)}}}break;case"textarea":ls(n,a);break;case"select":i=a.value,i!=null&&ur(n,!!a.multiple,i,!1)}},Ti=Ah,Vo=$i;var mv={usingClientEntryPoint:!1,Events:[na,Os,Sl,$n,Do,Ah]},ga={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gv={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Fo(n),n===null?null:n.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Ai=lu.inject(gv),nn=lu}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mv,Jt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(i))throw Error(t(200));return fv(n,i,null,a)},Jt.createRoot=function(n,i){if(!Lh(n))throw Error(t(299));var a=!1,c="",f=Tm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Dh(n,1,!1,null,null,a,!1,c,f),n[yr]=i.current,Zo(n.nodeType===8?n.parentNode:n),new Oh(i)},Jt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Fo(i),n=n===null?null:n.stateNode,n},Jt.flushSync=function(n){return $i(n)},Jt.hydrate=function(n,i,a){if(!ou(i))throw Error(t(200));return au(null,n,i,!0,a)},Jt.hydrateRoot=function(n,i,a){if(!Lh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",E=Tm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=Em(i,null,n,1,a??null,f,!1,g,E),n[yr]=i.current,Zo(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new su(i)},Jt.render=function(n,i,a){if(!ou(i))throw Error(t(200));return au(null,n,i,!1,a)},Jt.unmountComponentAtNode=function(n){if(!ou(n))throw Error(t(40));return n._reactRootContainer?($i(function(){au(null,null,n,!1,function(){n._reactRootContainer=null,n[yr]=null})}),!0):!1},Jt.unstable_batchedUpdates=Ah,Jt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!ou(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return au(n,i,a,!1,c)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var Nm;function Sv(){if(Nm)return jh.exports;Nm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jh.exports=Iv(),jh.exports}var bm;function xv(){if(bm)return uu;bm=1;var r=Sv();return uu.createRoot=r.createRoot,uu.hydrateRoot=r.hydrateRoot,uu}var Cv=xv();const Av="/assets/ephemeral_dotted-HW_Mj27J.png";var _a={},Dm;function kv(){if(Dm)return _a;Dm=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.parse=h,_a.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,N){const L=new l,j=S.length;if(j<2)return L;const V=(N==null?void 0:N.decode)||v;let O=0;do{const z=S.indexOf("=",O);if(z===-1)break;const K=S.indexOf(";",O),ee=K===-1?j:K;if(z>ee){O=S.lastIndexOf(";",z-1)+1;continue}const se=d(S,O,z),oe=p(S,z,se),k=S.slice(se,oe);if(L[k]===void 0){let I=d(S,z+1,ee),x=p(S,ee,I);const P=V(S.slice(I,x));L[k]=P}O=ee+1}while(O<j);return L}function d(S,N,L){do{const j=S.charCodeAt(N);if(j!==32&&j!==9)return N}while(++N<L);return L}function p(S,N,L){for(;N>L;){const j=S.charCodeAt(--N);if(j!==32&&j!==9)return N+1}return L}function y(S,N,L){const j=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const V=j(N);if(!e.test(V))throw new TypeError(`argument val is invalid: ${N}`);let O=S+"="+V;if(!L)return O;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);O+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);O+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);O+="; Path="+L.path}if(L.expires){if(!w(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);O+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(O+="; HttpOnly"),L.secure&&(O+="; Secure"),L.partitioned&&(O+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return O}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return _a}kv();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vm="popstate";function Rv(r={}){function e(s,o){let{pathname:l,search:h,hash:d}=s.location;return tf("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ka(o)}return Nv(e,t,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pv(){return Math.random().toString(36).substring(2,10)}function Om(r,e){return{usr:r.state,key:r.key,idx:e}}function tf(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:t,key:e&&e.key||s||Pv()}}function ka({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function mo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Nv(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function w(){d="POP";let V=v(),O=V==null?null:V-y;y=V,p&&p({action:d,location:j.location,delta:O})}function S(V,O){d="PUSH";let z=tf(j.location,V,O);y=v()+1;let K=Om(z,y),ee=j.createHref(z);try{h.pushState(K,"",ee)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ee)}l&&p&&p({action:d,location:j.location,delta:1})}function N(V,O){d="REPLACE";let z=tf(j.location,V,O);y=v();let K=Om(z,y),ee=j.createHref(z);h.replaceState(K,"",ee),l&&p&&p({action:d,location:j.location,delta:0})}function L(V){let O=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof V=="string"?V:ka(V);return z=z.replace(/ $/,"%20"),tt(O,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,O)}let j={get action(){return d},get location(){return r(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vm,w),p=V,()=>{o.removeEventListener(Vm,w),p=null}},createHref(V){return e(o,V)},createURL:L,encodeLocation(V){let O=L(V);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:S,replace:N,go(V){return h.go(V)}};return j}function Gg(r,e,t="/"){return bv(r,e,t,!1)}function bv(r,e,t,s){let o=typeof e=="string"?mo(e):e,l=fi(o.pathname||"/",t);if(l==null)return null;let h=Xg(r);Dv(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=qv(l);d=$v(h[p],y,s)}return d}function Xg(r,e=[],t=[],s=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Ar([s,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Xg(l.children,e,v,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:zv(y,l.index),routesMeta:v})};return r.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of Yg(l.path))o(l,h,p)}),e}function Yg(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Yg(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function Dv(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Uv(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Vv=/^:[\w-]+$/,Ov=3,Lv=2,Fv=1,Mv=10,jv=-2,Lm=r=>r==="*";function zv(r,e){let t=r.split("/"),s=t.length;return t.some(Lm)&&(s+=jv),e&&(s+=Lv),t.filter(o=>!Lm(o)).reduce((o,l)=>o+(Vv.test(l)?Ov:l===""?Fv:Mv),s)}function Uv(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function $v(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],y=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=ku({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),S=p.route;if(!w&&y&&t&&!s[s.length-1].route.index&&(w=ku({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Ar([l,w.pathname]),pathnameBase:Kv(Ar([l,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(l=Ar([l,w.pathnameBase]))}return h}function ku(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Bv(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:w},S)=>{if(v==="*"){let L=d[S]||"";h=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const N=d[S];return w&&!N?y[v]=void 0:y[v]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function Bv(r,e=!1,t=!0){rr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function qv(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function Hv(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?mo(r):r;return{pathname:t?t.startsWith("/")?t:Wv(t,e):e,search:Gv(s),hash:Xv(o)}}function Wv(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $h(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qv(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jg(r){let e=Qv(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Zg(r,e,t,s=!1){let o;typeof r=="string"?o=mo(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),$h("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),$h("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),$h("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let w=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}d=w>=0?e[w]:"/"}let p=Hv(o,d),y=h&&h!=="/"&&h.endsWith("/"),v=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var Ar=r=>r.join("/").replace(/\/\/+/g,"/"),Kv=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Gv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Xv=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Yv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ey=["POST","PUT","PATCH","DELETE"];new Set(ey);var Jv=["GET",...ey];new Set(Jv);var go=H.createContext(null);go.displayName="DataRouter";var qu=H.createContext(null);qu.displayName="DataRouterState";var ty=H.createContext({isTransitioning:!1});ty.displayName="ViewTransition";var Zv=H.createContext(new Map);Zv.displayName="Fetchers";var e1=H.createContext(null);e1.displayName="Await";var sr=H.createContext(null);sr.displayName="Navigation";var Fa=H.createContext(null);Fa.displayName="Location";var or=H.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Df=H.createContext(null);Df.displayName="RouteError";function t1(r,{relative:e}={}){tt(Ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(sr),{hash:o,pathname:l,search:h}=ja(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ar([t,l])),s.createHref({pathname:d,search:h,hash:o})}function Ma(){return H.useContext(Fa)!=null}function Ji(){return tt(Ma(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Fa).location}var ny="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ry(r){H.useContext(sr).static||H.useLayoutEffect(r)}function n1(){let{isDataRoute:r}=H.useContext(or);return r?m1():r1()}function r1(){tt(Ma(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(go),{basename:e,navigator:t}=H.useContext(sr),{matches:s}=H.useContext(or),{pathname:o}=Ji(),l=JSON.stringify(Jg(s)),h=H.useRef(!1);return ry(()=>{h.current=!0}),H.useCallback((p,y={})=>{if(rr(h.current,ny),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=Zg(p,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ar([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,o,r])}H.createContext(null);function iy(){let{matches:r}=H.useContext(or),e=r[r.length-1];return e?e.params:{}}function ja(r,{relative:e}={}){let{matches:t}=H.useContext(or),{pathname:s}=Ji(),o=JSON.stringify(Jg(t));return H.useMemo(()=>Zg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function i1(r,e){return sy(r,e)}function sy(r,e,t,s){var O;tt(Ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(sr),{matches:l}=H.useContext(or),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let z=v&&v.path||"";oy(p,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let w=Ji(),S;if(e){let z=typeof e=="string"?mo(e):e;tt(y==="/"||((O=z.pathname)==null?void 0:O.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=w;let N=S.pathname||"/",L=N;if(y!=="/"){let z=y.replace(/^\//,"").split("/");L="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let j=Gg(r,{pathname:L});rr(v||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),rr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=u1(j&&j.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:Ar([y,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Ar([y,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,s);return e&&V?H.createElement(Fa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function s1(){let r=p1(),e=Yv(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,h)}var o1=H.createElement(s1,null),a1=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(or.Provider,{value:this.props.routeContext},H.createElement(Df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l1({routeContext:r,match:e,children:t}){let s=H.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(or.Provider,{value:r},t)}function u1(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:v,errors:w}=t,S=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,v)=>{let w,S=!1,N=null,L=null;t&&(w=l&&y.route.id?l[y.route.id]:void 0,N=y.route.errorElement||o1,h&&(d<0&&v===0?(oy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,L=null):d===v&&(S=!0,L=y.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,v+1)),V=()=>{let O;return w?O=N:S?O=L:y.route.Component?O=H.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=p,H.createElement(l1,{match:y,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:O})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?H.createElement(a1,{location:t.location,revalidation:t.revalidation,component:N,error:w,children:V(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):V()},null)}function Vf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c1(r){let e=H.useContext(go);return tt(e,Vf(r)),e}function h1(r){let e=H.useContext(qu);return tt(e,Vf(r)),e}function f1(r){let e=H.useContext(or);return tt(e,Vf(r)),e}function Of(r){let e=f1(r),t=e.matches[e.matches.length-1];return tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function d1(){return Of("useRouteId")}function p1(){var s;let r=H.useContext(Df),e=h1("useRouteError"),t=Of("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function m1(){let{router:r}=c1("useNavigate"),e=Of("useNavigate"),t=H.useRef(!1);return ry(()=>{t.current=!0}),H.useCallback(async(o,l={})=>{rr(t.current,ny),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Fm={};function oy(r,e,t){!e&&!Fm[r]&&(Fm[r]=!0,rr(!1,t))}H.memo(g1);function g1({routes:r,future:e,state:t}){return sy(r,void 0,t,e)}function Ys(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){tt(!Ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=mo(t));let{pathname:p="/",search:y="",hash:v="",state:w=null,key:S="default"}=t,N=H.useMemo(()=>{let L=fi(p,h);return L==null?null:{location:{pathname:L,search:y,hash:v,state:w,key:S},navigationType:s}},[h,p,y,v,w,S,s]);return rr(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:H.createElement(sr.Provider,{value:d},H.createElement(Fa.Provider,{children:e,value:N}))}function _1({children:r,location:e}){return i1(nf(r),e)}function nf(r,e=[]){let t=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let l=[...e,o];if(s.type===H.Fragment){t.push.apply(t,nf(s.props.children,l));return}tt(s.type===Ys,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=nf(s.props.children,l)),t.push(h)}),t}var _u="get",vu="application/x-www-form-urlencoded";function Hu(r){return r!=null&&typeof r.tagName=="string"}function v1(r){return Hu(r)&&r.tagName.toLowerCase()==="button"}function E1(r){return Hu(r)&&r.tagName.toLowerCase()==="form"}function w1(r){return Hu(r)&&r.tagName.toLowerCase()==="input"}function T1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function I1(r,e){return r.button===0&&(!e||e==="_self")&&!T1(r)}var cu=null;function S1(){if(cu===null)try{new FormData(document.createElement("form"),0),cu=!1}catch{cu=!0}return cu}var x1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bh(r){return r!=null&&!x1.has(r)?(rr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vu}"`),null):r}function C1(r,e){let t,s,o,l,h;if(E1(r)){let d=r.getAttribute("action");s=d?fi(d,e):null,t=r.getAttribute("method")||_u,o=Bh(r.getAttribute("enctype"))||vu,l=new FormData(r)}else if(v1(r)||w1(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?fi(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||_u,o=Bh(r.getAttribute("formenctype"))||Bh(d.getAttribute("enctype"))||vu,l=new FormData(d,r),!S1()){let{name:y,type:v,value:w}=r;if(v==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,w)}}else{if(Hu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_u,s=null,o=vu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Lf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function A1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function R1(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await A1(l,t);return h.links?h.links():[]}return[]}));return D1(s.flat(1).filter(k1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mm(r,e,t,s,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{var w;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function P1(r,e){return N1(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function N1(r){return[...new Set(r)]}function b1(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function D1(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(b1(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function V1(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function O1(){let r=H.useContext(go);return Lf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function L1(){let r=H.useContext(qu);return Lf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ff=H.createContext(void 0);Ff.displayName="FrameworkContext";function ay(){let r=H.useContext(Ff);return Lf(r,"You must render this element inside a <HydratedRouter> element"),r}function F1(r,e){let t=H.useContext(Ff),[s,o]=H.useState(!1),[l,h]=H.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:w}=e,S=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let j=O=>{O.forEach(z=>{h(z.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[r]),H.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let N=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:va(d,N),onBlur:va(p,L),onMouseEnter:va(y,N),onMouseLeave:va(v,L),onTouchStart:va(w,N)}]:[!1,S,{}]}function va(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function M1({page:r,...e}){let{router:t}=O1(),s=H.useMemo(()=>Gg(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?H.createElement(z1,{page:r,matches:s,...e}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function j1(r){let{manifest:e,routeModules:t}=ay(),[s,o]=H.useState([]);return H.useEffect(()=>{let l=!1;return R1(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function z1({page:r,matches:e,...t}){let s=Ji(),{manifest:o,routeModules:l}=ay(),{loaderData:h,matches:d}=L1(),p=H.useMemo(()=>Mm(r,e,d,o,s,"data"),[r,e,d,o,s]),y=H.useMemo(()=>Mm(r,e,d,o,s,"assets"),[r,e,d,o,s]),v=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,L=!1;if(e.forEach(V=>{var z;let O=o.routes[V.route.id];!O||!O.hasLoader||(!p.some(K=>K.route.id===V.route.id)&&V.route.id in h&&((z=l[V.route.id])!=null&&z.shouldRevalidate)||O.hasClientLoader?L=!0:N.add(V.route.id))}),N.size===0)return[];let j=V1(r);return L&&N.size>0&&j.searchParams.set("_routes",e.filter(V=>N.has(V.route.id)).map(V=>V.route.id).join(",")),[j.pathname+j.search]},[h,s,o,p,e,r,l]),w=H.useMemo(()=>P1(y,o),[y,o]),S=j1(y);return H.createElement(H.Fragment,null,v.map(N=>H.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),w.map(N=>H.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),S.map(({key:N,link:L})=>H.createElement("link",{key:N,...L})))}function U1(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ly=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ly&&(window.__reactRouterVersion="7.0.2")}catch{}function $1({basename:r,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=Rv({window:t,v5Compat:!0}));let o=s.current,[l,h]=H.useState({action:o.action,location:o.location}),d=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(d),[o,d]),H.createElement(y1,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:y,preventScrollReset:v,viewTransition:w,...S},N){let{basename:L}=H.useContext(sr),j=typeof y=="string"&&uy.test(y),V,O=!1;if(typeof y=="string"&&j&&(V=y,ly))try{let x=new URL(window.location.href),P=y.startsWith("//")?new URL(x.protocol+y):new URL(y),R=fi(P.pathname,L);P.origin===x.origin&&R!=null?y=R+P.search+P.hash:O=!0}catch{rr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=t1(y,{relative:o}),[K,ee,se]=F1(s,S),oe=H1(y,{replace:h,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:w});function k(x){e&&e(x),x.defaultPrevented||oe(x)}let I=H.createElement("a",{...S,...se,href:V||z,onClick:O||l?e:k,ref:U1(N,ee),target:p,"data-discover":!j&&t==="render"?"true":void 0});return K&&!j?H.createElement(H.Fragment,null,I,H.createElement(M1,{page:z})):I});Tn.displayName="Link";var er=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...y},v){let w=ja(h,{relative:y.relative}),S=Ji(),N=H.useContext(qu),{navigator:L,basename:j}=H.useContext(sr),V=N!=null&&X1(w)&&d===!0,O=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,z=S.pathname,K=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(z=z.toLowerCase(),K=K?K.toLowerCase():null,O=O.toLowerCase()),K&&j&&(K=fi(K,j)||K);const ee=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let se=z===O||!o&&z.startsWith(O)&&z.charAt(ee)==="/",oe=K!=null&&(K===O||!o&&K.startsWith(O)&&K.charAt(O.length)==="/"),k={isActive:se,isPending:oe,isTransitioning:V},I=se?e:void 0,x;typeof s=="function"?x=s(k):x=[s,se?"active":null,oe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(k):l;return H.createElement(Tn,{...y,"aria-current":I,className:x,ref:v,style:P,to:h,viewTransition:d},typeof p=="function"?p(k):p)});er.displayName="NavLink";var B1=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=_u,action:d,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:w,...S},N)=>{let L=K1(),j=G1(d,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&uy.test(d),z=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let ee=K.nativeEvent.submitter,se=(ee==null?void 0:ee.getAttribute("formmethod"))||h;L(ee||K.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:l,relative:y,preventScrollReset:v,viewTransition:w})};return H.createElement("form",{ref:N,method:V,action:j,onSubmit:s?p:z,...S,"data-discover":!O&&r==="render"?"true":void 0})});B1.displayName="Form";function q1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cy(r){let e=H.useContext(go);return tt(e,q1(r)),e}function H1(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=n1(),p=Ji(),y=ja(r,{relative:l});return H.useCallback(v=>{if(I1(v,e)){v.preventDefault();let w=t!==void 0?t:ka(p)===ka(y);d(r,{replace:w,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,y,t,s,e,r,o,l,h])}var W1=0,Q1=()=>`__${String(++W1)}__`;function K1(){let{router:r}=cy("useSubmit"),{basename:e}=H.useContext(sr),t=d1();return H.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:y}=C1(s,e);if(o.navigate===!1){let v=o.fetcherKey||Q1();await r.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function G1(r,{relative:e}={}){let{basename:t}=H.useContext(sr),s=H.useContext(or);tt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ja(r||".",{relative:e})},h=Ji();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ar([t,l.pathname])),ka(l)}function X1(r,e={}){let t=H.useContext(ty);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cy("useViewTransitionState"),o=ja(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=fi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=fi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return ku(o.pathname,h)!=null||ku(o.pathname,l)!=null}new TextEncoder;const hy=r=>M.jsx("svg",{...r,viewBox:"0 0 100 100",children:M.jsx("path",{d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"})}),fy=r=>M.jsx("svg",{...r,viewBox:"0 0 256 256",children:M.jsx("path",{d:"M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"})}),dy=r=>M.jsxs("svg",{...r,viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:[M.jsxs("defs",{children:[M.jsxs("linearGradient",{id:"instagram-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[M.jsx("stop",{offset:"0%",style:{stopColor:"#f09433",stopOpacity:1}}),M.jsx("stop",{offset:"25%",style:{stopColor:"#e6683c",stopOpacity:1}}),M.jsx("stop",{offset:"50%",style:{stopColor:"#dc2743",stopOpacity:1}}),M.jsx("stop",{offset:"75%",style:{stopColor:"#cc2366",stopOpacity:1}}),M.jsx("stop",{offset:"100%",style:{stopColor:"#bc1888",stopOpacity:1}})]}),M.jsxs("linearGradient",{id:"instagram-normal",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[M.jsx("stop",{offset:"0%",style:{stopColor:"#e1faf9",stopOpacity:1}}),M.jsx("stop",{offset:"25%",style:{stopColor:"#e1faf9",stopOpacity:1}}),M.jsx("stop",{offset:"50%",style:{stopColor:"#e1faf9",stopOpacity:1}}),M.jsx("stop",{offset:"75%",style:{stopColor:"#e1faf9",stopOpacity:1}}),M.jsx("stop",{offset:"100%",style:{stopColor:"#e1faf9",stopOpacity:1}})]})]}),M.jsx("path",{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"})]}),py=({showHamburger:r})=>M.jsxs("nav",{className:`hamburger ${r?"hamburger--active":""}`,children:[M.jsxs("ul",{className:"hamburger__list hamburger__list--links",children:[M.jsx("li",{className:"hamburger__list-item",children:M.jsxs(er,{to:"/category/plugins",className:({isActive:e})=>e?"hamburger__button hamburger__button--active":"hamburger__button",children:[">"," Plugins"]})}),M.jsx("li",{className:"hamburger__list-item",children:M.jsxs(er,{to:"/category/assets",className:({isActive:e})=>e?"hamburger__button hamburger__button--active":"hamburger__button",children:[">"," Asset-Packs"]})}),M.jsx("li",{className:"hamburger__list-item",children:M.jsxs(er,{to:"/category/commissions",className:({isActive:e})=>e?"hamburger__button hamburger__button--active":"hamburger__button",children:[">"," Commissions"]})}),M.jsx("li",{className:"hamburger__list-item",children:M.jsxs(er,{to:"/category/courses",className:({isActive:e})=>e?"hamburger__button hamburger__button--active":"hamburger__button",children:[">"," Courses"]})})]}),M.jsxs("ul",{className:"hamburger__list hamburger__list--socials",children:[M.jsx("li",{className:"hamburger__list-item",children:M.jsx("a",{className:"hamburger__link hamburger__link--instagram",href:"https://www.instagram.com/iosh.aa/",target:"_blank",children:M.jsx(dy,{className:"hamburger__icon hamburger__icon--instagram"})})}),M.jsx("li",{className:"hamburger__list-item",children:M.jsx("a",{className:"hamburger__link hamburger__link--github",href:"https://github.com/IDJoshy",target:"_blank",children:M.jsx(hy,{className:"hamburger__icon hamburger__icon--github"})})}),M.jsx("li",{className:"hamburger__list-item",children:M.jsx("a",{className:"hamburger__link hamburger__link--linkedin",href:"https://www.linkedin.com/in/joshua-auristondo-gonzales-b7a183304/",target:"_blank",children:M.jsx(fy,{className:"hamburger__icon hamburger__icon--linkedin"})})})]})]}),Y1="/assets/shoppingcart-laoVr1J9.png",za=H.createContext(),J1=({children:r})=>{const e=JSON.parse(localStorage.getItem("cart-neozone")),[t,s]=H.useState(e||[]);H.useEffect(()=>{localStorage.setItem("cart-neozone",JSON.stringify(t))},[t]);const o=y=>{const v=t.findIndex(w=>w.id===y.id);if(v===-1)s([...t,y]);else{const w=[...t];w[v].quantity=w[v].quantity+y.quantity,s(w)}},l=()=>t.reduce((v,w)=>v+w.quantity,0),h=()=>t.reduce((v,w)=>v+w.quantity*w.price,0),d=y=>{const v=t.filter(w=>w.id!==y);s(v)},p=()=>{s([])};return M.jsx(za.Provider,{value:{cart:t,addProduct:o,totalQuantity:l,totalPrice:h,deleteProductById:d,deleteCart:p},children:r})},Z1=()=>{const{totalQuantity:r}=H.useContext(za);let e=r();return M.jsxs(Tn,{to:"/cart",className:"navbar__container navbar__container--cart",children:[M.jsx("img",{src:Y1,alt:"",className:"navbar__icon navbar__icon--cart"}),M.jsx("span",{className:"navbar__text navbar__text--cart",children:e!==0&&e})]})},eE=()=>{const[r,e]=H.useState(!1),t=()=>{e(s=>!s)};return M.jsxs("nav",{className:"navbar",children:[M.jsxs("div",{className:"navbar__container navbar__container--logo",children:[M.jsx(er,{to:"/",className:"navbar__logo-link",children:M.jsx("img",{src:Av,alt:"",className:"navbar__icon navbar__icon--logo"})}),M.jsxs("div",{className:"navbar__container navbar__container--text",children:[M.jsx("strong",{className:"navbar__text navbar__text--title",children:"Ephemeral"}),M.jsx("p",{className:"navbar__text navbar__text--subtitle",children:"3D Assets Store"})]})]}),M.jsxs("button",{onClick:t,className:`navbar__hamburger ${r?"navbar__hamburger--active":""}`,children:[M.jsx("span",{}),M.jsx("span",{}),M.jsx("span",{})]}),M.jsx(py,{showHamburger:r}),M.jsxs("ul",{className:"navbar__list navbar__list--links",children:[M.jsx("li",{className:"navbar__list-item",children:M.jsx(er,{to:"/category/plugins",className:({isActive:s})=>s?"navbar__button navbar__button--active":"navbar__button",children:"Plugins"})}),M.jsx("li",{className:"navbar__list-item",children:M.jsx(er,{to:"/category/assets",className:({isActive:s})=>s?"navbar__button navbar__button--active":"navbar__button",children:"Asset-Packs"})}),M.jsx("li",{className:"navbar__list-item",children:M.jsx(er,{to:"/category/commissions",className:({isActive:s})=>s?"navbar__button navbar__button--active":"navbar__button",children:"Commissions"})}),M.jsx("li",{className:"navbar__list-item",children:M.jsx(er,{to:"/category/courses",className:({isActive:s})=>s?"navbar__button navbar__button--active":"navbar__button",children:"Courses"})})]}),M.jsxs("ul",{className:"navbar__list navbar__list--socials",children:[M.jsx("li",{className:"navbar__list-item",children:M.jsx("a",{className:"navbar__link navbar__link--instagram",href:"https://www.instagram.com/iosh.aa/",target:"_blank",children:M.jsx(dy,{className:"socials__icon socials__icon--instagram"})})}),M.jsx("li",{className:"navbar__list-item",children:M.jsx("a",{className:"navbar__link navbar__link--github",href:"https://github.com/IDJoshy",target:"_blank",children:M.jsx(hy,{className:"socials__icon socials__icon--github"})})}),M.jsx("li",{className:"navbar__list-item",children:M.jsx("a",{className:"navbar__link navbar__link--linkedin",href:"https://www.linkedin.com/in/joshua-auristondo-gonzales-b7a183304/",target:"_blank",children:M.jsx(fy,{className:"socials__icon socials__icon--linkedin"})})})]}),M.jsx(Z1,{})]})},tE=({product:r})=>M.jsxs("div",{className:"item-list-container__item",children:[M.jsxs(Tn,{to:"/detail/"+r.id,className:"item-list-container__button",children:[M.jsx("div",{className:"item-list-container__image-container",children:M.jsx("img",{src:r.image[0],className:"item-list-container__image",alt:"",width:100})}),M.jsxs("div",{className:"item-list-container__info",children:[M.jsx("p",{className:"item-list-container__text item-list-container__text--title",children:r.title}),M.jsx("p",{className:"item-list-container__text item-list-container__text--preview",children:r.preview}),M.jsxs("p",{className:"item-list-container__text item-list-container__text--price",children:["$",r.price]})]})]}),M.jsx(Tn,{to:"/category/"+r.category,className:"item-list-container__button item-list-container__button--category",children:r.category})]}),nE=({products:r})=>M.jsx("div",{className:"item-list-container__list",children:r.map(e=>M.jsx(tE,{product:e},e.id))});var jm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},rE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},gy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let S=(d&15)<<2|y>>6,N=y&63;p||(N=64,h||(S=64)),s.push(t[v],t[w],t[S],t[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(my(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):rE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||y==null||w==null)throw new iE;const S=l<<2|d>>4;if(s.push(S),y!==64){const N=d<<4&240|y>>2;if(s.push(N),w!==64){const L=y<<6&192|w;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class iE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sE=function(r){const e=my(r);return gy.encodeByteArray(e,!0)},Ru=function(r){return sE(r).replace(/\./g,"")},oE=function(r){try{return gy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=()=>aE().__FIREBASE_DEFAULTS__,uE=()=>{if(typeof process>"u"||typeof jm>"u")return;const r=jm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&oE(r[1]);return e&&JSON.parse(e)},Mf=()=>{try{return lE()||uE()||cE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hE=r=>{var e,t;return(t=(e=Mf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},fE=r=>{const e=hE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},yy=()=>{var r;return(r=Mf())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ru(JSON.stringify(t)),Ru(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gE(){var r;const e=(r=Mf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yE(){return!gE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _E(){try{return typeof indexedDB=="object"}catch{return!1}}function vE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="FirebaseError";class yo extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=EE,Object.setPrototypeOf(this,yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_y.prototype.create)}}class _y{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?wE(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new yo(o,d,s)}}function wE(r,e){return r.replace(TE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const TE=/\{\$([^}]+)}/g;function rf(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(zm(l)&&zm(h)){if(!rf(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function zm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(r){return r&&r._delegate?r._delegate:r}class Ra{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new dE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xE(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SE(r){return r===Wi?void 0:r}function xE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const AE={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},kE=De.INFO,RE={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},PE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=RE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vy{constructor(e){this.name=e,this._logLevel=kE,this._logHandler=PE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const NE=(r,e)=>e.some(t=>r instanceof t);let Um,$m;function bE(){return Um||(Um=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DE(){return $m||($m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ey=new WeakMap,sf=new WeakMap,wy=new WeakMap,qh=new WeakMap,jf=new WeakMap;function VE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(ai(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ey.set(t,r)}).catch(()=>{}),jf.set(e,r),e}function OE(r){if(sf.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});sf.set(r,e)}let of={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return sf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||wy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ai(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LE(r){of=r(of)}function FE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Hh(this),e,...t);return wy.set(s,e.sort?e.sort():[e]),ai(s)}:DE().includes(r)?function(...e){return r.apply(Hh(this),e),ai(Ey.get(this))}:function(...e){return ai(r.apply(Hh(this),e))}}function ME(r){return typeof r=="function"?FE(r):(r instanceof IDBTransaction&&OE(r),NE(r,bE())?new Proxy(r,of):r)}function ai(r){if(r instanceof IDBRequest)return VE(r);if(qh.has(r))return qh.get(r);const e=ME(r);return e!==r&&(qh.set(r,e),jf.set(e,r)),e}const Hh=r=>jf.get(r);function jE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=ai(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ai(h.result),p.oldVersion,p.newVersion,ai(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const zE=["get","getKey","getAll","getAllKeys","count"],UE=["put","add","delete","clear"],Wh=new Map;function Bm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wh.get(e))return Wh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=UE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zE.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Wh.set(e,l),l}LE(r=>({...r,get:(e,t,s)=>Bm(e,t)||r.get(e,t,s),has:(e,t)=>!!Bm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function BE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const af="@firebase/app",qm="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new vy("@firebase/app"),qE="@firebase/app-compat",HE="@firebase/analytics-compat",WE="@firebase/analytics",QE="@firebase/app-check-compat",KE="@firebase/app-check",GE="@firebase/auth",XE="@firebase/auth-compat",YE="@firebase/database",JE="@firebase/data-connect",ZE="@firebase/database-compat",ew="@firebase/functions",tw="@firebase/functions-compat",nw="@firebase/installations",rw="@firebase/installations-compat",iw="@firebase/messaging",sw="@firebase/messaging-compat",ow="@firebase/performance",aw="@firebase/performance-compat",lw="@firebase/remote-config",uw="@firebase/remote-config-compat",cw="@firebase/storage",hw="@firebase/storage-compat",fw="@firebase/firestore",dw="@firebase/vertexai",pw="@firebase/firestore-compat",mw="firebase",gw="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="[DEFAULT]",yw={[af]:"fire-core",[qE]:"fire-core-compat",[WE]:"fire-analytics",[HE]:"fire-analytics-compat",[KE]:"fire-app-check",[QE]:"fire-app-check-compat",[GE]:"fire-auth",[XE]:"fire-auth-compat",[YE]:"fire-rtdb",[JE]:"fire-data-connect",[ZE]:"fire-rtdb-compat",[ew]:"fire-fn",[tw]:"fire-fn-compat",[nw]:"fire-iid",[rw]:"fire-iid-compat",[iw]:"fire-fcm",[sw]:"fire-fcm-compat",[ow]:"fire-perf",[aw]:"fire-perf-compat",[lw]:"fire-rc",[uw]:"fire-rc-compat",[cw]:"fire-gcs",[hw]:"fire-gcs-compat",[fw]:"fire-fst",[pw]:"fire-fst-compat",[dw]:"fire-vertex","fire-js":"fire-js",[mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,_w=new Map,uf=new Map;function Hm(r,e){try{r.container.addComponent(e)}catch(t){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Nu(r){const e=r.name;if(uf.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;uf.set(e,r);for(const t of Pu.values())Hm(t,r);for(const t of _w.values())Hm(t,r);return!0}function vw(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new _y("app","Firebase",Ew);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=gw;function Ty(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:lf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw li.create("bad-app-name",{appName:String(o)});if(t||(t=yy()),!t)throw li.create("no-options");const l=Pu.get(o);if(l){if(rf(t,l.options)&&rf(s,l.config))return l;throw li.create("duplicate-app",{appName:o})}const h=new CE(o);for(const p of uf.values())h.addComponent(p);const d=new ww(t,s,h);return Pu.set(o,d),d}function Iw(r=lf){const e=Pu.get(r);if(!e&&r===lf&&yy())return Ty();if(!e)throw li.create("no-app",{appName:r});return e}function ro(r,e,t){var s;let o=(s=yw[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(d.join(" "));return}Nu(new Ra(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="firebase-heartbeat-database",xw=1,Pa="firebase-heartbeat-store";let Qh=null;function Iy(){return Qh||(Qh=jE(Sw,xw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pa)}catch(t){console.warn(t)}}}}).catch(r=>{throw li.create("idb-open",{originalErrorMessage:r.message})})),Qh}async function Cw(r){try{const t=(await Iy()).transaction(Pa),s=await t.objectStore(Pa).get(Sy(r));return await t.done,s}catch(e){if(e instanceof yo)Pr.warn(e.message);else{const t=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(t.message)}}}async function Wm(r,e){try{const s=(await Iy()).transaction(Pa,"readwrite");await s.objectStore(Pa).put(e,Sy(r)),await s.done}catch(t){if(t instanceof yo)Pr.warn(t.message);else{const s=li.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pr.warn(s.message)}}}function Sy(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1024,kw=30*24*60*60*1e3;class Rw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Nw(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Qm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=kw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qm(),{heartbeatsToSend:s,unsentEntries:o}=Pw(this._heartbeatsCache.heartbeats),l=Ru(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Pr.warn(t),""}}}function Qm(){return new Date().toISOString().substring(0,10)}function Pw(r,e=Aw){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Km(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Km(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Nw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _E()?vE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Cw(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Km(r){return Ru(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r){Nu(new Ra("platform-logger",e=>new $E(e),"PRIVATE")),Nu(new Ra("heartbeat",e=>new Rw(e),"PRIVATE")),ro(af,qm,r),ro(af,qm,"esm2017"),ro("fire-js","")}bw("");var Dw="firebase",Vw="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro(Dw,Vw,"app");var Gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,xy;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function x(){}x.prototype=I.prototype,k.D=I.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(P,R,F){for(var A=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)A[Be-2]=arguments[Be];return I.prototype[R].apply(P,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,x){x||(x=0);var P=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)P[R]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(R=0;16>R;++R)P[R]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=k.g[0],x=k.g[1],R=k.g[2];var F=k.g[3],A=I+(F^x&(R^F))+P[0]+3614090360&4294967295;I=x+(A<<7&4294967295|A>>>25),A=F+(R^I&(x^R))+P[1]+3905402710&4294967295,F=I+(A<<12&4294967295|A>>>20),A=R+(x^F&(I^x))+P[2]+606105819&4294967295,R=F+(A<<17&4294967295|A>>>15),A=x+(I^R&(F^I))+P[3]+3250441966&4294967295,x=R+(A<<22&4294967295|A>>>10),A=I+(F^x&(R^F))+P[4]+4118548399&4294967295,I=x+(A<<7&4294967295|A>>>25),A=F+(R^I&(x^R))+P[5]+1200080426&4294967295,F=I+(A<<12&4294967295|A>>>20),A=R+(x^F&(I^x))+P[6]+2821735955&4294967295,R=F+(A<<17&4294967295|A>>>15),A=x+(I^R&(F^I))+P[7]+4249261313&4294967295,x=R+(A<<22&4294967295|A>>>10),A=I+(F^x&(R^F))+P[8]+1770035416&4294967295,I=x+(A<<7&4294967295|A>>>25),A=F+(R^I&(x^R))+P[9]+2336552879&4294967295,F=I+(A<<12&4294967295|A>>>20),A=R+(x^F&(I^x))+P[10]+4294925233&4294967295,R=F+(A<<17&4294967295|A>>>15),A=x+(I^R&(F^I))+P[11]+2304563134&4294967295,x=R+(A<<22&4294967295|A>>>10),A=I+(F^x&(R^F))+P[12]+1804603682&4294967295,I=x+(A<<7&4294967295|A>>>25),A=F+(R^I&(x^R))+P[13]+4254626195&4294967295,F=I+(A<<12&4294967295|A>>>20),A=R+(x^F&(I^x))+P[14]+2792965006&4294967295,R=F+(A<<17&4294967295|A>>>15),A=x+(I^R&(F^I))+P[15]+1236535329&4294967295,x=R+(A<<22&4294967295|A>>>10),A=I+(R^F&(x^R))+P[1]+4129170786&4294967295,I=x+(A<<5&4294967295|A>>>27),A=F+(x^R&(I^x))+P[6]+3225465664&4294967295,F=I+(A<<9&4294967295|A>>>23),A=R+(I^x&(F^I))+P[11]+643717713&4294967295,R=F+(A<<14&4294967295|A>>>18),A=x+(F^I&(R^F))+P[0]+3921069994&4294967295,x=R+(A<<20&4294967295|A>>>12),A=I+(R^F&(x^R))+P[5]+3593408605&4294967295,I=x+(A<<5&4294967295|A>>>27),A=F+(x^R&(I^x))+P[10]+38016083&4294967295,F=I+(A<<9&4294967295|A>>>23),A=R+(I^x&(F^I))+P[15]+3634488961&4294967295,R=F+(A<<14&4294967295|A>>>18),A=x+(F^I&(R^F))+P[4]+3889429448&4294967295,x=R+(A<<20&4294967295|A>>>12),A=I+(R^F&(x^R))+P[9]+568446438&4294967295,I=x+(A<<5&4294967295|A>>>27),A=F+(x^R&(I^x))+P[14]+3275163606&4294967295,F=I+(A<<9&4294967295|A>>>23),A=R+(I^x&(F^I))+P[3]+4107603335&4294967295,R=F+(A<<14&4294967295|A>>>18),A=x+(F^I&(R^F))+P[8]+1163531501&4294967295,x=R+(A<<20&4294967295|A>>>12),A=I+(R^F&(x^R))+P[13]+2850285829&4294967295,I=x+(A<<5&4294967295|A>>>27),A=F+(x^R&(I^x))+P[2]+4243563512&4294967295,F=I+(A<<9&4294967295|A>>>23),A=R+(I^x&(F^I))+P[7]+1735328473&4294967295,R=F+(A<<14&4294967295|A>>>18),A=x+(F^I&(R^F))+P[12]+2368359562&4294967295,x=R+(A<<20&4294967295|A>>>12),A=I+(x^R^F)+P[5]+4294588738&4294967295,I=x+(A<<4&4294967295|A>>>28),A=F+(I^x^R)+P[8]+2272392833&4294967295,F=I+(A<<11&4294967295|A>>>21),A=R+(F^I^x)+P[11]+1839030562&4294967295,R=F+(A<<16&4294967295|A>>>16),A=x+(R^F^I)+P[14]+4259657740&4294967295,x=R+(A<<23&4294967295|A>>>9),A=I+(x^R^F)+P[1]+2763975236&4294967295,I=x+(A<<4&4294967295|A>>>28),A=F+(I^x^R)+P[4]+1272893353&4294967295,F=I+(A<<11&4294967295|A>>>21),A=R+(F^I^x)+P[7]+4139469664&4294967295,R=F+(A<<16&4294967295|A>>>16),A=x+(R^F^I)+P[10]+3200236656&4294967295,x=R+(A<<23&4294967295|A>>>9),A=I+(x^R^F)+P[13]+681279174&4294967295,I=x+(A<<4&4294967295|A>>>28),A=F+(I^x^R)+P[0]+3936430074&4294967295,F=I+(A<<11&4294967295|A>>>21),A=R+(F^I^x)+P[3]+3572445317&4294967295,R=F+(A<<16&4294967295|A>>>16),A=x+(R^F^I)+P[6]+76029189&4294967295,x=R+(A<<23&4294967295|A>>>9),A=I+(x^R^F)+P[9]+3654602809&4294967295,I=x+(A<<4&4294967295|A>>>28),A=F+(I^x^R)+P[12]+3873151461&4294967295,F=I+(A<<11&4294967295|A>>>21),A=R+(F^I^x)+P[15]+530742520&4294967295,R=F+(A<<16&4294967295|A>>>16),A=x+(R^F^I)+P[2]+3299628645&4294967295,x=R+(A<<23&4294967295|A>>>9),A=I+(R^(x|~F))+P[0]+4096336452&4294967295,I=x+(A<<6&4294967295|A>>>26),A=F+(x^(I|~R))+P[7]+1126891415&4294967295,F=I+(A<<10&4294967295|A>>>22),A=R+(I^(F|~x))+P[14]+2878612391&4294967295,R=F+(A<<15&4294967295|A>>>17),A=x+(F^(R|~I))+P[5]+4237533241&4294967295,x=R+(A<<21&4294967295|A>>>11),A=I+(R^(x|~F))+P[12]+1700485571&4294967295,I=x+(A<<6&4294967295|A>>>26),A=F+(x^(I|~R))+P[3]+2399980690&4294967295,F=I+(A<<10&4294967295|A>>>22),A=R+(I^(F|~x))+P[10]+4293915773&4294967295,R=F+(A<<15&4294967295|A>>>17),A=x+(F^(R|~I))+P[1]+2240044497&4294967295,x=R+(A<<21&4294967295|A>>>11),A=I+(R^(x|~F))+P[8]+1873313359&4294967295,I=x+(A<<6&4294967295|A>>>26),A=F+(x^(I|~R))+P[15]+4264355552&4294967295,F=I+(A<<10&4294967295|A>>>22),A=R+(I^(F|~x))+P[6]+2734768916&4294967295,R=F+(A<<15&4294967295|A>>>17),A=x+(F^(R|~I))+P[13]+1309151649&4294967295,x=R+(A<<21&4294967295|A>>>11),A=I+(R^(x|~F))+P[4]+4149444226&4294967295,I=x+(A<<6&4294967295|A>>>26),A=F+(x^(I|~R))+P[11]+3174756917&4294967295,F=I+(A<<10&4294967295|A>>>22),A=R+(I^(F|~x))+P[2]+718787259&4294967295,R=F+(A<<15&4294967295|A>>>17),A=x+(F^(R|~I))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+R&4294967295,k.g[3]=k.g[3]+F&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var x=I-this.blockSize,P=this.B,R=this.h,F=0;F<I;){if(R==0)for(;F<=x;)o(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<I;)if(P[R++]=k.charCodeAt(F++),R==this.blockSize){o(this,P),R=0;break}}else for(;F<I;)if(P[R++]=k[F++],R==this.blockSize){o(this,P),R=0;break}}this.h=R,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var x=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=x&255,x/=256;for(this.u(k),k=Array(16),I=x=0;4>I;++I)for(var P=0;32>P;P+=8)k[x++]=this.g[I]>>>P&255;return k};function l(k,I){var x=d;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=I(k)}function h(k,I){this.h=I;for(var x=[],P=!0,R=k.length-1;0<=R;R--){var F=k[R]|0;P&&F==I||(x[R]=F,P=!1)}this.g=x}var d={};function p(k){return-128<=k&&128>k?l(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return V(y(-k));for(var I=[],x=1,P=0;k>=x;P++)I[P]=k/x|0,x*=4294967296;return new h(I,0)}function v(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return V(v(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(I,8)),P=w,R=0;R<k.length;R+=8){var F=Math.min(8,k.length-R),A=parseInt(k.substring(R,R+F),I);8>F?(F=y(Math.pow(I,F)),P=P.j(F).add(y(A))):(P=P.j(x),P=P.add(y(A)))}return P}var w=p(0),S=p(1),N=p(16777216);r=h.prototype,r.m=function(){if(j(this))return-V(this).m();for(var k=0,I=1,x=0;x<this.g.length;x++){var P=this.i(x);k+=(0<=P?P:4294967296+P)*I,I*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(L(this))return"0";if(j(this))return"-"+V(this).toString(k);for(var I=y(Math.pow(k,6)),x=this,P="";;){var R=ee(x,I).g;x=O(x,R.j(I));var F=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=R,L(x))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function L(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function j(k){return k.h==-1}r.l=function(k){return k=O(this,k),j(k)?-1:L(k)?0:1};function V(k){for(var I=k.g.length,x=[],P=0;P<I;P++)x[P]=~k.g[P];return new h(x,~k.h).add(S)}r.abs=function(){return j(this)?V(this):this},r.add=function(k){for(var I=Math.max(this.g.length,k.g.length),x=[],P=0,R=0;R<=I;R++){var F=P+(this.i(R)&65535)+(k.i(R)&65535),A=(F>>>16)+(this.i(R)>>>16)+(k.i(R)>>>16);P=A>>>16,F&=65535,A&=65535,x[R]=A<<16|F}return new h(x,x[x.length-1]&-2147483648?-1:0)};function O(k,I){return k.add(V(I))}r.j=function(k){if(L(this)||L(k))return w;if(j(this))return j(k)?V(this).j(V(k)):V(V(this).j(k));if(j(k))return V(this.j(V(k)));if(0>this.l(N)&&0>k.l(N))return y(this.m()*k.m());for(var I=this.g.length+k.g.length,x=[],P=0;P<2*I;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<k.g.length;R++){var F=this.i(P)>>>16,A=this.i(P)&65535,Be=k.i(R)>>>16,ft=k.i(R)&65535;x[2*P+2*R]+=A*ft,z(x,2*P+2*R),x[2*P+2*R+1]+=F*ft,z(x,2*P+2*R+1),x[2*P+2*R+1]+=A*Be,z(x,2*P+2*R+1),x[2*P+2*R+2]+=F*Be,z(x,2*P+2*R+2)}for(P=0;P<I;P++)x[P]=x[2*P+1]<<16|x[2*P];for(P=I;P<2*I;P++)x[P]=0;return new h(x,0)};function z(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function K(k,I){this.g=k,this.h=I}function ee(k,I){if(L(I))throw Error("division by zero");if(L(k))return new K(w,w);if(j(k))return I=ee(V(k),I),new K(V(I.g),V(I.h));if(j(I))return I=ee(k,V(I)),new K(V(I.g),I.h);if(30<k.g.length){if(j(k)||j(I))throw Error("slowDivide_ only works with positive integers.");for(var x=S,P=I;0>=P.l(k);)x=se(x),P=se(P);var R=oe(x,1),F=oe(P,1);for(P=oe(P,2),x=oe(x,2);!L(P);){var A=F.add(P);0>=A.l(k)&&(R=R.add(x),F=A),P=oe(P,1),x=oe(x,1)}return I=O(k,R.j(I)),new K(R,I)}for(R=w;0<=k.l(I);){for(x=Math.max(1,Math.floor(k.m()/I.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=y(x),A=F.j(I);j(A)||0<A.l(k);)x-=P,F=y(x),A=F.j(I);L(F)&&(F=S),R=R.add(F),k=O(k,A)}return new K(R,k)}r.A=function(k){return ee(this,k).h},r.and=function(k){for(var I=Math.max(this.g.length,k.g.length),x=[],P=0;P<I;P++)x[P]=this.i(P)&k.i(P);return new h(x,this.h&k.h)},r.or=function(k){for(var I=Math.max(this.g.length,k.g.length),x=[],P=0;P<I;P++)x[P]=this.i(P)|k.i(P);return new h(x,this.h|k.h)},r.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),x=[],P=0;P<I;P++)x[P]=this.i(P)^k.i(P);return new h(x,this.h^k.h)};function se(k){for(var I=k.g.length+1,x=[],P=0;P<I;P++)x[P]=k.i(P)<<1|k.i(P-1)>>>31;return new h(x,k.h)}function oe(k,I){var x=I>>5;I%=32;for(var P=k.g.length-x,R=[],F=0;F<P;F++)R[F]=0<I?k.i(F+x)>>>I|k.i(F+x+1)<<32-I:k.i(F+x);return new h(R,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,ui=h}).apply(typeof Gm<"u"?Gm:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cy,Ea,Ay,Eu,cf,ky,Ry,Py;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var $=u[T];if(!($ in _))break e;_=_[$]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,T=!1,$={next:function(){if(!T&&_<u.length){var Q=_++;return{value:m(Q,u[Q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function w(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,T),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,S.apply(null,arguments)}function N(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,$,Q){for(var ie=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ie[ze-2]=arguments[ze];return m.prototype[$].apply(T,ie)}}function j(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function V(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const $=u.length||0,Q=T.length||0;u.length=$+Q;for(let ie=0;ie<Q;ie++)u[$+ie]=T[ie]}else u.push(T)}}class O{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var se=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function oe(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function k(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let _,T;for(let $=1;$<arguments.length;$++){T=arguments[$];for(_ in T)u[_]=T[_];for(let Q=0;Q<x.length;Q++)_=x[Q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function R(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function F(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Be{constructor(){this.h=this.g=null}add(m,_){const T=ft.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new O(()=>new dt,u=>u.reset());class dt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,re=!1,ye=new Be,le=()=>{const u=d.Promise.resolve(void 0);Oe=()=>{u.then(U)}};var U=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){F(_)}var m=ft;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u}();function xe(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(se){e:{try{ee(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}L(xe,me);var Pe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function qe(u,m,_,T,$){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=$,this.key=++Me,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ar(u){this.src=u,this.g={},this.h=0}ar.prototype.add=function(u,m,_,T,$){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ie=Vr(u,m,T,$);return-1<ie?(m=u[ie],_||(m.fa=!1)):(m=new qe(m,this.src,Q,!!T,$),m.fa=_,u.push(m)),m};function is(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],$=Array.prototype.indexOf.call(T,m,void 0),Q;(Q=0<=$)&&Array.prototype.splice.call(T,$,1),Q&&(Et(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Vr(u,m,_,T){for(var $=0;$<u.length;++$){var Q=u[$];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==T)return $}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),ss={};function Io(u,m,_,T,$){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Io(u,m[Q],_,T,$);return null}return _=Co(_),u&&u[Fe]?u.K(m,_,y(T)?!!T.capture:!!T,$):So(u,m,_,!1,T,$)}function So(u,m,_,T,$,Q){if(!m)throw Error("Invalid event type");var ie=y($)?!!$.capture:!!$,ze=as(u);if(ze||(u[_i]=ze=new ar(u)),_=ze.add(m,_,T,ie,Q),_.proxy)return _;if(T=Ka(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)Se||($=ie),$===void 0&&($=!1),u.addEventListener(m.toString(),T,$);else if(u.attachEvent)u.attachEvent(ur(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ka(){function u(_){return m.call(u.src,u.listener,_)}const m=xo;return u}function os(u,m,_,T,$){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)os(u,m[Q],_,T,$);else T=y(T)?!!T.capture:!!T,_=Co(_),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],_=Vr(Q,_,T,$),-1<_&&(Et(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=as(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Vr(m,_,T,$)),(_=-1<u?m[u]:null)&&lr(_))}function lr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])is(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ur(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=as(m))?(is(_,u),_.h==0&&(_.src=null,m[_i]=null)):Et(u)}}}function ur(u){return u in ss?ss[u]:ss[u]="on"+u}function xo(u,m){if(u.da)u=!0;else{m=new xe(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&lr(u),u=_.call(T,m)}return u}function as(u){return u=u[_i],u instanceof ar?u:null}var ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(u){return typeof u=="function"?u:(u[ls]||(u[ls]=function(m){return u.handleEvent(m)}),u[ls])}function pt(){X.call(this),this.i=new ar(this),this.M=this,this.F=null}L(pt,X),pt.prototype[Fe]=!0,pt.prototype.removeEventListener=function(u,m,_,T){os(this,u,m,_,T)};function mt(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var $=m;m=new me(T,u),P(m,$)}if($=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ie=m.g=_[Q];$=cr(ie,T,!0,m)&&$}if(ie=m.g=u,$=cr(ie,T,!0,m)&&$,$=cr(ie,T,!1,m)&&$,_)for(Q=0;Q<_.length;Q++)ie=m.g=_[Q],$=cr(ie,T,!1,m)&&$}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Et(_[T]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pt.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function cr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,Q=0;Q<m.length;++Q){var ie=m[Q];if(ie&&!ie.da&&ie.capture==_){var ze=ie.listener,gt=ie.ha||ie.src;ie.fa&&is(u.i,ie),$=ze.call(gt,T)!==!1&&$}}return $&&!T.defaultPrevented}function Ao(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Or(u){u.g=Ao(()=>{u.g=null,u.i&&(u.i=!1,Or(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class vi extends X{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Or(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(u){X.call(this),this.h=u,this.g={}}L(Ei,X);var ko=[];function Ro(u){oe(u.g,function(m,_){this.g.hasOwnProperty(_)&&lr(m)},u),u.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),Ro(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Po=d.JSON.stringify,No=d.JSON.parse,bo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function wi(){}wi.prototype.h=null;function us(u){return u.h||(u.h=u.i())}function cs(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){me.call(this,"d")}L(Un,me);function hs(){me.call(this,"c")}L(hs,me);var $n={},Do=null;function Ti(){return Do=Do||new pt}$n.La="serverreachability";function Vo(u){me.call(this,$n.La,u)}L(Vo,me);function hr(u){const m=Ti();mt(m,new Vo(m))}$n.STAT_EVENT="statevent";function Oo(u,m){me.call(this,$n.STAT_EVENT,u),this.stat=m}L(Oo,me);function it(u){const m=Ti();mt(m,new Oo(m,u))}$n.Ma="timingevent";function fs(u,m){me.call(this,$n.Ma,u),this.size=m}L(fs,me);function In(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function Si(u,m,_,T,$,Q){u.info(function(){if(u.g)if(Q)for(var ie="",ze=Q.split("&"),gt=0;gt<ze.length;gt++){var Ne=ze[gt].split("=");if(1<Ne.length){var wt=Ne[0];Ne=Ne[1];var at=wt.split("_");ie=2<=at.length&&at[1]=="type"?ie+(wt+"="+Ne+"&"):ie+(wt+"=redacted&")}}else ie=null;else ie=Q;return"XMLHTTP REQ ("+T+") [attempt "+$+"]: "+m+`
`+_+`
`+ie})}function ds(u,m,_,T,$,Q,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+$+"]: "+m+`
`+_+`
`+Q+" "+ie})}function Sn(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+hc(u,_)+(T?" "+T:"")})}function Lo(u,m){u.info(function(){return"TIMEOUT: "+m})}Ii.prototype.info=function(){};function hc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var $=T[1];if(Array.isArray($)&&!(1>$.length)){var Q=$[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ie=1;ie<$.length;ie++)$[ie]=""}}}}return Po(_)}catch{return m}}var ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ga={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xn;function xi(){}L(xi,wi),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},xn=new xi;function Cn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xa}function Xa(){this.i=null,this.g="",this.h=!1}var Fo={},ms={};function gs(u,m,_){u.L=1,u.v=zr(rn(m)),u.m=_,u.P=!0,Mo(u,null)}function Mo(u,m){u.F=Date.now(),He(u),u.A=rn(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),$r(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Xa,u.g=pl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new vi(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var $="readystatechange";Array.isArray($)||($&&(ko[0]=$.toString()),$=ko);for(var Q=0;Q<$.length;Q++){var ie=Io(_,$[Q],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),hr(),Si(u.i,u.u,u.A,u.l,u.R,u.m)}Cn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Wt(u)==3?m.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const at=Wt(this.g);var m=this.g.Ba();const pn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||qo(this.g)))){this.J||at!=4||m==7||(m==8||0>=pn?hr(3):hr(2)),Ci(this);var _=this.g.Z();this.X=_;t:if(Ya(this)){var T=qo(this.g);u="";var $=T.length,Q=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Lr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(Q&&m==$-1)});T.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,ds(this.i,this.u,this.A,this.l,this.R,at,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,gt=this.g;if((ze=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ze)){var Ne=ze;break t}}Ne=null}if(_=Ne)Sn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jo(this,_);else{this.o=!1,this.s=3,it(12),fn(this),Lr(this);break e}}if(this.P){_=!0;let on;for(;!this.J&&this.C<ie.length;)if(on=fc(this,ie),on==ms){at==4&&(this.s=4,it(14),_=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Fo){this.s=4,it(15),Sn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Sn(this.i,this.l,on,null),jo(this,on);if(Ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||ie.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)Sn(this.i,this.l,ie,"[Invalid Chunked Response]"),fn(this),Lr(this);else if(0<ie.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Wo(wt),wt.M=!0,it(11))}}else Sn(this.i,this.l,ie,null),jo(this,ie);at==4&&fn(this),this.o&&!this.J&&(at==4?As(this.j,this):(this.o=!1,He(this)))}else Ts(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),fn(this),Lr(this)}}}catch{}finally{}};function Ya(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fc(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ms:(_=Number(m.substring(_,T)),isNaN(_)?Fo:(T+=1,T+_>m.length?ms:(m=m.slice(T,T+_),u.C=T+_,m)))}Cn.prototype.cancel=function(){this.J=!0,fn(this)};function He(u){u.S=Date.now()+u.I,Ja(u,u.I)}function Ja(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=In(S(u.ba,u),m)}function Ci(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Lo(this.i,this.A),this.L!=2&&(hr(),it(17)),fn(this),this.s=2,Lr(this)):Ja(this,this.S-u)};function Lr(u){u.j.G==0||u.J||As(u.j,u)}function fn(u){Ci(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ro(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function jo(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||zt(_.h,u))){if(!u.K&&zt(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var $=T;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Cs(_),Nn(_);else break e;xs(_),it(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=In(S(_.Za,_),6e3));if(1>=el(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else gr(_,11)}else if((u.K||_.g==u)&&Cs(_),!z(m))for($=_.Da.g.parse(m),m=0;m<$.length;m++){let Ne=$[m];if(_.T=Ne[0],Ne=Ne[1],_.G==2)if(Ne[0]=="c"){_.K=Ne[1],_.ia=Ne[2];const wt=Ne[3];wt!=null&&(_.la=wt,_.j.info("VER="+_.la));const at=Ne[4];at!=null&&(_.Aa=at,_.j.info("SVER="+_.Aa));const pn=Ne[5];pn!=null&&typeof pn=="number"&&0<pn&&(T=1.5*pn,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const on=u.g;if(on){const Di=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Di){var Q=T.h;Q.g||Di.indexOf("spdy")==-1&&Di.indexOf("quic")==-1&&Di.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(zo(Q,Q.h),Q.h=null))}if(T.D){const Rs=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Rs&&(T.ya=Rs,$e(T.I,T.D,Rs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var ie=u;if(T.qa=dl(T,T.J?T.ia:null,T.W),ie.K){tl(T.h,ie);var ze=ie,gt=T.L;gt&&(ze.I=gt),ze.B&&(Ci(ze),He(ze)),T.g=ie}else bi(T);0<_.i.length&&Wn(_)}else Ne[0]!="stop"&&Ne[0]!="close"||gr(_,7);else _.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?gr(_,7):At(_):Ne[0]!="noop"&&_.l&&_.l.ta(Ne),_.v=0)}}hr(4)}catch{}}var Za=class{constructor(u,m){this.g=u,this.map=m}};function Ai(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function el(u){return u.h?1:u.g?u.g.size:0}function zt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zo(u,m){u.g?u.g.add(m):u.h=m}function tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ai.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return j(u.i)}function ys(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function _s(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Fr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=_s(u),T=ys(u),$=T.length,Q=0;Q<$;Q++)m.call(void 0,T[Q],_&&_[Q],u)}var ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),$=null;if(0<=T){var Q=u[_].substring(0,T);$=u[_].substring(T+1)}else Q=u[_];m(Q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fr){this.h=u.h,Ri(this,u.j),this.o=u.o,this.g=u.g,Mr(this,u.s),this.l=u.l;var m=u.i,_=new Bn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),jr(this,_),this.m=u.m}else u&&(m=String(u).match(ki))?(this.h=!1,Ri(this,m[1]||"",!0),this.o=ke(m[2]||""),this.g=ke(m[3]||"",!0),Mr(this,m[4]),this.l=ke(m[5]||"",!0),jr(this,m[6]||"",!0),this.m=ke(m[7]||"")):(this.h=!1,this.i=new Bn(null,this.h))}fr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ur(m,vs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,vs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ur(_,_.charAt(0)=="/"?sl:il,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ur(_,Uo)),u.join("")};function rn(u){return new fr(u)}function Ri(u,m,_){u.j=_?ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Mr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function jr(u,m,_){m instanceof Bn?(u.i=m,qn(u.i,u.h)):(_||(m=Ur(m,ol)),u.i=new Bn(m,u.h))}function $e(u,m,_){u.i.set(m,_)}function zr(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,rl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vs=/[#\/\?@]/g,il=/[#\?:]/g,sl=/[#\?]/g,ol=/[#\?@]/g,Uo=/#/g;function Bn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ct(u){u.g||(u.g=new Map,u.h=0,u.i&&dc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Bn.prototype,r.add=function(u,m){Ct(this),this.i=null,u=dn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function An(u,m){Ct(u),m=dn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kn(u,m){return Ct(u),m=dn(u,m),u.g.has(m)}r.forEach=function(u,m){Ct(this),this.g.forEach(function(_,T){_.forEach(function($){u.call(m,$,T,this)},this)},this)},r.na=function(){Ct(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const $=u[T];for(let Q=0;Q<$.length;Q++)_.push(m[T])}return _},r.V=function(u){Ct(this);let m=[];if(typeof u=="string")kn(this,u)&&(m=m.concat(this.g.get(dn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Ct(this),this.i=null,u=dn(this,u),kn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function $r(u,m,_){An(u,m),0<_.length&&(u.i=null,u.g.set(dn(u,m),j(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const Q=encodeURIComponent(String(T)),ie=this.V(T);for(T=0;T<ie.length;T++){var $=Q;ie[T]!==""&&($+="="+encodeURIComponent(String(ie[T]))),u.push($)}}return this.i=u.join("&")};function dn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function qn(u,m){m&&!u.j&&(Ct(u),u.i=null,u.g.forEach(function(_,T){var $=T.toLowerCase();T!=$&&(An(this,T),$r(this,$,_))},u)),u.j=m}function pc(u,m){const _=new Ii;if(d.Image){const T=new Image;T.onload=N(Ht,_,"TestLoadImage: loaded",!0,m,T),T.onerror=N(Ht,_,"TestLoadImage: error",!1,m,T),T.onabort=N(Ht,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=N(Ht,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function al(u,m){const _=new Ii,T=new AbortController,$=setTimeout(()=>{T.abort(),Ht(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(Q=>{clearTimeout($),Q.ok?Ht(_,"TestPingServer: ok",!0,m):Ht(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Ht(_,"TestPingServer: error",!1,m)})}function Ht(u,m,_,T,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),T(_)}catch{}}function mc(){this.g=new bo}function ll(u,m,_){const T=_||"";try{Fr(u,function($,Q){let ie=$;y($)&&(ie=Po($)),m.push(T+Q+"="+encodeURIComponent(ie))})}catch($){throw m.push(T+"type="+encodeURIComponent("_badmap")),$}}function dr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(dr,wi),dr.prototype.g=function(){return new Pi(this.l,this.j)},dr.prototype.i=function(u){return function(){return u}}({});function Pi(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Pi,pt),r=Pi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Pn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rn(this):Pn(this),this.readyState==3&&ul(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Rn(this))},r.Qa=function(u){this.g&&(this.response=u,Rn(this))},r.ga=function(){this.g&&Rn(this)};function Rn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Pn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Pn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pr(u){let m="";return oe(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Br(u,m,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=pr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):$e(u,m,_))}function Ye(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ye,pt);var gc=/^https?$/i,$o=["POST","PUT"];r=Ye.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xn.g(),this.v=this.o?us(this.o):us(xn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Ni(this,Q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var $ in T)_.set($,T[$]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())_.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),$=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call($o,m,void 0))||T||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ie]of _)this.g.setRequestHeader(Q,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Ni(this,Q)}};function Ni(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Es(u),sn(u)}function Es(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),sn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),Ye.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Bo(this):this.bb())},r.bb=function(){Bo(this)};function Bo(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Wt(u)!=4||u.Z()!=2)){if(u.u&&Wt(u)==4)Ao(u.Ea,0,u);else if(mt(u,"readystatechange"),Wt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var T;if(T=ie===0){var $=String(u.D).match(ki)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!gc.test($?$.toLowerCase():"")}_=T}if(_)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var Q=2<Wt(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Es(u)}}finally{sn(u)}}}}function sn(u,m){if(u.g){ws(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{_.onreadystatechange=T}catch{}}}function ws(u){u.I&&(d.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Wt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),No(m)}};function qo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(u){const m={};u=(u.g&&2<=Wt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(z(u[T]))continue;var _=R(u[T]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[$]||[];m[$]=Q,Q.push(_)}k(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ho(u){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,u),this.cb=Hn("retryDelaySeedMs",1e4,u),this.Wa=Hn("forwardChannelMaxRetries",2,u),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(u&&u.concurrentRequestLimit),this.Da=new mc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ho.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){it(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=dl(this,null,this.W),Wn(this)};function At(u){if(Is(u),u.G==3){var m=u.U++,_=rn(u.I);if($e(_,"SID",u.K),$e(_,"RID",m),$e(_,"TYPE","terminate"),mr(u,_),m=new Cn(u,u.j,m),m.L=2,m.v=zr(rn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.v,_=!0),_||(m.g=pl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),He(m)}fl(u)}function Nn(u){u.g&&(Wo(u),u.g.cancel(),u.g=null)}function Is(u){Nn(u),u.u&&(d.clearTimeout(u.u),u.u=null),Cs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Wn(u){if(!nn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Oe||le(),re||(Oe(),re=!0),ye.add(m,u),u.B=0}}function yc(u,m){return el(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=In(S(u.Ga,u,m),hl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new Cn(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=I(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||($.H=Q,Q=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=qr(this,$,m),_=rn(this.I),$e(_,"RID",u),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),mr(this,_),Q&&(this.O?m="headers="+encodeURIComponent(String(pr(Q)))+"&"+m:this.m&&Br(_,this.m,Q)),zo(this.h,$),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",m),$e(_,"SID","null"),$.T=!0,gs($,_,null)):gs($,_,m),this.G=2}}else this.G==3&&(u?Ss(this,u):this.i.length==0||nn(this.h)||Ss(this))};function Ss(u,m){var _;m?_=m.l:_=u.U++;const T=rn(u.I);$e(T,"SID",u.K),$e(T,"RID",_),$e(T,"AID",u.T),mr(u,T),u.m&&u.o&&Br(T,u.m,u.o),_=new Cn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=qr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zo(u.h,_),gs(_,T,m)}function mr(u,m){u.H&&oe(u.H,function(_,T){$e(m,T,_)}),u.l&&Fr({},function(_,T){$e(m,T,_)})}function qr(u,m,_){_=Math.min(u.i.length,_);var T=u.l?S(u.l.Na,u.l,u):null;e:{var $=u.i;let Q=-1;for(;;){const ie=["count="+_];Q==-1?0<_?(Q=$[0].g,ie.push("ofs="+Q)):Q=0:ie.push("ofs="+Q);let ze=!0;for(let gt=0;gt<_;gt++){let Ne=$[gt].g;const wt=$[gt].map;if(Ne-=Q,0>Ne)Q=Math.max(0,$[gt].g-100),ze=!1;else try{ll(wt,ie,"req"+Ne+"_")}catch{T&&T(wt)}}if(ze){T=ie.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,T}function bi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Oe||le(),re||(Oe(),re=!0),ye.add(m,u),u.v=0}}function xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=In(S(u.Fa,u),hl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,cl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=In(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Nn(this),cl(this))};function Wo(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function cl(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);$e(m,"RID","rpc"),$e(m,"SID",u.K),$e(m,"AID",u.T),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(m,"TO",u.ja),$e(m,"TYPE","xmlhttp"),mr(u,m),u.m&&u.o&&Br(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=zr(rn(m)),_.m=null,_.P=!0,Mo(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Nn(this),xs(this),it(19))};function Cs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function As(u,m){var _=null;if(u.g==m){Cs(u),Wo(u),u.g=null;var T=2}else if(zt(u.h,m))_=m.D,tl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;T=Ti(),mt(T,new fs(T,_)),Wn(u)}else bi(u);else if($=m.s,$==3||$==0&&0<m.X||!(T==1&&yc(u,m)||T==2&&xs(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),$){case 1:gr(u,5);break;case 4:gr(u,10);break;case 3:gr(u,6);break;default:gr(u,2)}}}function hl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function gr(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),T=u.Xa;const $=!T;T=new fr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ri(T,"https"),zr(T),$?pc(T.toString(),_):al(T.toString(),_)}else it(2);u.G=0,u.l&&u.l.sa(m),fl(u),Is(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function fl(u){if(u.G=0,u.ka=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function dl(u,m,_){var T=_ instanceof fr?rn(_):new fr(_);if(T.g!="")m&&(T.g=m+"."+T.g),Mr(T,T.s);else{var $=d.location;T=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var Q=new fr(null);T&&Ri(Q,T),m&&(Q.g=m),$&&Mr(Q,$),_&&(Q.l=_),T=Q}return _=u.D,m=u.ya,_&&m&&$e(T,_,m),$e(T,"VER",u.la),mr(u,T),T}function pl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new dr({eb:_})):new Ye(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qo(){}r=Qo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ks(){}ks.prototype.g=function(u,m){return new Ut(u,m)};function Ut(u,m){pt.call(this),this.g=new Ho(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}L(Ut,pt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){At(this.g)},Ut.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Po(u),u=_);m.i.push(new Za(m.Ya++,u)),m.G==3&&Wn(m)},Ut.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,Ut.aa.N.call(this)};function ml(u){Un.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(ml,Un);function gl(){hs.call(this),this.status=1}L(gl,hs);function Qn(u){this.g=u}L(Qn,Qo),Qn.prototype.ua=function(){mt(this.g,"a")},Qn.prototype.ta=function(u){mt(this.g,new ml(u))},Qn.prototype.sa=function(u){mt(this.g,new gl)},Qn.prototype.ra=function(){mt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Py=function(){return new ks},Ry=function(){return Ti()},ky=$n,cf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Eu=ps,Ga.COMPLETE="complete",Ay=Ga,cs.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ea=cs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Cy=Ye}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const Xm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new vy("@firebase/firestore");function Js(){return Xi.logLevel}function ue(r,...e){if(Xi.logLevel<=De.DEBUG){const t=e.map(zf);Xi.debug(`Firestore (${_o}): ${r}`,...t)}}function Nr(r,...e){if(Xi.logLevel<=De.ERROR){const t=e.map(zf);Xi.error(`Firestore (${_o}): ${r}`,...t)}}function oo(r,...e){if(Xi.logLevel<=De.WARN){const t=e.map(zf);Xi.warn(`Firestore (${_o}): ${r}`,...t)}}function zf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+r;throw Nr(e),new Error(e)}function je(r,e){r||we()}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends yo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ow{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mt.UNAUTHENTICATED))}shutdown(){}}class Lw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fw{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new kr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new kr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string"),new Ny(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Mt(e)}}class Mw{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jw{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new Mw(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){je(this.o===void 0);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string"),this.R=t.token,new zw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=$w(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function Re(r,e){return r<e?-1:r>e?1:0}function ao(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ht(0,0))}static max(){return new Te(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Jn.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Jn.isNumericId(e),o=Jn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class Ge extends Jn{construct(e,t,s){return new Ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const Bw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Jn{construct(e,t,s){return new Nt(e,t,s)}static isValidIdentifier(e){return Bw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new he(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new he(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ge.fromString(e))}static fromName(e){return new ge(Ge.fromString(e).popFirst(5))}static empty(){return new ge(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ge(e.slice()))}}function qw(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new ht(t+1,0):new ht(t,s));return new di(o,ge.empty(),e)}function Hw(r){return new di(r.readTime,r.key,-1)}class di{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new di(Te.min(),ge.empty(),-1)}static max(){return new di(Te.max(),ge.empty(),-1)}}function Ww(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Re(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==Qw)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,s)=>{t(e)})}static reject(e){return new G((t,s)=>{s(e)})}static waitFor(e){return new G((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=G.resolve(!1);for(const s of e)t=t.next(o=>o?G.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new G((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(v=>{h[y]=v,++d,d===l&&s(h)},v=>o(v))}})}static doWhile(e,t){return new G((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function Gw(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wu.oe=-1;function Qu(r){return r==null}function bu(r){return r===0&&1/r==-1/0}function Xw(r){return typeof r=="number"&&Number.isInteger(r)&&!bu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Ym(e)),e=Jw(r.get(t),e);return Ym(e)}function Jw(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Ym(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Zi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Dy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Pt.RED,this.left=o??Pt.EMPTY,this.right=l??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Pt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Pt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zm(this.data.getIterator())}getIteratorFrom(e){return new Zm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vt(this.comparator);return t.data=e,t}}class Zm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new vt(Nt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Vy("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const Zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(r){if(je(!!r),typeof r=="string"){let e=0;const t=Zw.exec(r);if(je(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(r.seconds),nanos:ot(r.nanos)}}function ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function mi(r){return typeof r=="string"?bt.fromBase64String(r):bt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ku(r){const e=r.mapValue.fields.__previous_value__;return Uf(e)?Ku(e):e}function Na(r){const e=pi(r.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t,s,o,l,h,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Uf(r)?4:nT(r)?9007199254740991:tT(r)?10:11:we()}function ir(r,e){if(r===e)return!0;const t=gi(r);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Na(r).isEqual(Na(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=pi(o.timestampValue),d=pi(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return mi(o.bytesValue).isEqual(mi(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return ot(o.geoPointValue.latitude)===ot(l.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ot(o.integerValue)===ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ot(o.doubleValue),d=ot(l.doubleValue);return h===d?bu(h)===bu(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return ao(r.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Jm(h)!==Jm(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!ir(h[p],d[p])))return!1;return!0}(r,e);default:return we()}}function Da(r,e){return(r.values||[]).find(t=>ir(t,e))!==void 0}function lo(r,e){if(r===e)return 0;const t=gi(r),s=gi(e);if(t!==s)return Re(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=ot(l.integerValue||l.doubleValue),p=ot(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return eg(r.timestampValue,e.timestampValue);case 4:return eg(Na(r),Na(e));case 5:return Re(r.stringValue,e.stringValue);case 6:return function(l,h){const d=mi(l),p=mi(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const v=Re(d[y],p[y]);if(v!==0)return v}return Re(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Re(ot(l.latitude),ot(h.latitude));return d!==0?d:Re(ot(l.longitude),ot(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return tg(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,y,v;const w=l.fields||{},S=h.fields||{},N=(d=w.value)===null||d===void 0?void 0:d.arrayValue,L=(p=S.value)===null||p===void 0?void 0:p.arrayValue,j=Re(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:tg(N,L)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===du.mapValue&&h===du.mapValue)return 0;if(l===du.mapValue)return 1;if(h===du.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const S=Re(p[w],v[w]);if(S!==0)return S;const N=lo(d[p[w]],y[v[w]]);if(N!==0)return N}return Re(p.length,v.length)}(r.mapValue,e.mapValue);default:throw we()}}function eg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Re(r,e);const t=pi(r),s=pi(e),o=Re(t.seconds,s.seconds);return o!==0?o:Re(t.nanos,s.nanos)}function tg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=lo(t[o],s[o]);if(l)return l}return Re(t.length,s.length)}function uo(r){return hf(r)}function hf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=pi(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return mi(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=hf(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${hf(t.fields[h])}`;return o+"}"}(r.mapValue):we()}function wu(r){switch(gi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ku(r);return e?16+wu(e):16;case 5:return 2*r.stringValue.length;case 6:return mi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+wu(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Zi(s.fields,(l,h)=>{o+=l.length+wu(h)}),o}(r.mapValue);default:throw we()}}function ng(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ff(r){return!!r&&"integerValue"in r}function $f(r){return!!r&&"arrayValue"in r}function rg(r){return!!r&&"nullValue"in r}function ig(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tu(r){return!!r&&"mapValue"in r}function tT(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Sa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Zi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Sa(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function nT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Tu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(t)}setAll(e){let t=Nt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=Sa(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Tu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Tu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Zi(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new wn(Sa(this.value))}}function Oy(r){const e=[];return Zi(r.fields,(t,s)=>{const o=new Nt([t]);if(Tu(s)){const l=Oy(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new jt(e,0,Te.min(),Te.min(),Te.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new jt(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new jt(e,2,t,Te.min(),Te.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,Te.min(),Te.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.position=e,this.inclusive=t}}function sg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=lo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function og(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ir(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function rT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{}class ct extends Ly{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new sT(e,t,s):t==="array-contains"?new lT(e,s):t==="in"?new uT(e,s):t==="not-in"?new cT(e,s):t==="array-contains-any"?new hT(e,s):new ct(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new oT(e,s):new aT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(lo(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends Ly{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new jn(e,t)}matches(e){return Fy(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Fy(r){return r.op==="and"}function My(r){return iT(r)&&Fy(r)}function iT(r){for(const e of r.filters)if(e instanceof jn)return!1;return!0}function df(r){if(r instanceof ct)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(My(r))return r.filters.map(e=>df(e)).join(",");{const e=r.filters.map(t=>df(t)).join(",");return`${r.op}(${e})`}}function jy(r,e){return r instanceof ct?function(s,o){return o instanceof ct&&s.op===o.op&&s.field.isEqual(o.field)&&ir(s.value,o.value)}(r,e):r instanceof jn?function(s,o){return o instanceof jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&jy(h,o.filters[d]),!0):!1}(r,e):void we()}function zy(r){return r instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${uo(t.value)}`}(r):r instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(zy).join(" ,")+"}"}(r):"Filter"}class sT extends ct{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class oT extends ct{constructor(e,t){super(e,"in",t),this.keys=Uy("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aT extends ct{constructor(e,t){super(e,"not-in",t),this.keys=Uy("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Uy(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class lT extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $f(t)&&Da(t.arrayValue,this.value)}}class uT extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Da(this.value.arrayValue,t)}}class cT extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Da(this.value.arrayValue,t)}}class hT extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$f(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Da(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.ue=null}}function ag(r,e=null,t=[],s=[],o=null,l=null,h=null){return new fT(r,e,t,s,o,l,h)}function Bf(r){const e=Ie(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>df(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Qu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>uo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>uo(s)).join(",")),e.ue=t}return e.ue}function qf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!rT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!jy(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!og(r.startAt,e.startAt)&&og(r.endAt,e.endAt)}function pf(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dT(r,e,t,s,o,l,h,d){return new Ua(r,e,t,s,o,l,h,d)}function Hf(r){return new Ua(r)}function lg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $y(r){return r.collectionGroup!==null}function xa(r){const e=Ie(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new vt(Nt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Vu(l,s))}),t.has(Nt.keyField().canonicalString())||e.ce.push(new Vu(Nt.keyField(),s))}return e.ce}function tr(r){const e=Ie(r);return e.le||(e.le=pT(e,xa(r))),e.le}function pT(r,e){if(r.limitType==="F")return ag(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Vu(o.field,l)});const t=r.endAt?new Du(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Du(r.startAt.position,r.startAt.inclusive):null;return ag(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function mf(r,e){const t=r.filters.concat([e]);return new Ua(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function gf(r,e,t){return new Ua(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Gu(r,e){return qf(tr(r),tr(e))&&r.limitType===e.limitType}function By(r){return`${Bf(tr(r))}|lt:${r.limitType}`}function Zs(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>zy(o)).join(", ")}]`),Qu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>uo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(tr(r))}; limitType=${r.limitType})`}function Xu(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of xa(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const y=sg(h,d,p);return h.inclusive?y<=0:y<0}(s.startAt,xa(s),o)||s.endAt&&!function(h,d,p){const y=sg(h,d,p);return h.inclusive?y>=0:y>0}(s.endAt,xa(s),o))}(r,e)}function mT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qy(r){return(e,t)=>{let s=!1;for(const o of xa(r)){const l=gT(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function gT(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),y=d.data.field(l);return p!==null&&y!==null?lo(p,y):we()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Dy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new nt(ge.comparator);function br(){return yT}const Hy=new nt(ge.comparator);function wa(...r){let e=Hy;for(const t of r)e=e.insert(t.key,t);return e}function Wy(r){let e=Hy;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Qi(){return Ca()}function Qy(){return Ca()}function Ca(){return new es(r=>r.toString(),(r,e)=>r.isEqual(e))}const _T=new nt(ge.comparator),vT=new vt(ge.comparator);function Ae(...r){let e=vT;for(const t of r)e=e.add(t);return e}const ET=new vt(Re);function wT(){return ET}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bu(e)?"-0":e}}function Ky(r){return{integerValue:""+r}}function TT(r,e){return Xw(e)?Ky(e):Wf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this._=void 0}}function IT(r,e,t){return r instanceof Ou?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Uf(l)&&(l=Ku(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof Va?Xy(r,e):r instanceof Oa?Yy(r,e):function(o,l){const h=Gy(o,l),d=ug(h)+ug(o.Pe);return ff(h)&&ff(o.Pe)?Ky(d):Wf(o.serializer,d)}(r,e)}function ST(r,e,t){return r instanceof Va?Xy(r,e):r instanceof Oa?Yy(r,e):t}function Gy(r,e){return r instanceof Lu?function(s){return ff(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Ou extends Yu{}class Va extends Yu{constructor(e){super(),this.elements=e}}function Xy(r,e){const t=Jy(e);for(const s of r.elements)t.some(o=>ir(o,s))||t.push(s);return{arrayValue:{values:t}}}class Oa extends Yu{constructor(e){super(),this.elements=e}}function Yy(r,e){let t=Jy(e);for(const s of r.elements)t=t.filter(o=>!ir(o,s));return{arrayValue:{values:t}}}class Lu extends Yu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ug(r){return ot(r.integerValue||r.doubleValue)}function Jy(r){return $f(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xT(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Va&&o instanceof Va||s instanceof Oa&&o instanceof Oa?ao(s.elements,o.elements,ir):s instanceof Lu&&o instanceof Lu?ir(s.Pe,o.Pe):s instanceof Ou&&o instanceof Ou}(r.transform,e.transform)}class CT{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ju{}function Zy(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new t_(r.key,Rr.none()):new $a(r.key,r.data,Rr.none());{const t=r.data,s=wn.empty();let o=new vt(Nt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new ts(r.key,s,new Mn(o.toArray()),Rr.none())}}function AT(r,e,t){r instanceof $a?function(o,l,h){const d=o.value.clone(),p=hg(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof ts?function(o,l,h){if(!Iu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=hg(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(e_(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Aa(r,e,t,s){return r instanceof $a?function(l,h,d,p){if(!Iu(l.precondition,h))return d;const y=l.value.clone(),v=fg(l.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof ts?function(l,h,d,p){if(!Iu(l.precondition,h))return d;const y=fg(l.fieldTransforms,p,h),v=h.data;return v.setAll(e_(l)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(l,h,d){return Iu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function kT(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Gy(s.transform,o||null);l!=null&&(t===null&&(t=wn.empty()),t.set(s.field,l))}return t||null}function cg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,(l,h)=>xT(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $a extends Ju{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Ju{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function e_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function hg(r,e,t){const s=new Map;je(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,ST(h,d,t[o]))}return s}function fg(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,IT(l,h,e))}return s}class t_ extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RT extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&AT(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Aa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Aa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Qy();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=Zy(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(t,s)=>cg(t,s))&&ao(this.baseMutations,e.baseMutations,(t,s)=>cg(t,s))}}class Qf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){je(e.mutations.length===s.length);let o=function(){return _T}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Qf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,be;function DT(r){switch(r){default:return we();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function n_(r){if(r===void 0)return Nr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case ut.OK:return Y.OK;case ut.CANCELLED:return Y.CANCELLED;case ut.UNKNOWN:return Y.UNKNOWN;case ut.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ut.INTERNAL:return Y.INTERNAL;case ut.UNAVAILABLE:return Y.UNAVAILABLE;case ut.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ut.NOT_FOUND:return Y.NOT_FOUND;case ut.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ut.ABORTED:return Y.ABORTED;case ut.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ut.DATA_LOSS:return Y.DATA_LOSS;default:return we()}}(be=ut||(ut={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new ui([4294967295,4294967295],0);function dg(r){const e=VT().encode(r),t=new xy;return t.update(e),new Uint8Array(t.digest())}function pg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ui([t,s],0),new ui([o,l],0)]}class Kf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ta(`Invalid padding: ${t}`);if(s<0)throw new Ta(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ta(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ta(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ui.fromNumber(this.Te)}de(e,t,s){let o=e.add(t.multiply(ui.fromNumber(s)));return o.compare(OT)===1&&(o=new ui([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=dg(e),[s,o]=pg(t);for(let l=0;l<this.hashCount;l++){const h=this.de(s,o,l);if(!this.Ee(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Kf(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=dg(e),[s,o]=pg(t);for(let l=0;l<this.hashCount;l++){const h=this.de(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ba.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Zu(Te.min(),o,new nt(Re),br(),Ae())}}class Ba{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ba(s,t,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class r_{constructor(e,t){this.targetId=e,this.me=t}}class i_{constructor(e,t,s=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class mg{constructor(){this.fe=0,this.ge=gg(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),t=Ae(),s=Ae();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Ba(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=gg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class LT{constructor(e){this.Be=e,this.Le=new Map,this.ke=br(),this.qe=pu(),this.Qe=pu(),this.Ke=new nt(Re)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(pf(l))if(s===0){const h=new ge(l.path);this.We(t,h,jt.newNoDocument(h,Te.min()))}else je(s===1);else{const h=this.Ze(t);if(h!==s){const d=this.Xe(e),p=d?this.et(d,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=mi(s).toUint8Array()}catch(p){if(p instanceof Vy)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Kf(h,o,l)}catch(p){return oo(p instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Be.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Be.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((l,h)=>{const d=this.Ye(h);if(d){if(l.current&&pf(d.target)){const p=new ge(d.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,jt.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=Ae();this.Qe.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Zu(e,t,this.Ke,this.ke,s);return this.ke=br(),this.qe=pu(),this.Qe=pu(),this.Ke=new nt(Re),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new mg,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new vt(Re),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new vt(Re),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new mg),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function pu(){return new nt(ge.comparator)}function gg(){return new nt(ge.comparator)}const FT={asc:"ASCENDING",desc:"DESCENDING"},MT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jT={and:"AND",or:"OR"};class zT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yf(r,e){return r.useProto3Json||Qu(e)?e:{value:e}}function Fu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function UT(r,e){return Fu(r,e.toTimestamp())}function nr(r){return je(!!r),Te.fromTimestamp(function(t){const s=pi(t);return new ht(s.seconds,s.nanos)}(r))}function Gf(r,e){return _f(r,e).canonicalString()}function _f(r,e){const t=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function o_(r){const e=Ge.fromString(r);return je(h_(e)),e}function vf(r,e){return Gf(r.databaseId,e.path)}function Kh(r,e){const t=o_(e);if(t.get(1)!==r.databaseId.projectId)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(l_(t))}function a_(r,e){return Gf(r.databaseId,e)}function $T(r){const e=o_(r);return e.length===4?Ge.emptyPath():l_(e)}function Ef(r){return new Ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function l_(r){return je(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function yg(r,e,t){return{name:vf(r,e),fields:t.value.mapValue.fields}}function BT(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(je(v===void 0||typeof v=="string"),bt.fromBase64String(v||"")):(je(v===void 0||v instanceof Buffer||v instanceof Uint8Array),bt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const v=y.code===void 0?Y.UNKNOWN:n_(y.code);return new he(v,y.message||"")}(h);t=new i_(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Kh(r,s.document.name),l=nr(s.document.updateTime),h=s.document.createTime?nr(s.document.createTime):Te.min(),d=new wn({mapValue:{fields:s.document.fields}}),p=jt.newFoundDocument(o,l,h,d),y=s.targetIds||[],v=s.removedTargetIds||[];t=new Su(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Kh(r,s.document),l=s.readTime?nr(s.readTime):Te.min(),h=jt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Su([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Kh(r,s.document),l=s.removedTargetIds||[];t=new Su([],l,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new bT(o,l),d=s.targetId;t=new r_(d,h)}}return t}function qT(r,e){let t;if(e instanceof $a)t={update:yg(r,e.key,e.value)};else if(e instanceof t_)t={delete:vf(r,e.key)};else if(e instanceof ts)t={update:yg(r,e.key,e.data),updateMask:ZT(e.fieldMask)};else{if(!(e instanceof RT))return we();t={verify:vf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Ou)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Va)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Oa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lu)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw we()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:UT(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()}(r,e.precondition)),t}function HT(r,e){return r&&r.length>0?(je(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?nr(o.updateTime):nr(l);return h.isEqual(Te.min())&&(h=nr(l)),new CT(h,o.transformResults||[])}(t,e))):[]}function WT(r,e){return{documents:[a_(r,e.path)]}}function QT(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=a_(r,o);const l=function(y){if(y.length!==0)return c_(jn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(v=>function(S){return{field:eo(S.field),direction:XT(S.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=yf(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function KT(r){let e=$T(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){je(s===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(w){const S=u_(w);return S instanceof jn&&My(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(S=>function(L){return new Vu(to(L.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(w){let S;return S=typeof w=="object"?w.value:w,Qu(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(w){const S=!!w.before,N=w.values||[];return new Du(N,S)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const S=!w.before,N=w.values||[];return new Du(N,S)}(t.endAt)),dT(e,o,h,l,d,"F",p,y)}function GT(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function u_(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=to(t.unaryFilter.field);return ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(t.unaryFilter.field);return ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=to(t.unaryFilter.field);return ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=to(t.unaryFilter.field);return ct.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(t){return ct.create(to(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(s=>u_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(r):we()}function XT(r){return FT[r]}function YT(r){return MT[r]}function JT(r){return jT[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return Nt.fromServerFormat(r.fieldPath)}function c_(r){return r instanceof ct?function(t){if(t.op==="=="){if(ig(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NAN"}};if(rg(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ig(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NOT_NAN"}};if(rg(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(t.field),op:YT(t.op),value:t.value}}}(r):r instanceof jn?function(t){const s=t.getFilters().map(o=>c_(o));return s.length===1?s[0]:{compositeFilter:{op:JT(t.op),filters:s}}}(r):we()}function ZT(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function h_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t,s,o,l=Te.min(),h=Te.min(),d=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.ht=e}}function tI(r){const e=KT({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.ln=new rI}addToCollectionParentIndex(e,t){return this.ln.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(di.min())}updateCollectionGroup(e,t,s){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class rI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new vt(Ge.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new vt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new co(0)}static Qn(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg([r,e],[t,s]){const o=Re(r,t);return o===0?Re(e,s):o}class iI{constructor(e){this.Gn=e,this.buffer=new vt(vg),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();vg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Eo(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await vo(t)}await this.Yn(3e5)})}}class oI{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Wu.oe);const s=new iI(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(_g)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_g):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,d,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),Js()<=De.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function aI(r,e){return new oI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.changes=new es(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?G.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Aa(s.mutation,o,Mn.empty(),ht.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ae()){const o=Qi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=wa();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Qi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ae()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=br();const h=Ca(),d=function(){return Ca()}();return t.forEach((p,y)=>{const v=s.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ts)?l=l.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),Aa(v.mutation,y,v.mutation.getFieldMask(),ht.now())):h.set(y.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,v)=>h.set(y,v)),t.forEach((y,v)=>{var w;return d.set(y,new uI(v,(w=h.get(y))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Ca();let o=new nt((h,d)=>h-d),l=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=s.get(p)||Mn.empty();v=d.applyToLocalView(y,v),s.set(p,v);const w=(o.get(d.batchId)||Ae()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,v=p.value,w=Qy();v.forEach(S=>{if(!l.has(S)){const N=Zy(t.get(S),s.get(S));N!==null&&w.set(S,N),l=l.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,w))}return G.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$y(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):G.resolve(Qi());let d=-1,p=l;return h.next(y=>G.forEach(y,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Ae())).next(v=>({batchId:d,changes:Wy(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=wa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=wa();return this.indexManager.getCollectionParents(e,l).next(d=>G.forEach(d,p=>{const y=function(w,S){return new Ua(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(v=>{v.forEach((w,S)=>{h=h.insert(w,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,jt.newInvalidDocument(v)))});let d=wa();return h.forEach((p,y)=>{const v=l.get(p);v!==void 0&&Aa(v.mutation,y,Mn.empty(),ht.now()),Xu(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return G.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:tI(o.bundledQuery),readTime:nr(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.overlays=new nt(ge.comparator),this.dr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Qi();return G.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),G.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.dr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(s)),G.resolve()}getOverlaysForCollection(e,t,s){const o=Qi(),l=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new nt((y,v)=>y-v);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let v=l.get(y.largestBatchId);v===null&&(v=Qi(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=Qi(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>d.set(y,v)),!(d.size()>=o)););return G.resolve(d)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.dr.get(o.largestBatchId).delete(s.key);this.dr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new NT(t,s));let l=this.dr.get(t);l===void 0&&(l=Ae(),this.dr.set(t,l)),this.dr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.Er=new vt(xt.Ar),this.Rr=new vt(xt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const s=new xt(e,t);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new xt(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new ge(new Ge([])),s=new xt(t,e),o=new xt(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ge(new Ge([])),s=new xt(t,e),o=new xt(t,e+1);let l=Ae();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new xt(e,0),s=this.Er.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class xt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ge.comparator(e.key,t.key)||Re(e.br,t.br)}static Vr(e,t){return Re(e.br,t.br)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new vt(xt.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PT(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new xt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new xt(t,0),o=new xt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const d=this.Cr(h.br);l.push(d)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new vt(Re);return t.forEach(o=>{const l=new xt(o,0),h=new xt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],d=>{s=s.add(d.br)})}),G.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const h=new xt(new ge(l),0);let d=new vt(Re);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},h),G.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){je(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return G.forEach(t.mutations,o=>{const l=new xt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,t){const s=new xt(t,0),o=this.vr.firstAfterOrEqual(s);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.Nr=e,this.docs=function(){return new nt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return G.resolve(s?s.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let s=br();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():jt.newInvalidDocument(o))}),G.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=br();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||Ww(Hw(v),s)<=0||(o.has(v.key)||Xu(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,s,o){we()}Br(e,t){return G.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new gI(this)}getSize(e){return G.resolve(this.size)}}class gI extends lI{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),G.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.persistence=e,this.Lr=new es(t=>Bf(t),qf),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new Xf,this.targetCount=0,this.Qr=co.qn()}forEachTarget(e,t){return this.Lr.forEach((s,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),G.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new co(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Un(t),G.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Lr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Lr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const s=this.Lr.get(t)||null;return G.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),G.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return G.resolve(s)}containsKey(e,t){return G.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Wu(0),this.Ur=!1,this.Ur=!0,this.Wr=new dI,this.referenceDelegate=e(this),this.Gr=new yI(this),this.indexManager=new nI,this.remoteDocumentCache=function(o){return new mI(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new eI(t),this.jr=new hI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new pI(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new _I(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return G.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class _I extends Kw{constructor(e){super(),this.currentSequenceNumber=e}}class Yf{constructor(e){this.persistence=e,this.Zr=new Xf,this.Xr=null}static ei(e){return new Yf(e)}get ti(){if(this.Xr)return this.Xr;throw we()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),G.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),G.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,s=>{const o=ge.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Te.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return G.or([()=>G.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Mu{constructor(e,t){this.persistence=e,this.ri=new es(s=>Yw(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aI(this,t)}static ei(e,t){return new Mu(e,t)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return G.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?G.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Br(e,h=>this.ir(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Te.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),G.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wu(e.data.value)),t}ir(e,t,s){return G.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return G.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Ae(),o=Ae();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Jf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return yE()?8:Gw(mE())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new vI;return this.ts(e,t,h).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(Js()<=De.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Zs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(Js()<=De.DEBUG&&ue("QueryEngine","Query:",Zs(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(Js()<=De.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Zs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):G.resolve())}Xi(e,t){if(lg(t))return G.resolve(null);let s=tr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=gf(t,null,"F"),s=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ae(...l);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.rs(t,d);return this.ss(t,y,h,p.readTime)?this.Xi(e,gf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,s,o){return lg(t)||o.isEqual(Te.min())?G.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?G.resolve(null):(Js()<=De.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zs(t)),this.os(e,h,t,qw(o,-1)).next(d=>d))})}rs(e,t){let s=new vt(qy(e));return t.forEach((o,l)=>{Xu(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return Js()<=De.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Zs(t)),this.Zi.getDocumentsMatchingQuery(e,t,di.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Re),this.cs=new es(l=>Bf(l),qf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function TI(r,e,t,s){return new wI(r,e,t,s)}async function d_(r,e){const t=Ie(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Ae();for(const y of o){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function II(r,e){const t=Ie(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,v){const w=y.batch,S=w.keys();let N=G.resolve();return S.forEach(L=>{N=N.next(()=>v.getEntry(p,L)).next(j=>{const V=y.docVersions.get(L);je(V!==null),j.version.compareTo(V)<0&&(w.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),v.addEntry(j)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ae();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function p_(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function SI(r,e){const t=Ie(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((v,w)=>{const S=o.get(w);if(!S)return;d.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,w)));let N=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(bt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(w,N),function(j,V,O){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(S,N,v)&&d.push(t.Gr.updateTargetData(l,N))});let p=br(),y=Ae();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(xI(l,h,e.documentUpdates).next(v=>{p=v.Is,y=v.ds})),!s.isEqual(Te.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(w=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return G.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function xI(r,e,t){let s=Ae(),o=Ae();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=br();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:h,ds:o}})}function CI(r,e){const t=Ie(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function AI(r,e){const t=Ie(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,G.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new oi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function wf(r,e,t){const s=Ie(r),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Eo(h))throw h;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Eg(r,e,t){const s=Ie(r);let o=Te.min(),l=Ae();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,v){const w=Ie(p),S=w.cs.get(v);return S!==void 0?G.resolve(w.us.get(S)):w.Gr.getTargetData(y,v)}(s,h,tr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?l:Ae())).next(d=>(kI(s,mT(e),d),{documents:d,Es:l})))}function kI(r,e,t){let s=r.ls.get(e)||Te.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.ls.set(e,s)}class wg{constructor(){this.activeTargetIds=wT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RI{constructor(){this._o=new wg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new wg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function Gh(){return mu===null?mu=function(){return 268435456+Math.round(2147483648*Math.random())}():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class DI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const d=Gh(),p=this.No(t,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,l,h),this.Lo(t,p,y,o).then(v=>(ue("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw oo("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,s,o,l,h,d){return this.Oo(t,s,o,l,h)}Bo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=NI[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,s,o){const l=Gh();return new Promise((h,d)=>{const p=new Cy;p.setWithCredentials(!0),p.listenOnce(Ay.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Eu.NO_ERROR:const v=p.getResponseJson();ue(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),h(v);break;case Eu.TIMEOUT:ue(Ft,`RPC '${e}' ${l} timed out`),d(new he(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:const w=p.getStatus();if(ue(Ft,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const L=function(V){const O=V.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(O)>=0?O:Y.UNKNOWN}(N.status);d(new he(L,N.message))}else d(new he(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new he(Y.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(Ft,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ue(Ft,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,s,15)})}qo(e,t,s){const o=Gh(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Py(),d=Ry(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");ue(Ft,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=h.createWebChannel(v,p);let S=!1,N=!1;const L=new bI({Eo:V=>{N?ue(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(ue(Ft,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ue(Ft,`RPC '${e}' stream ${o} sending:`,V),w.send(V))},Ao:()=>w.close()}),j=(V,O,z)=>{V.listen(O,K=>{try{z(K)}catch(ee){setTimeout(()=>{throw ee},0)}})};return j(w,Ea.EventType.OPEN,()=>{N||(ue(Ft,`RPC '${e}' stream ${o} transport opened.`),L.So())}),j(w,Ea.EventType.CLOSE,()=>{N||(N=!0,ue(Ft,`RPC '${e}' stream ${o} transport closed`),L.Do())}),j(w,Ea.EventType.ERROR,V=>{N||(N=!0,oo(Ft,`RPC '${e}' stream ${o} transport errored:`,V),L.Do(new he(Y.UNAVAILABLE,"The operation could not be completed")))}),j(w,Ea.EventType.MESSAGE,V=>{var O;if(!N){const z=V.data[0];je(!!z);const K=z,ee=(K==null?void 0:K.error)||((O=K[0])===null||O===void 0?void 0:O.error);if(ee){ue(Ft,`RPC '${e}' stream ${o} received error:`,ee);const se=ee.status;let oe=function(x){const P=ut[x];if(P!==void 0)return n_(P)}(se),k=ee.message;oe===void 0&&(oe=Y.INTERNAL,k="Unknown error status: "+se+" with message "+ee.message),N=!0,L.Do(new he(oe,k)),w.close()}else ue(Ft,`RPC '${e}' stream ${o} received:`,z),L.vo(z)}}),j(d,ky.STAT_EVENT,V=>{V.stat===cf.PROXY?ue(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===cf.NOPROXY&&ue(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function Xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(r){return new zT(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,t,s,o,l,h,d,p){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new m_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new he(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.d_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VI extends g_{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=BT(this.serializer,e),s=function(l){if(!("targetChange"in l))return Te.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?nr(h.readTime):Te.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=Ef(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=pf(p)?{documents:WT(l,p)}:{query:QT(l,p).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=s_(l,h.resumeToken);const y=yf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){d.readTime=Fu(l,h.snapshotVersion.toTimestamp());const y=yf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=GT(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=Ef(this.serializer),t.removeTarget=e,this.c_(t)}}class OI extends g_{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=HT(e.writeResults,e.commitTime),s=nr(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=Ef(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>qT(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,_f(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(Y.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,_f(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(Y.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class FI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Nr(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ns(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.k_.add(4),await qa(y),y.K_.set("Unknown"),y.k_.delete(4),await tc(y)}(this))})}),this.K_=new FI(s,o)}}async function tc(r){if(ns(r))for(const e of r.q_)await e(!0)}async function qa(r){for(const e of r.q_)await e(!1)}function y_(r,e){const t=Ie(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),nd(t)?td(t):wo(t).s_()&&ed(t,e))}function Zf(r,e){const t=Ie(r),s=wo(t);t.L_.delete(e),s.s_()&&__(t,e),t.L_.size===0&&(s.s_()?s.a_():ns(t)&&t.K_.set("Unknown"))}function ed(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wo(r).V_(e)}function __(r,e){r.U_.xe(e),wo(r).m_(e)}function td(r){r.U_=new LT({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.K_.F_()}function nd(r){return ns(r)&&!wo(r).i_()&&r.L_.size>0}function ns(r){return Ie(r).k_.size===0}function v_(r){r.U_=void 0}async function jI(r){r.K_.set("Online")}async function zI(r){r.L_.forEach((e,t)=>{ed(r,e)})}async function UI(r,e){v_(r),nd(r)?(r.K_.O_(e),td(r)):r.K_.set("Unknown")}async function $I(r,e,t){if(r.K_.set("Online"),e instanceof i_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.L_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.L_.delete(d),o.U_.removeTarget(d))}(r,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ju(r,s)}else if(e instanceof Su?r.U_.$e(e):e instanceof r_?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Te.min()))try{const s=await p_(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.U_.it(h);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.L_.get(y);v&&l.L_.set(y,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,y)=>{const v=l.L_.get(p);if(!v)return;l.L_.set(p,v.withResumeToken(bt.EMPTY_BYTE_STRING,v.snapshotVersion)),__(l,p);const w=new oi(v.target,p,y,v.sequenceNumber);ed(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await ju(r,s)}}async function ju(r,e,t){if(!Eo(e))throw e;r.k_.add(1),await qa(r),r.K_.set("Offline"),t||(t=()=>p_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await tc(r)})}function E_(r,e){return e().catch(t=>ju(r,t,e))}async function nc(r){const e=Ie(r),t=yi(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;BI(e);)try{const o=await CI(e.localStore,s);if(o===null){e.B_.length===0&&t.a_();break}s=o.batchId,qI(e,o)}catch(o){await ju(e,o)}w_(e)&&T_(e)}function BI(r){return ns(r)&&r.B_.length<10}function qI(r,e){r.B_.push(e);const t=yi(r);t.s_()&&t.f_&&t.g_(e.mutations)}function w_(r){return ns(r)&&!yi(r).i_()&&r.B_.length>0}function T_(r){yi(r).start()}async function HI(r){yi(r).w_()}async function WI(r){const e=yi(r);for(const t of r.B_)e.g_(t.mutations)}async function QI(r,e,t){const s=r.B_.shift(),o=Qf.from(s,e,t);await E_(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await nc(r)}async function KI(r,e){e&&yi(r).f_&&await async function(s,o){if(function(h){return DT(h)&&h!==Y.ABORTED}(o.code)){const l=s.B_.shift();yi(s).__(),await E_(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await nc(s)}}(r,e),w_(r)&&T_(r)}async function Ig(r,e){const t=Ie(r);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=ns(t);t.k_.add(3),await qa(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await tc(t)}async function GI(r,e){const t=Ie(r);e?(t.k_.delete(2),await tc(t)):e||(t.k_.add(2),await qa(t),t.K_.set("Unknown"))}function wo(r){return r.W_||(r.W_=function(t,s,o){const l=Ie(t);return l.b_(),new VI(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:jI.bind(null,r),mo:zI.bind(null,r),po:UI.bind(null,r),R_:$I.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),nd(r)?td(r):r.K_.set("Unknown")):(await r.W_.stop(),v_(r))})),r.W_}function yi(r){return r.G_||(r.G_=function(t,s,o){const l=Ie(t);return l.b_(),new OI(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:HI.bind(null,r),po:KI.bind(null,r),p_:WI.bind(null,r),y_:QI.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await nc(r)):(await r.G_.stop(),r.B_.length>0&&(ue("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new rd(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function id(r,e){if(Nr("AsyncQueue",`${e}: ${r}`),Eo(r))return new he(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=wa(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.z_=new nt(ge.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):we():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ho{constructor(e,t,s,o,l,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new ho(e,t,io.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class YI{constructor(){this.queries=xg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Ie(t),l=o.queries;o.queries=xg(),l.forEach((h,d)=>{for(const p of d.J_)p.onError(s)})})(this,new he(Y.ABORTED,"Firestore shutting down"))}}function xg(){return new es(r=>By(r),Gu)}async function I_(r,e){const t=Ie(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new XI,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=id(h,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&sd(t)}async function S_(r,e){const t=Ie(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function JI(r,e){const t=Ie(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.J_)d.ta(o)&&(s=!0);h.H_=o}}s&&sd(t)}function ZI(r,e,t){const s=Ie(r),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function sd(r){r.X_.forEach(e=>{e.next()})}var Tf,Cg;(Cg=Tf||(Tf={})).na="default",Cg.Cache="cache";class x_{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Tf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this.key=e}}class A_{constructor(e){this.key=e}}class eS{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ae(),this.mutatedKeys=Ae(),this.Va=qy(e),this.ma=new io(this.Va)}get fa(){return this.Ea}ga(e,t){const s=t?t.pa:new Sg,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const S=o.get(v),N=Xu(this.query,w)?w:null,L=!!S&&this.mutatedKeys.has(S.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;S&&N?S.data.isEqual(N.data)?L!==j&&(s.track({type:3,doc:N}),V=!0):this.ya(S,N)||(s.track({type:2,doc:N}),V=!0,(p&&this.Va(N,p)>0||y&&this.Va(N,y)<0)&&(d=!0)):!S&&N?(s.track({type:0,doc:N}),V=!0):S&&!N&&(s.track({type:1,doc:S}),V=!0,(p||y)&&(d=!0)),V&&(N?(h=h.add(N),l=j?l.add(v):l.delete(v)):(h=h.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{ma:h,pa:s,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((v,w)=>function(N,L){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return j(N)-j(L)}(v.type,w.type)||this.Va(v.doc,w.doc)),this.wa(s),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new ho(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Sg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ae(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new A_(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new C_(s))}),t}va(e){this.Ea=e.Es,this.Ra=Ae();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ho.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class tS{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class nS{constructor(e){this.key=e,this.Fa=!1}}class rS{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new es(d=>By(d),Gu),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(ge.comparator),this.La=new Map,this.ka=new Xf,this.qa={},this.Qa=new Map,this.Ka=co.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function iS(r,e,t=!0){const s=D_(r);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await k_(s,e,t,!0),o}async function sS(r,e){const t=D_(r);await k_(t,e,!0,!1)}async function k_(r,e,t,s){const o=await AI(r.localStore,tr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await oS(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&y_(r.remoteStore,o),d}async function oS(r,e,t,s,o){r.Ua=(w,S,N)=>async function(j,V,O,z){let K=V.view.ga(O);K.ss&&(K=await Eg(j.localStore,V.query,!1).then(({documents:k})=>V.view.ga(k,K)));const ee=z&&z.targetChanges.get(V.targetId),se=z&&z.targetMismatches.get(V.targetId)!=null,oe=V.view.applyChanges(K,j.isPrimaryClient,ee,se);return kg(j,V.targetId,oe.ba),oe.snapshot}(r,w,S,N);const l=await Eg(r.localStore,e,!0),h=new eS(e,l.Es),d=h.ga(l.documents),p=Ba.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(d,r.isPrimaryClient,p);kg(r,t,y.ba);const v=new tS(e,t,h);return r.xa.set(e,v),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function aS(r,e,t){const s=Ie(r),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!Gu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Zf(s.remoteStore,o.targetId),If(s,o.targetId)}).catch(vo)):(If(s,o.targetId),await wf(s.localStore,o.targetId,!0))}async function lS(r,e){const t=Ie(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Zf(t.remoteStore,s.targetId))}async function uS(r,e,t){const s=gS(r);try{const o=await function(h,d){const p=Ie(h),y=ht.now(),v=d.reduce((N,L)=>N.add(L.key),Ae());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let L=br(),j=Ae();return p.hs.getEntries(N,v).next(V=>{L=V,L.forEach((O,z)=>{z.isValidDocument()||(j=j.add(O))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,L)).next(V=>{w=V;const O=[];for(const z of d){const K=kT(z,w.get(z.key).overlayedDocument);K!=null&&O.push(new ts(z.key,K,Oy(K.value.mapValue),Rr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,O,d)}).next(V=>{S=V;const O=V.applyToLocalDocumentSet(w,j);return p.documentOverlayCache.saveOverlays(N,V.batchId,O)})}).then(()=>({batchId:S.batchId,changes:Wy(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let y=h.qa[h.currentUser.toKey()];y||(y=new nt(Re)),y=y.insert(d,p),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await Ha(s,o.changes),await nc(s.remoteStore)}catch(o){const l=id(o,"Failed to persist write");t.reject(l)}}async function R_(r,e){const t=Ie(r);try{const s=await SI(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.La.get(l);h&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?je(h.Fa):o.removedDocuments.size>0&&(je(h.Fa),h.Fa=!1))}),await Ha(t,s,e)}catch(s){await vo(s)}}function Ag(r,e,t){const s=Ie(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ie(h);p.onlineState=d;let y=!1;p.queries.forEach((v,w)=>{for(const S of w.J_)S.ea(d)&&(y=!0)}),y&&sd(p)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cS(r,e,t){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.La.get(e),l=o&&o.key;if(l){let h=new nt(ge.comparator);h=h.insert(l,jt.newNoDocument(l,Te.min()));const d=Ae().add(l),p=new Zu(Te.min(),new Map,new nt(Re),h,d);await R_(s,p),s.Ba=s.Ba.remove(l),s.La.delete(e),od(s)}else await wf(s.localStore,e,!1).then(()=>If(s,e,t)).catch(vo)}async function hS(r,e){const t=Ie(r),s=e.batch.batchId;try{const o=await II(t.localStore,e);N_(t,s,null),P_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ha(t,o)}catch(o){await vo(o)}}async function fS(r,e,t){const s=Ie(r);try{const o=await function(h,d){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,d).next(w=>(je(w!==null),v=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(s.localStore,e);N_(s,e,t),P_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ha(s,o)}catch(o){await vo(o)}}function P_(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function N_(r,e,t){const s=Ie(r);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function If(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||b_(r,s)})}function b_(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(Zf(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),od(r))}function kg(r,e,t){for(const s of t)s instanceof C_?(r.ka.addReference(s.key,e),dS(r,s)):s instanceof A_?(ue("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||b_(r,s.key)):we()}function dS(r,e){const t=e.key,s=t.path.canonicalString();r.Ba.get(t)||r.Na.has(s)||(ue("SyncEngine","New document in limbo: "+t),r.Na.add(s),od(r))}function od(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new ge(Ge.fromString(e)),s=r.Ka.next();r.La.set(s,new nS(t)),r.Ba=r.Ba.insert(t,s),y_(r.remoteStore,new oi(tr(Hf(t.path)),s,"TargetPurposeLimboResolution",Wu.oe))}}async function Ha(r,e,t){const s=Ie(r),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,p)=>{h.push(s.Ua(p,e,t).then(y=>{var v;if((y||t)&&s.isPrimaryClient){const w=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Jf.zi(p.targetId,y);l.push(w)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(p,y){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>G.forEach(y,S=>G.forEach(S.Wi,N=>v.persistence.referenceDelegate.addReference(w,S.targetId,N)).next(()=>G.forEach(S.Gi,N=>v.persistence.referenceDelegate.removeReference(w,S.targetId,N)))))}catch(w){if(!Eo(w))throw w;ue("LocalStore","Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const N=v.us.get(S),L=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(L);v.us=v.us.insert(S,j)}}}(s.localStore,l))}async function pS(r,e){const t=Ie(r);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await d_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new he(Y.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ha(t,s.Ts)}}function mS(r,e){const t=Ie(r),s=t.La.get(e);if(s&&s.Fa)return Ae().add(s.key);{let o=Ae();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function D_(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=R_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cS.bind(null,e),e.Ma.R_=JI.bind(null,e.eventManager),e.Ma.Wa=ZI.bind(null,e.eventManager),e}function gS(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fS.bind(null,e),e}class zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ec(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return TI(this.persistence,new EI,e.initialUser,this.serializer)}ja(e){return new f_(Yf.ei,this.serializer)}za(e){return new RI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zu.provider={build:()=>new zu};class yS extends zu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){je(this.persistence.referenceDelegate instanceof Mu);const s=this.persistence.referenceDelegate.garbageCollector;return new sI(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new f_(s=>Mu.ei(s,t),this.serializer)}}class Sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ag(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pS.bind(null,this.syncEngine),await GI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YI}()}createDatastore(e){const t=ec(e.databaseInfo.databaseId),s=function(l){return new DI(l)}(e.databaseInfo);return function(l,h,d,p){return new LI(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new MI(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Ag(this.syncEngine,t,0),function(){return Tg.p()?new Tg:new PI}())}createSyncEngine(e,t){return function(o,l,h,d,p,y,v){const w=new rS(o,l,h,d,p,y);return v&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);ue("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await qa(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Sf.provider={build:()=>new Sf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Mt.UNAUTHENTICATED,this.clientId=by.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=id(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Yh(r,e){r.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await d_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Rg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await vS(r);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Ig(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Ig(e.remoteStore,o)),r._onlineComponents=e}async function vS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;oo("Error using user provided cache. Falling back to memory cache: "+t),await Yh(r,new zu)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Yh(r,new yS(void 0));return r._offlineComponents}async function O_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await Rg(r,r._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await Rg(r,new Sf))),r._onlineComponents}function ES(r){return O_(r).then(e=>e.syncEngine)}async function L_(r){const e=await O_(r),t=e.eventManager;return t.onListen=iS.bind(null,e.syncEngine),t.onUnlisten=aS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lS.bind(null,e.syncEngine),t}function wS(r,e,t={}){const s=new kr;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,y){const v=new V_({next:S=>{v.eu(),h.enqueueAndForget(()=>S_(l,w));const N=S.docs.has(d);!N&&S.fromCache?y.reject(new he(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?y.reject(new he(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new x_(Hf(d.path),v,{includeMetadataChanges:!0,ua:!0});return I_(l,w)}(await L_(r),r.asyncQueue,e,t,s)),s.promise}function TS(r,e,t={}){const s=new kr;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,y){const v=new V_({next:S=>{v.eu(),h.enqueueAndForget(()=>S_(l,w)),S.fromCache&&p.source==="server"?y.reject(new he(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new x_(d,v,{includeMetadataChanges:!0,ua:!0});return I_(l,w)}(await L_(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(r,e,t){if(!t)throw new he(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function IS(r,e,t,s){if(e===!0&&s===!0)throw new he(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ng(r){if(!ge.isDocumentKey(r))throw new he(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bg(r){if(ge.isDocumentKey(r))throw new he(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function fo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rc(r);throw new he(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ic{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ow;switch(s.type){case"firstParty":return new jw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Pg.get(t);s&&(ue("ComponentProvider","Removing Datastore"),Pg.delete(t),s.terminate())}(this),Promise.resolve()}}function SS(r,e,t,s={}){var o;const l=(r=fo(r,ic))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=Mt.MOCK_USER;else{d=pE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new he(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Mt(y)}r._authCredentials=new Lw(new Ny(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ci extends To{constructor(e,t,s){super(e,t,Hf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ge(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function j_(r,e,...t){if(r=so(r),M_("collection","path",e),r instanceof ic){const s=Ge.fromString(e,...t);return bg(s),new ci(r,null,s)}{if(!(r instanceof cn||r instanceof ci))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return bg(s),new ci(r.firestore,null,s)}}function z_(r,e,...t){if(r=so(r),arguments.length===1&&(e=by.newId()),M_("doc","path",e),r instanceof ic){const s=Ge.fromString(e,...t);return Ng(s),new cn(r,null,new ge(s))}{if(!(r instanceof cn||r instanceof ci))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return Ng(s),new cn(r.firestore,r instanceof ci?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new m_(this,"async_queue_retry"),this.fu=()=>{const s=Xh();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Xh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Xh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new kr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Eo(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Nr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=rd.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.Eu.push(o),o}pu(){this.Au&&we()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class sc extends ic{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Vg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vg(e),this._firestoreClient=void 0,await e}}}function xS(r,e){const t=Iw(),s="(default)",o=vw(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=fE("firestore");l&&SS(o,...l)}return o}function ad(r){if(r._terminated)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CS(r),r._firestoreClient}function CS(r){var e,t,s;const o=r._freezeSettings(),l=function(d,p,y,v){return new eT(d,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,F_(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new _S(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(bt.fromBase64String(e))}catch(t){throw new he(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new po(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=/^__.*__$/;class kS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new $a(e,this.data,t,this.fieldTransforms)}}function $_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class hd{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Bu(e),o}Lu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Uu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if($_(this.Mu)&&AS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class RS{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||ec(e)}$u(e,t,s,o=!1){return new hd({Mu:e,methodName:t,Ku:s,path:Nt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B_(r){const e=r._freezeSettings(),t=ec(r._databaseId);return new RS(r._databaseId,!!e.ignoreUndefinedProperties,t)}function PS(r,e,t,s,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);W_("Data must be an object, but it was:",h,s);const d=q_(s,h);let p,y;if(l.merge)p=new Mn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const S=bS(e,w,t);if(!h.contains(S))throw new he(Y.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);VS(v,S)||v.push(S)}p=new Mn(v),y=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=h.fieldTransforms;return new kS(new wn(d),p,y)}function NS(r,e,t,s=!1){return fd(t,r.$u(s?4:3,e))}function fd(r,e){if(H_(r=so(r)))return W_("Unsupported field value:",e,r),q_(r,e);if(r instanceof U_)return function(s,o){if(!$_(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=fd(d,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=so(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ht.fromDate(s);return{timestampValue:Fu(o.serializer,l)}}if(s instanceof ht){const l=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fu(o.serializer,l)}}if(s instanceof ud)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof po)return{bytesValue:s_(o.serializer,s._byteString)};if(s instanceof cn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cd)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Wf(d.serializer,p)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${rc(s)}`)}(r,e)}function q_(r,e){const t={};return Dy(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(r,(s,o)=>{const l=fd(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function H_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ht||r instanceof ud||r instanceof po||r instanceof cn||r instanceof U_||r instanceof cd)}function W_(r,e,t){if(!H_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=rc(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function bS(r,e,t){if((e=so(e))instanceof ld)return e._internalPath;if(typeof e=="string")return Q_(r,e);throw Uu("Field path arguments must be of type string or ",r,!1,void 0,t)}const DS=new RegExp("[~\\*/\\[\\]]");function Q_(r,e,t){if(e.search(DS)>=0)throw Uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ld(...e.split("."))._internalPath}catch{throw Uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Uu(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(Y.INVALID_ARGUMENT,d+r+p)}function VS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OS extends K_{data(){return super.data()}}function dd(r,e){return typeof e=="string"?Q_(r,e):e instanceof ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pd{}class FS extends pd{}function MS(r,e,...t){let s=[];e instanceof pd&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof md).length,d=l.filter(p=>p instanceof oc).length;if(h>1||h>0&&d>0)throw new he(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class oc extends FS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new oc(e,t,s)}_apply(e){const t=this._parse(e);return G_(e._query,t),new To(e.firestore,e.converter,mf(e._query,t))}_parse(e){const t=B_(e.firestore);return function(l,h,d,p,y,v,w){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Lg(w,v);const N=[];for(const L of w)N.push(Og(p,l,L));S={arrayValue:{values:N}}}else S=Og(p,l,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Lg(w,v),S=NS(d,h,w,v==="in"||v==="not-in");return ct.create(y,v,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jS(r,e,t){const s=e,o=dd("where",r);return oc._create(o,s,t)}class md extends pd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new md(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)G_(h,p),h=mf(h,p)}(e._query,t),new To(e.firestore,e.converter,mf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Og(r,e,t){if(typeof(t=so(t))=="string"){if(t==="")throw new he(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$y(e)&&t.indexOf("/")!==-1)throw new he(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ge.fromString(t));if(!ge.isDocumentKey(s))throw new he(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ng(r,new ge(s))}if(t instanceof cn)return ng(r,t._key);throw new he(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rc(t)}.`)}function Lg(r,e){if(!Array.isArray(r)||r.length===0)throw new he(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G_(r,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zS{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Zi(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ot(h.doubleValue));return new cd(l)}convertGeoPoint(e){return new ud(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ku(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Na(e));default:return null}}convertTimestamp(e){const t=pi(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ge.fromString(e);je(h_(s));const o=new ba(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return o.isEqual(t)||Nr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class X_ extends K_{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(dd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class xu extends X_{data(e={}){return super.data(e)}}class $S{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ia(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new xu(this._firestore,this._userDataWriter,s.key,s,new Ia(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new xu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ia(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new xu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ia(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:BS(d.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BS(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(r){r=fo(r,cn);const e=fo(r.firestore,sc);return wS(ad(e),r._key).then(t=>QS(e,r,t))}class Y_ extends zS{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function Fg(r){r=fo(r,To);const e=fo(r.firestore,sc),t=ad(e),s=new Y_(e);return LS(r._query),TS(t,r._query).then(o=>new $S(e,s,r,o))}function HS(r,e){const t=fo(r.firestore,sc),s=z_(r),o=US(r.converter,e);return WS(t,[PS(B_(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Rr.exists(!1))]).then(()=>s)}function WS(r,e){return function(s,o){const l=new kr;return s.asyncQueue.enqueueAndForget(async()=>uS(await ES(s),o,l)),l.promise}(ad(r),e)}function QS(r,e,t){const s=t.docs.get(e._key),o=new Y_(r);return new X_(r,o,e._key,s,new Ia(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){_o=o})(Tw),Nu(new Ra("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new sc(new Fw(s.getProvider("auth-internal")),new Uw(s.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(y.options.projectId,v)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ro(Xm,"4.7.6",e),ro(Xm,"4.7.6","esm2017")})();const KS={apiKey:"AIzaSyCDG-xVxVt-8Zg1UO1k5VjtKQV__HF1Oo4",authDomain:"neo-zone.firebaseapp.com",projectId:"neo-zone",storageBucket:"neo-zone.firebasestorage.app",messagingSenderId:"134710023422",appId:"1:134710023422:web:4952caecf0e09b9b2081af"};Ty(KS);const gd=xS(),Mg=({greeting:r})=>{const[e,t]=H.useState([]),[s,o]=H.useState(!1),{idCategory:l}=iy(),h=j_(gd,"products"),d=async()=>{try{const v=(await Fg(h)).docs.map(w=>({id:w.id,...w.data()}));t(v),o(!1)}catch(y){console.log(y)}},p=async()=>{try{const y=MS(h,jS("category","==",l)),w=(await Fg(y)).docs.map(S=>({id:S.id,...S.data()}));t(w),o(!1)}catch(y){console.log(y)}};return H.useEffect(()=>{o(!0),l?p():d()},[l]),M.jsxs("div",{className:"item-list-container",children:[M.jsx("h1",{className:"item-list-container__text item-list-container__text--greeting",children:r}),M.jsx("span",{className:"item-list-container__line"}),M.jsx("span",{className:"item-list-container__line"}),s===!0?M.jsx("h2",{children:"Loading..."}):M.jsx(nE,{products:e})]})},GS=({stock:r,addProductInCart:e})=>{const[t,s]=H.useState(1),o=()=>{t>1&&s(t-1)},l=()=>{t<r&&s(t+1)};return M.jsx("div",{className:"item-count",children:M.jsxs("div",{className:"item-count__container",children:[M.jsx("button",{className:"item-count__button item-count__button--decrement",onClick:o,children:"-"}),M.jsx("p",{className:"item-count__text",children:t}),M.jsx("button",{className:"item-count__button item-count__button--increment",onClick:l,children:"+"}),M.jsx("button",{className:"item-count__button item-count__button--add",onClick:()=>e(t),children:"Add to cart"})]})})},XS=({product:r})=>{const[e,t]=H.useState(!0),{addProduct:s}=H.useContext(za),o=l=>{const h={...r,quantity:l};s(h),t(!1)};return M.jsxs("div",{className:"item-detail",children:[M.jsxs("div",{className:"item-detail__container item-detail__container--details",children:[M.jsx(Tn,{to:"/",className:"item-detail__button item-detail__button--back",children:" < All Products "}),M.jsx(Tn,{to:"/category/"+r.category,className:"item-detail__button item-detail__button--category",children:r.category}),M.jsx("h1",{className:"item-detail__text item-detail__text--title",children:r.title}),M.jsx("p",{className:"item-detail__text item-detail__text--subtitle",children:r.subtitle}),M.jsxs("p",{className:"item-detail__text item-detail__text--price",children:["$",r.price]})]}),M.jsx("span",{className:"item-detail__line"}),M.jsx("div",{className:"item-detail__container item-detail__container--image",children:M.jsx("img",{src:r.image,className:"item-detail__image item-detail__image--main"})}),M.jsx("span",{className:"item-detail__line"}),M.jsx("div",{className:"item-detail__container item-detail__container--images"}),M.jsx("span",{className:"item-detail__line"}),M.jsxs("div",{className:"item-detail__container item-detail__container--information",children:[M.jsx("p",{className:"item-detail__text item-detail__text--description",children:r.description}),e===!0?M.jsx(GS,{stock:r.stock,addProductInCart:o}):M.jsxs(Tn,{to:"/cart",className:"item-detail__button item-detail__button--finish",children:[" ",">","  Finish your purchase  ","<"," "]})]})]})},YS=()=>{const[r,e]=H.useState({}),{idProduct:t}=iy(),s=async()=>{try{const o=z_(gd,"products",t),l=await qS(o),h={id:l.id,...l.data()};e(h)}catch(o){console.log(o)}};return H.useEffect(()=>{s()},[t]),M.jsx(XS,{product:r})},JS=()=>{const{cart:r,totalPrice:e,deleteProductById:t,deleteCart:s}=H.useContext(za);return r.length===0?M.jsxs("div",{className:"cart cart--empty",children:[M.jsx(Tn,{to:"/",className:"cart__button cart__button--back",children:"< Go back"}),M.jsx("h2",{className:"cart__text cart__text--title cart__text--title-empty",children:"Oops... There's nothing here! "})]}):M.jsxs("div",{className:"cart cart--not-empty",children:[M.jsx(Tn,{to:"/",className:"item-detail__button item-detail__button--back",children:" < All Products "}),M.jsxs("strong",{className:"cart__text cart__text--title cart__text--title-not-empty",children:[">"," Product Cart ","<"]}),M.jsx("span",{className:"cart__line"}),M.jsx("div",{className:"cart__products cart__products--items",children:r.map(o=>M.jsxs("div",{className:"cart__item",children:[M.jsx("div",{className:"cart__container cart__container--left",children:M.jsx("img",{className:"cart__img",src:o.image,width:100,alt:"Product Image"})}),M.jsxs("div",{className:"cart__container cart__container--right",children:[M.jsx("p",{className:"cart__text cart__text--product cart__text--product-title",children:o.title}),M.jsxs("p",{className:"cart__text cart__text--product cart__text--product-price",children:["price: $",o.price]}),M.jsxs("p",{className:"cart__text cart__text--product cart__text--product-quantity",children:["quantity: ",o.quantity]}),M.jsxs("p",{className:"cart__text cart__text--product cart__text--product-parcial",children:["parcial price: $",o.price*o.quantity]})]}),M.jsx("div",{className:"cart__container cart__container--down",children:M.jsx("button",{className:"cart__button cart__button--delete-product",onClick:()=>t(o.id),children:"Delete"})})]},o.id))}),M.jsxs("div",{className:"cart__products cart__products--total",children:[M.jsxs("p",{className:"cart__text cart__text--total",children:["Total: $",e()]}),M.jsx(Tn,{className:"cart__button cart__button--checkout",to:"/checkout",children:" Finish purchase "}),M.jsx("button",{className:"cart__button cart__button--delete-all",onClick:s,children:"Empty Cart"})]})]})},ZS=({dataForm:r,handleChangeInput:e,handleSubmitForm:t})=>M.jsx("div",{className:"checkout__container checkout__container--form",children:M.jsxs("form",{onSubmit:t,className:"checkout__form",autoComplete:"on",children:[M.jsx("h2",{className:"checkout__text checkout__text--title",children:" Checkout "}),M.jsxs("div",{className:"checkout__container checkout__container--input",children:[M.jsx("label",{className:"checkout__text checkout__text--label",htmlFor:"fullname",children:"Fullname: "}),M.jsx("input",{type:"text",name:"fullname",id:"fullname",className:"checkout__input checkout__input--fullname",value:r.fullname,onChange:e})]}),M.jsxs("div",{className:"checkout__container checkout__container--input",children:[M.jsx("label",{className:"checkout__text checkout__text--label",htmlFor:"phone",children:"Cellphone: "}),M.jsx("input",{type:"text",name:"phone",id:"phone",className:"checkout__input checkout__input--phone",value:r.phone,onChange:e})]}),M.jsxs("div",{className:"checkout__container checkout__container--input",children:[M.jsx("label",{className:"checkout__text checkout__text--label",htmlFor:"email",children:"Email: "}),M.jsx("input",{type:"text",name:"email",id:"email",className:"checkout__input checkout__input--email",value:r.email,onChange:e})]}),M.jsx("button",{type:"submit",className:"checkout__button checkout__button--submit",children:"Send Order"})]})});var Jh,jg;function ex(){if(jg)return Jh;jg=1;function r(O){this._maxSize=O,this.clear()}r.prototype.clear=function(){this._size=0,this._values=Object.create(null)},r.prototype.get=function(O){return this._values[O]},r.prototype.set=function(O,z){return this._size>=this._maxSize&&this.clear(),O in this._values||this._size++,this._values[O]=z};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,s=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,h=512,d=new r(h),p=new r(h),y=new r(h);Jh={Cache:r,split:w,normalizePath:v,setter:function(O){var z=v(O);return p.get(O)||p.set(O,function(ee,se){for(var oe=0,k=z.length,I=ee;oe<k-1;){var x=z[oe];if(x==="__proto__"||x==="constructor"||x==="prototype")return ee;I=I[z[oe++]]}I[z[oe]]=se})},getter:function(O,z){var K=v(O);return y.get(O)||y.set(O,function(se){for(var oe=0,k=K.length;oe<k;)if(se!=null||!z)se=se[K[oe++]];else return;return se})},join:function(O){return O.reduce(function(z,K){return z+(N(K)||t.test(K)?"["+K+"]":(z?".":"")+K)},"")},forEach:function(O,z,K){S(Array.isArray(O)?O:w(O),z,K)}};function v(O){return d.get(O)||d.set(O,w(O).map(function(z){return z.replace(l,"$2")}))}function w(O){return O.match(e)||[""]}function S(O,z,K){var ee=O.length,se,oe,k,I;for(oe=0;oe<ee;oe++)se=O[oe],se&&(V(se)&&(se='"'+se+'"'),I=N(se),k=!I&&/^\d+$/.test(se),z.call(K,se,I,k,oe,O))}function N(O){return typeof O=="string"&&O&&["'",'"'].indexOf(O.charAt(0))!==-1}function L(O){return O.match(s)&&!O.match(t)}function j(O){return o.test(O)}function V(O){return!N(O)&&(L(O)||j(O))}return Jh}var Ki=ex(),Zh,zg;function tx(){if(zg)return Zh;zg=1;const r=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=v=>v.match(r)||[],t=v=>v[0].toUpperCase()+v.slice(1),s=(v,w)=>e(v).join(w).toLowerCase(),o=v=>e(v).reduce((w,S)=>`${w}${w?S[0].toUpperCase()+S.slice(1).toLowerCase():S.toLowerCase()}`,"");return Zh={words:e,upperFirst:t,camelCase:o,pascalCase:v=>t(o(v)),snakeCase:v=>s(v,"_"),kebabCase:v=>s(v,"-"),sentenceCase:v=>t(s(v," ")),titleCase:v=>e(v).map(t).join(" ")},Zh}var ef=tx(),gu={exports:{}},Ug;function nx(){if(Ug)return gu.exports;Ug=1,gu.exports=function(o){return r(e(o),o)},gu.exports.array=r;function r(o,l){var h=o.length,d=new Array(h),p={},y=h,v=t(l),w=s(o);for(l.forEach(function(N){if(!w.has(N[0])||!w.has(N[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});y--;)p[y]||S(o[y],y,new Set);return d;function S(N,L,j){if(j.has(N)){var V;try{V=", node was:"+JSON.stringify(N)}catch{V=""}throw new Error("Cyclic dependency"+V)}if(!w.has(N))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(N));if(!p[L]){p[L]=!0;var O=v.get(N)||new Set;if(O=Array.from(O),L=O.length){j.add(N);do{var z=O[--L];S(z,w.get(z),j)}while(L);j.delete(N)}d[--h]=N}}}function e(o){for(var l=new Set,h=0,d=o.length;h<d;h++){var p=o[h];l.add(p[0]),l.add(p[1])}return Array.from(l)}function t(o){for(var l=new Map,h=0,d=o.length;h<d;h++){var p=o[h];l.has(p[0])||l.set(p[0],new Set),l.has(p[1])||l.set(p[1],new Set),l.get(p[0]).add(p[1])}return l}function s(o){for(var l=new Map,h=0,d=o.length;h<d;h++)l.set(o[h],h);return l}return gu.exports}var rx=nx();const ix=Kg(rx),sx=Object.prototype.toString,ox=Error.prototype.toString,ax=RegExp.prototype.toString,lx=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",ux=/^Symbol\((.*)\)(.*)$/;function cx(r){return r!=+r?"NaN":r===0&&1/r<0?"-0":""+r}function $g(r,e=!1){if(r==null||r===!0||r===!1)return""+r;const t=typeof r;if(t==="number")return cx(r);if(t==="string")return e?`"${r}"`:r;if(t==="function")return"[Function "+(r.name||"anonymous")+"]";if(t==="symbol")return lx.call(r).replace(ux,"Symbol($1)");const s=sx.call(r).slice(8,-1);return s==="Date"?isNaN(r.getTime())?""+r:r.toISOString(r):s==="Error"||r instanceof Error?"["+ox.call(r)+"]":s==="RegExp"?ax.call(r):null}function hi(r,e){let t=$g(r,e);return t!==null?t:JSON.stringify(r,function(s,o){let l=$g(this[s],e);return l!==null?l:o},2)}function J_(r){return r==null?[]:[].concat(r)}let Z_,e0,t0,hx=/\$\{\s*(\w+)\s*\}/g;Z_=Symbol.toStringTag;class Bg{constructor(e,t,s,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Z_]="Error",this.name="ValidationError",this.value=t,this.path=s,this.type=o,this.errors=[],this.inner=[],J_(e).forEach(l=>{if(tn.isError(l)){this.errors.push(...l.errors);const h=l.inner.length?l.inner:[l];this.inner.push(...h)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}e0=Symbol.hasInstance;t0=Symbol.toStringTag;class tn extends Error{static formatError(e,t){const s=t.label||t.path||"this";return t=Object.assign({},t,{path:s,originalPath:t.path}),typeof e=="string"?e.replace(hx,(o,l)=>hi(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,s,o,l){const h=new Bg(e,t,s,o);if(l)return h;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[t0]="Error",this.name=h.name,this.message=h.message,this.type=h.type,this.value=h.value,this.path=h.path,this.errors=h.errors,this.inner=h.inner,Error.captureStackTrace&&Error.captureStackTrace(this,tn)}static[e0](e){return Bg[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Zn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:r,type:e,value:t,originalValue:s})=>{const o=s!=null&&s!==t?` (cast from the value \`${hi(s,!0)}\`).`:".";return e!=="mixed"?`${r} must be a \`${e}\` type, but the final value was: \`${hi(t,!0)}\``+o:`${r} must match the configured type. The validated value was: \`${hi(t,!0)}\``+o}},Zt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},si={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},xf={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},fx={isValue:"${path} field must be ${value}"},Cu={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},dx={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},px={notType:r=>{const{path:e,value:t,spec:s}=r,o=s.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${hi(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${hi(t,!0)}\``}return tn.formatError(Zn.notType,r)}};Object.assign(Object.create(null),{mixed:Zn,string:Zt,number:si,date:xf,object:Cu,array:dx,boolean:fx,tuple:px});const yd=r=>r&&r.__isYupSchema__;class $u{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:o,otherwise:l}=t,h=typeof s=="function"?s:(...d)=>d.every(p=>p===s);return new $u(e,(d,p)=>{var y;let v=h(...d)?o:l;return(y=v==null?void 0:v(p))!=null?y:p})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let s=this.refs.map(l=>l.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(s,e,t);if(o===void 0||o===e)return e;if(!yd(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const yu={context:"$",value:"."};class rs{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===yu.context,this.isValue=this.key[0]===yu.value,this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?yu.context:this.isValue?yu.value:"";this.path=this.key.slice(s.length),this.getter=this.path&&Ki.getter(this.path,!0),this.map=t.map}getValue(e,t,s){let o=this.isContext?s:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}rs.prototype.__isYupRef=!0;const Cr=r=>r==null;function Xs(r){function e({value:t,path:s="",options:o,originalValue:l,schema:h},d,p){const{name:y,test:v,params:w,message:S,skipAbsent:N}=r;let{parent:L,context:j,abortEarly:V=h.spec.abortEarly,disableStackTrace:O=h.spec.disableStackTrace}=o;function z(R){return rs.isRef(R)?R.getValue(t,L,j):R}function K(R={}){const F=Object.assign({value:t,originalValue:l,label:h.spec.label,path:R.path||s,spec:h.spec,disableStackTrace:R.disableStackTrace||O},w,R.params);for(const Be of Object.keys(F))F[Be]=z(F[Be]);const A=new tn(tn.formatError(R.message||S,F),t,F.path,R.type||y,F.disableStackTrace);return A.params=F,A}const ee=V?d:p;let se={path:s,parent:L,type:y,from:o.from,createError:K,resolve:z,options:o,originalValue:l,schema:h};const oe=R=>{tn.isError(R)?ee(R):R?p(null):ee(K())},k=R=>{tn.isError(R)?ee(R):d(R)};if(N&&Cr(t))return oe(!0);let x;try{var P;if(x=v.call(se,t,se),typeof((P=x)==null?void 0:P.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${se.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(x).then(oe,k)}}catch(R){k(R);return}oe(x)}return e.OPTIONS=r,e}function mx(r,e,t,s=t){let o,l,h;return e?(Ki.forEach(e,(d,p,y)=>{let v=p?d.slice(1,d.length-1):d;r=r.resolve({context:s,parent:o,value:t});let w=r.type==="tuple",S=y?parseInt(v,10):0;if(r.innerType||w){if(w&&!y)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${h}" must contain an index to the tuple element, e.g. "${h}[0]"`);if(t&&S>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[S],r=w?r.spec.types[S]:r.innerType}if(!y){if(!r.fields||!r.fields[v])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${h} which is a type: "${r.type}")`);o=t,t=t&&t[v],r=r.fields[v]}l=v,h=p?"["+d+"]":"."+d}),{schema:r,parent:o,parentPath:l}):{parent:o,parentPath:e,schema:r}}class Bu extends Set{describe(){const e=[];for(const t of this.values())e.push(rs.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const s of this.values())t.push(e(s));return t}clone(){return new Bu(this.values())}merge(e,t){const s=this.clone();return e.forEach(o=>s.add(o)),t.forEach(o=>s.delete(o)),s}}function no(r,e=new Map){if(yd(r)||!r||typeof r!="object")return r;if(e.has(r))return e.get(r);let t;if(r instanceof Date)t=new Date(r.getTime()),e.set(r,t);else if(r instanceof RegExp)t=new RegExp(r),e.set(r,t);else if(Array.isArray(r)){t=new Array(r.length),e.set(r,t);for(let s=0;s<r.length;s++)t[s]=no(r[s],e)}else if(r instanceof Map){t=new Map,e.set(r,t);for(const[s,o]of r.entries())t.set(s,no(o,e))}else if(r instanceof Set){t=new Set,e.set(r,t);for(const s of r)t.add(no(s,e))}else if(r instanceof Object){t={},e.set(r,t);for(const[s,o]of Object.entries(r))t[s]=no(o,e)}else throw Error(`Unable to clone ${r}`);return t}class zn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Bu,this._blacklist=new Bu,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Zn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=no(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let s=e(this);return this._mutate=t,s}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,s=e.clone();const o=Object.assign({},t.spec,s.spec);return s.spec=o,s.internalTests=Object.assign({},t.internalTests,s.internalTests),s._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),s._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),s.tests=t.tests,s.exclusiveTests=t.exclusiveTests,s.withMutation(l=>{e.tests.forEach(h=>{l.test(h.OPTIONS)})}),s.transforms=[...t.transforms,...s.transforms],s}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let s=t.conditions;t=t.clone(),t.conditions=[],t=s.reduce((o,l)=>l.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,s,o,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(s=e.abortEarly)!=null?s:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let s=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",l=s._cast(e,t);if(t.assert!==!1&&!s.isType(l)){if(o&&Cr(l))return l;let h=hi(e),d=hi(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${s.type}". 

attempted value: ${h} 
`+(d!==h?`result of cast: ${d}`:""))}return l}_cast(e,t){let s=e===void 0?e:this.transforms.reduce((o,l)=>l.call(this,o,e,this),e);return s===void 0&&(s=this.getDefault(t)),s}_validate(e,t={},s,o){let{path:l,originalValue:h=e,strict:d=this.spec.strict}=t,p=e;d||(p=this._cast(p,Object.assign({assert:!1},t)));let y=[];for(let v of Object.values(this.internalTests))v&&y.push(v);this.runTests({path:l,value:p,originalValue:h,options:t,tests:y},s,v=>{if(v.length)return o(v,p);this.runTests({path:l,value:p,originalValue:h,options:t,tests:this.tests},s,o)})}runTests(e,t,s){let o=!1,{tests:l,value:h,originalValue:d,path:p,options:y}=e,v=j=>{o||(o=!0,t(j,h))},w=j=>{o||(o=!0,s(j,h))},S=l.length,N=[];if(!S)return w([]);let L={value:h,originalValue:d,path:p,options:y,schema:this};for(let j=0;j<l.length;j++){const V=l[j];V(L,v,function(z){z&&(Array.isArray(z)?N.push(...z):N.push(z)),--S<=0&&w(N)})}}asNestedTest({key:e,index:t,parent:s,parentPath:o,originalParent:l,options:h}){const d=e??t;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const p=typeof d=="number";let y=s[d];const v=Object.assign({},h,{strict:!0,parent:s,value:y,originalValue:l[d],key:void 0,[p?"index":"key"]:d,path:p||d.includes(".")?`${o||""}[${p?d:`"${d}"`}]`:(o?`${o}.`:"")+e});return(w,S,N)=>this.resolve(v)._validate(y,v,S,N)}validate(e,t){var s;let o=this.resolve(Object.assign({},t,{value:e})),l=(s=t==null?void 0:t.disableStackTrace)!=null?s:o.spec.disableStackTrace;return new Promise((h,d)=>o._validate(e,t,(p,y)=>{tn.isError(p)&&(p.value=y),d(p)},(p,y)=>{p.length?d(new tn(p,y,void 0,void 0,l)):h(y)}))}validateSync(e,t){var s;let o=this.resolve(Object.assign({},t,{value:e})),l,h=(s=t==null?void 0:t.disableStackTrace)!=null?s:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(d,p)=>{throw tn.isError(d)&&(d.value=p),d},(d,p)=>{if(d.length)throw new tn(d,e,void 0,void 0,h);l=p}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,s=>{if(tn.isError(s))return!1;throw s})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(s){if(tn.isError(s))return!1;throw s}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):no(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const s=this.clone({nullable:e});return s.internalTests.nullable=Xs({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),s}optionality(e,t){const s=this.clone({optional:e});return s.internalTests.optionality=Xs({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),s}optional(){return this.optionality(!0)}defined(e=Zn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Zn.notNull){return this.nullability(!1,e)}required(e=Zn.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Zn.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let s=this.clone(),o=Xs(t),l=t.exclusive||t.name&&s.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(s.exclusiveTests[t.name]=!!t.exclusive),s.tests=s.tests.filter(h=>!(h.OPTIONS.name===t.name&&(l||h.OPTIONS.test===o.OPTIONS.test))),s.tests.push(o),s}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let s=this.clone(),o=J_(e).map(l=>new rs(l));return o.forEach(l=>{l.isSibling&&s.deps.push(l.key)}),s.conditions.push(typeof t=="function"?new $u(o,t):$u.fromOptions(o,t)),s}typeError(e){let t=this.clone();return t.internalTests.typeError=Xs({message:e,name:"typeError",skipAbsent:!0,test(s){return this.schema._typeCheck(s)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Zn.oneOf){let s=this.clone();return e.forEach(o=>{s._whitelist.add(o),s._blacklist.delete(o)}),s.internalTests.whiteList=Xs({message:t,name:"oneOf",skipAbsent:!0,test(o){let l=this.schema._whitelist,h=l.resolveAll(this.resolve);return h.includes(o)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:h}})}}),s}notOneOf(e,t=Zn.notOneOf){let s=this.clone();return e.forEach(o=>{s._blacklist.add(o),s._whitelist.delete(o)}),s.internalTests.blacklist=Xs({message:t,name:"notOneOf",test(o){let l=this.schema._blacklist,h=l.resolveAll(this.resolve);return h.includes(o)?this.createError({params:{values:Array.from(l).join(", "),resolved:h}}):!0}}),s}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:s,meta:o,optional:l,nullable:h}=t.spec;return{meta:o,label:s,optional:l,nullable:h,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(p=>({name:p.OPTIONS.name,params:p.OPTIONS.params})).filter((p,y,v)=>v.findIndex(w=>w.name===p.name)===y)}}}zn.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])zn.prototype[`${r}At`]=function(e,t,s={}){const{parent:o,parentPath:l,schema:h}=mx(this,e,t,s.context);return h[r](o&&o[l],Object.assign({},s,{parent:o,path:e}))};for(const r of["equals","is"])zn.prototype[r]=zn.prototype.oneOf;for(const r of["not","nope"])zn.prototype[r]=zn.prototype.notOneOf;const gx=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function yx(r){const e=Cf(r);if(!e)return Date.parse?Date.parse(r):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Cf(r){var e,t;const s=gx.exec(r);return s?{year:xr(s[1]),month:xr(s[2],1)-1,day:xr(s[3],1),hour:xr(s[4]),minute:xr(s[5]),second:xr(s[6]),millisecond:s[7]?xr(s[7].substring(0,3)):0,precision:(e=(t=s[7])==null?void 0:t.length)!=null?e:void 0,z:s[8]||void 0,plusMinus:s[9]||void 0,hourOffset:xr(s[10]),minuteOffset:xr(s[11])}:null}function xr(r,e=0){return Number(r)||e}let _x=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vx=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Ex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,wx="^\\d{4}-\\d{2}-\\d{2}",Tx="\\d{2}:\\d{2}:\\d{2}",Ix="(([+-]\\d{2}(:?\\d{2})?)|Z)",Sx=new RegExp(`${wx}T${Tx}(\\.\\d+)?${Ix}$`),xx=r=>Cr(r)||r===r.trim(),Cx={}.toString();function Af(){return new n0}class n0 extends zn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,s)=>{if(!s.spec.coerce||s.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===Cx?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Zn.required,name:"required",skipAbsent:!0,test:s=>!!s.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Zt.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(s){return s.length===this.resolve(e)}})}min(e,t=Zt.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s.length>=this.resolve(e)}})}max(e,t=Zt.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(s){return s.length<=this.resolve(e)}})}matches(e,t){let s=!1,o,l;return t&&(typeof t=="object"?{excludeEmptyString:s=!1,message:o,name:l}=t:o=t),this.test({name:l||"matches",message:o||Zt.matches,params:{regex:e},skipAbsent:!0,test:h=>h===""&&s||h.search(e)!==-1})}email(e=Zt.email){return this.matches(_x,{name:"email",message:e,excludeEmptyString:!0})}url(e=Zt.url){return this.matches(vx,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Zt.uuid){return this.matches(Ex,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",s,o;return e&&(typeof e=="object"?{message:t="",allowOffset:s=!1,precision:o=void 0}=e:t=e),this.matches(Sx,{name:"datetime",message:t||Zt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Zt.datetime_offset,params:{allowOffset:s},skipAbsent:!0,test:l=>{if(!l||s)return!0;const h=Cf(l);return h?!!h.z:!1}}).test({name:"datetime_precision",message:t||Zt.datetime_precision,params:{precision:o},skipAbsent:!0,test:l=>{if(!l||o==null)return!0;const h=Cf(l);return h?h.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Zt.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:xx})}lowercase(e=Zt.lowercase){return this.transform(t=>Cr(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Cr(t)||t===t.toLowerCase()})}uppercase(e=Zt.uppercase){return this.transform(t=>Cr(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Cr(t)||t===t.toUpperCase()})}}Af.prototype=n0.prototype;let Ax=r=>r!=+r;function r0(){return new i0}class i0 extends zn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Ax(e)}}),this.withMutation(()=>{this.transform((e,t,s)=>{if(!s.spec.coerce)return e;let o=e;if(typeof o=="string"){if(o=o.replace(/\s/g,""),o==="")return NaN;o=+o}return s.isType(o)||o===null?o:parseFloat(o)})})}min(e,t=si.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(e)}})}max(e,t=si.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(e)}})}lessThan(e,t=si.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(s){return s<this.resolve(e)}})}moreThan(e,t=si.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(s){return s>this.resolve(e)}})}positive(e=si.positive){return this.moreThan(0,e)}negative(e=si.negative){return this.lessThan(0,e)}integer(e=si.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>Cr(e)?e:e|0)}round(e){var t;let s=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(s.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+s.join(", "));return this.transform(o=>Cr(o)?o:Math[e](o))}}r0.prototype=i0.prototype;let kx=new Date(""),Rx=r=>Object.prototype.toString.call(r)==="[object Date]";class ac extends zn{constructor(){super({type:"date",check(e){return Rx(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,s)=>!s.spec.coerce||s.isType(e)||e===null?e:(e=yx(e),isNaN(e)?ac.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let s;if(rs.isRef(e))s=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);s=o}return s}min(e,t=xf.min){let s=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(s)}})}max(e,t=xf.max){let s=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(s)}})}}ac.INVALID_DATE=kx;ac.prototype;function Px(r,e=[]){let t=[],s=new Set,o=new Set(e.map(([h,d])=>`${h}-${d}`));function l(h,d){let p=Ki.split(h)[0];s.add(p),o.has(`${d}-${p}`)||t.push([d,p])}for(const h of Object.keys(r)){let d=r[h];s.add(h),rs.isRef(d)&&d.isSibling?l(d.path,h):yd(d)&&"deps"in d&&d.deps.forEach(p=>l(p,h))}return ix.array(Array.from(s),t).reverse()}function qg(r,e){let t=1/0;return r.some((s,o)=>{var l;if((l=e.path)!=null&&l.includes(s))return t=o,!0}),t}function s0(r){return(e,t)=>qg(r,e)-qg(r,t)}const Nx=(r,e,t)=>{if(typeof r!="string")return r;let s=r;try{s=JSON.parse(r)}catch{}return t.isType(s)?s:r};function Au(r){if("fields"in r){const e={};for(const[t,s]of Object.entries(r.fields))e[t]=Au(s);return r.setFields(e)}if(r.type==="array"){const e=r.optional();return e.innerType&&(e.innerType=Au(e.innerType)),e}return r.type==="tuple"?r.optional().clone({types:r.spec.types.map(Au)}):"optional"in r?r.optional():r}const bx=(r,e)=>{const t=[...Ki.normalizePath(e)];if(t.length===1)return t[0]in r;let s=t.pop(),o=Ki.getter(Ki.join(t),!0)(r);return!!(o&&s in o)};let Hg=r=>Object.prototype.toString.call(r)==="[object Object]";function Wg(r,e){let t=Object.keys(r.fields);return Object.keys(e).filter(s=>t.indexOf(s)===-1)}const Dx=s0([]);function o0(r){return new a0(r)}class a0 extends zn{constructor(e){super({type:"object",check(t){return Hg(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=Dx,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var s;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let l=this.fields,h=(s=t.stripUnknown)!=null?s:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(o).filter(w=>!this._nodes.includes(w))),p={},y=Object.assign({},t,{parent:p,__validating:t.__validating||!1}),v=!1;for(const w of d){let S=l[w],N=w in o;if(S){let L,j=o[w];y.path=(t.path?`${t.path}.`:"")+w,S=S.resolve({value:j,context:t.context,parent:p});let V=S instanceof zn?S.spec:void 0,O=V==null?void 0:V.strict;if(V!=null&&V.strip){v=v||w in o;continue}L=!t.__validating||!O?S.cast(o[w],y):o[w],L!==void 0&&(p[w]=L)}else N&&!h&&(p[w]=o[w]);(N!==w in p||p[w]!==o[w])&&(v=!0)}return v?p:o}_validate(e,t={},s,o){let{from:l=[],originalValue:h=e,recursive:d=this.spec.recursive}=t;t.from=[{schema:this,value:h},...l],t.__validating=!0,t.originalValue=h,super._validate(e,t,s,(p,y)=>{if(!d||!Hg(y)){o(p,y);return}h=h||y;let v=[];for(let w of this._nodes){let S=this.fields[w];!S||rs.isRef(S)||v.push(S.asNestedTest({options:t,key:w,parent:y,parentPath:t.path,originalParent:h}))}this.runTests({tests:v,value:y,originalValue:h,options:t},s,w=>{o(w.sort(this._sortErrors).concat(p),y)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),s=t.fields;for(let[o,l]of Object.entries(this.fields)){const h=s[o];s[o]=h===void 0?l:h}return t.withMutation(o=>o.setFields(s,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(s=>{var o;const l=this.fields[s];let h=e;(o=h)!=null&&o.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[s]})),t[s]=l&&"getDefault"in l?l.getDefault(h):void 0}),t}setFields(e,t){let s=this.clone();return s.fields=e,s._nodes=Px(e,t),s._sortErrors=s0(Object.keys(e)),t&&(s._excludedEdges=t),s}shape(e,t=[]){return this.clone().withMutation(s=>{let o=s._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...s._excludedEdges,...t]),s.setFields(Object.assign(s.fields,e),o)})}partial(){const e={};for(const[t,s]of Object.entries(this.fields))e[t]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(e)}deepPartial(){return Au(this)}pick(e){const t={};for(const s of e)this.fields[s]&&(t[s]=this.fields[s]);return this.setFields(t,this._excludedEdges.filter(([s,o])=>e.includes(s)&&e.includes(o)))}omit(e){const t=[];for(const s of Object.keys(this.fields))e.includes(s)||t.push(s);return this.pick(t)}from(e,t,s){let o=Ki.getter(e,!0);return this.transform(l=>{if(!l)return l;let h=l;return bx(l,e)&&(h=Object.assign({},l),s||delete h[e],h[t]=o(l)),h})}json(){return this.transform(Nx)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Cu.exact,test(t){if(t==null)return!0;const s=Wg(this.schema,t);return s.length===0||this.createError({params:{properties:s.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Cu.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const l=Wg(this.schema,o);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return s.spec.noUnknown=e,s}unknown(e=!0,t=Cu.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const s={};for(const o of Object.keys(t))s[e(o)]=t[o];return s})}camelCase(){return this.transformKeys(ef.camelCase)}snakeCase(){return this.transformKeys(ef.snakeCase)}constantCase(){return this.transformKeys(e=>ef.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),s=super.describe(e);s.fields={};for(const[l,h]of Object.entries(t.fields)){var o;let d=e;(o=d)!=null&&o.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[l]})),s.fields[l]=h.describe(d)}return s}}o0.prototype=a0.prototype;let Vx=o0({fullname:Af().min(3,"el nombre tiene que tener 3 caracteres como minimo").required("El campo nombre es requerido"),phone:r0().positive().required(),email:Af().email().required()});const Ox=async r=>{try{return await Vx.validate(r),{status:"success",message:"Validaciones pasadas correctamente!"}}catch(e){return{status:"error",message:e.message}}};function l0(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=l0(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Gi(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=l0(r))&&(s&&(s+=" "),s+=e);return s}function Lx(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}Lx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Wa=r=>typeof r=="number"&&!isNaN(r),Yi=r=>typeof r=="string",Dr=r=>typeof r=="function",Fx=r=>Yi(r)||Wa(r),kf=r=>Yi(r)||Dr(r)?r:null,Mx=(r,e)=>r===!1||Wa(r)&&r>0?r:e,Rf=r=>H.isValidElement(r)||Yi(r)||Dr(r)||Wa(r);function jx(r,e,t=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function zx({enter:r,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:h,preventExitTransition:d,done:p,nodeRef:y,isIn:v,playToast:w}){let S=t?`${r}--${h}`:r,N=t?`${e}--${h}`:e,L=H.useRef(0);return H.useLayoutEffect(()=>{let j=y.current,V=S.split(" "),O=z=>{z.target===y.current&&(w(),j.removeEventListener("animationend",O),j.removeEventListener("animationcancel",O),L.current===0&&z.type!=="animationcancel"&&j.classList.remove(...V))};j.classList.add(...V),j.addEventListener("animationend",O),j.addEventListener("animationcancel",O)},[]),H.useEffect(()=>{let j=y.current,V=()=>{j.removeEventListener("animationend",V),s?jx(j,p,o):p()};v||(d?V():(L.current=1,j.className+=` ${N}`,j.addEventListener("animationend",V)))},[v]),Xe.createElement(Xe.Fragment,null,l)}}function Qg(r,e){return{content:u0(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function u0(r,e,t=!1){return H.isValidElement(r)&&!Yi(r.type)?H.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Dr(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function Ux({closeToast:r,theme:e,ariaLabel:t="close"}){return Xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":t},Xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $x({delay:r,isRunning:e,closeToast:t,type:s="default",hide:o,className:l,controlledProgress:h,progress:d,rtl:p,isIn:y,theme:v}){let w=o||h&&d===0,S={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};h&&(S.transform=`scaleX(${d})`);let N=Gi("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),L=Dr(l)?l({rtl:p,type:s,defaultClassName:N}):Gi(N,l),j={[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]:h&&d<1?null:()=>{y&&t()}};return Xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),Xe.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:L,style:S,...j}))}var Bx=1,c0=()=>`${Bx++}`;function qx(r,e,t){let s=1,o=0,l=[],h=[],d=e,p=new Map,y=new Set,v=z=>(y.add(z),()=>y.delete(z)),w=()=>{h=Array.from(p.values()),y.forEach(z=>z())},S=({containerId:z,toastId:K,updateId:ee})=>{let se=z?z!==r:r!==1,oe=p.has(K)&&ee==null;return se||oe},N=(z,K)=>{p.forEach(ee=>{var se;(K==null||K===ee.props.toastId)&&((se=ee.toggle)==null||se.call(ee,z))})},L=z=>{var K,ee;(ee=(K=z.props)==null?void 0:K.onClose)==null||ee.call(K,z.removalReason),z.isActive=!1},j=z=>{if(z==null)p.forEach(L);else{let K=p.get(z);K&&L(K)}w()},V=()=>{o-=l.length,l=[]},O=z=>{var K,ee;let{toastId:se,updateId:oe}=z.props,k=oe==null;z.staleId&&p.delete(z.staleId),z.isActive=!0,p.set(se,z),w(),t(Qg(z,k?"added":"updated")),k&&((ee=(K=z.props).onOpen)==null||ee.call(K))};return{id:r,props:d,observe:v,toggle:N,removeToast:j,toasts:p,clearQueue:V,buildToast:(z,K)=>{if(S(K))return;let{toastId:ee,updateId:se,data:oe,staleId:k,delay:I}=K,x=se==null;x&&o++;let P={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(K).filter(([F,A])=>A!=null)),toastId:ee,updateId:se,data:oe,isIn:!1,className:kf(K.className||d.toastClassName),progressClassName:kf(K.progressClassName||d.progressClassName),autoClose:K.isLoading?!1:Mx(K.autoClose,d.autoClose),closeToast(F){p.get(ee).removalReason=F,j(ee)},deleteToast(){let F=p.get(ee);if(F!=null){if(t(Qg(F,"removed")),p.delete(ee),o--,o<0&&(o=0),l.length>0){O(l.shift());return}w()}}};P.closeButton=d.closeButton,K.closeButton===!1||Rf(K.closeButton)?P.closeButton=K.closeButton:K.closeButton===!0&&(P.closeButton=Rf(d.closeButton)?d.closeButton:!0);let R={content:z,props:P,staleId:k};d.limit&&d.limit>0&&o>d.limit&&x?l.push(R):Wa(I)?setTimeout(()=>{O(R)},I):O(R)},setProps(z){d=z},setToggle:(z,K)=>{let ee=p.get(z);ee&&(ee.toggle=K)},isToastActive:z=>{var K;return(K=p.get(z))==null?void 0:K.isActive},getSnapshot:()=>h}}var qt=new Map,La=[],Pf=new Set,Hx=r=>Pf.forEach(e=>e(r)),h0=()=>qt.size>0;function Wx(){La.forEach(r=>d0(r.content,r.options)),La=[]}var Qx=(r,{containerId:e})=>{var t;return(t=qt.get(e||1))==null?void 0:t.toasts.get(r)};function f0(r,e){var t;if(e)return!!((t=qt.get(e))!=null&&t.isToastActive(r));let s=!1;return qt.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function Kx(r){if(!h0()){La=La.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||Fx(r))qt.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=qt.get(r.containerId);e?e.removeToast(r.id):qt.forEach(t=>{t.removeToast(r.id)})}}var Gx=(r={})=>{qt.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function d0(r,e){Rf(r)&&(h0()||La.push({content:r,options:e}),qt.forEach(t=>{t.buildToast(r,e)}))}function Xx(r){var e;(e=qt.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function p0(r,e){qt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(r,e==null?void 0:e.id)})}function Yx(r){let e=r.containerId||1;return{subscribe(t){let s=qx(e,r,Hx);qt.set(e,s);let o=s.observe(t);return Wx(),()=>{o(),qt.delete(e)}},setProps(t){var s;(s=qt.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=qt.get(e))==null?void 0:t.getSnapshot()}}}function Jx(r){return Pf.add(r),()=>{Pf.delete(r)}}function Zx(r){return r&&(Yi(r.toastId)||Wa(r.toastId))?r.toastId:c0()}function Qa(r,e){return d0(r,e),e.toastId}function lc(r,e){return{...e,type:e&&e.type||r,toastId:Zx(e)}}function uc(r){return(e,t)=>Qa(e,lc(r,t))}function Ue(r,e){return Qa(r,lc("default",e))}Ue.loading=(r,e)=>Qa(r,lc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function e2(r,{pending:e,error:t,success:s},o){let l;e&&(l=Yi(e)?Ue.loading(e,o):Ue.loading(e.render,{...o,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(y,v,w)=>{if(v==null){Ue.dismiss(l);return}let S={type:y,...h,...o,data:w},N=Yi(v)?{render:v}:v;return l?Ue.update(l,{...S,...N}):Ue(N.render,{...S,...N}),w},p=Dr(r)?r():r;return p.then(y=>d("success",s,y)).catch(y=>d("error",t,y)),p}Ue.promise=e2;Ue.success=uc("success");Ue.info=uc("info");Ue.error=uc("error");Ue.warning=uc("warning");Ue.warn=Ue.warning;Ue.dark=(r,e)=>Qa(r,lc("default",{theme:"dark",...e}));function t2(r){Kx(r)}Ue.dismiss=t2;Ue.clearWaitingQueue=Gx;Ue.isActive=f0;Ue.update=(r,e={})=>{let t=Qx(r,e);if(t){let{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||r,updateId:c0()};l.toastId!==r&&(l.staleId=r);let h=l.render||o;delete l.render,Qa(h,l)}};Ue.done=r=>{Ue.update(r,{progress:1})};Ue.onChange=Jx;Ue.play=r=>p0(!0,r);Ue.pause=r=>p0(!1,r);function n2(r){var e;let{subscribe:t,getSnapshot:s,setProps:o}=H.useRef(Yx(r)).current;o(r);let l=(e=H.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function h(d){if(!l)return[];let p=new Map;return r.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:v}=y.props;p.has(v)||p.set(v,[]),p.get(v).push(y)}),Array.from(p,y=>d(y[0],y[1]))}return{getToastToRender:h,isToastActive:f0,count:l==null?void 0:l.length}}function r2(r){let[e,t]=H.useState(!1),[s,o]=H.useState(!1),l=H.useRef(null),h=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:y,onClick:v,closeOnClick:w}=r;Xx({id:r.toastId,containerId:r.containerId,fn:t}),H.useEffect(()=>{if(r.pauseOnFocusLoss)return S(),()=>{N()}},[r.pauseOnFocusLoss]);function S(){document.hasFocus()||O(),window.addEventListener("focus",V),window.addEventListener("blur",O)}function N(){window.removeEventListener("focus",V),window.removeEventListener("blur",O)}function L(k){if(r.draggable===!0||r.draggable===k.pointerType){z();let I=l.current;h.canCloseOnClick=!0,h.canDrag=!0,I.style.transition="none",r.draggableDirection==="x"?(h.start=k.clientX,h.removalDistance=I.offsetWidth*(r.draggablePercent/100)):(h.start=k.clientY,h.removalDistance=I.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function j(k){let{top:I,bottom:x,left:P,right:R}=l.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&r.pauseOnHover&&k.clientX>=P&&k.clientX<=R&&k.clientY>=I&&k.clientY<=x?O():V()}function V(){t(!0)}function O(){t(!1)}function z(){h.didMove=!1,document.addEventListener("pointermove",ee),document.addEventListener("pointerup",se)}function K(){document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",se)}function ee(k){let I=l.current;if(h.canDrag&&I){h.didMove=!0,e&&O(),r.draggableDirection==="x"?h.delta=k.clientX-h.start:h.delta=k.clientY-h.start,h.start!==k.clientX&&(h.canCloseOnClick=!1);let x=r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;I.style.transform=`translate3d(${x},0)`,I.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function se(){K();let k=l.current;if(h.canDrag&&h.didMove&&k){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let oe={onPointerDown:L,onPointerUp:j};return d&&p&&(oe.onMouseEnter=O,r.stacked||(oe.onMouseLeave=V)),w&&(oe.onClick=k=>{v&&v(k),h.canCloseOnClick&&y(!0)}),{playToast:V,pauseToast:O,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:oe}}var i2=typeof window<"u"?H.useLayoutEffect:H.useEffect,cc=({theme:r,type:e,isLoading:t,...s})=>Xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function s2(r){return Xe.createElement(cc,{...r},Xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function o2(r){return Xe.createElement(cc,{...r},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function a2(r){return Xe.createElement(cc,{...r},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function l2(r){return Xe.createElement(cc,{...r},Xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function u2(){return Xe.createElement("div",{className:"Toastify__spinner"})}var Nf={info:o2,warning:s2,success:a2,error:l2,spinner:u2},c2=r=>r in Nf;function h2({theme:r,type:e,isLoading:t,icon:s}){let o=null,l={theme:r,type:e};return s===!1||(Dr(s)?o=s({...l,isLoading:t}):H.isValidElement(s)?o=H.cloneElement(s,l):t?o=Nf.spinner():c2(e)&&(o=Nf[e](l))),o}var f2=r=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=r2(r),{closeButton:h,children:d,autoClose:p,onClick:y,type:v,hideProgressBar:w,closeToast:S,transition:N,position:L,className:j,style:V,progressClassName:O,updateId:z,role:K,progress:ee,rtl:se,toastId:oe,deleteToast:k,isIn:I,isLoading:x,closeOnClick:P,theme:R,ariaLabel:F}=r,A=Gi("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":se},{"Toastify__toast--close-on-click":P}),Be=Dr(j)?j({rtl:se,position:L,type:v,defaultClassName:A}):Gi(A,j),ft=h2(r),dt=!!ee||!p,Oe={closeToast:S,type:v,theme:R},re=null;return h===!1||(Dr(h)?re=h(Oe):H.isValidElement(h)?re=H.cloneElement(h,Oe):re=Ux(Oe)),Xe.createElement(N,{isIn:I,done:k,position:L,preventExitTransition:t,nodeRef:s,playToast:l},Xe.createElement("div",{id:oe,tabIndex:0,onClick:y,"data-in":I,className:Be,...o,style:V,ref:s,...I&&{role:K,"aria-label":F}},ft!=null&&Xe.createElement("div",{className:Gi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},ft),u0(d,r,!e),re,!r.customProgressBar&&Xe.createElement($x,{...z&&!dt?{key:`p-${z}`}:{},rtl:se,theme:R,delay:p,isRunning:e,isIn:I,closeToast:S,hide:w,type:v,className:O,controlledProgress:dt,progress:ee||0})))},d2=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),p2=zx(d2("bounce",!0)),m2={position:"top-right",transition:p2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function g2(r){let e={...m2,...r},t=r.stacked,[s,o]=H.useState(!0),l=H.useRef(null),{getToastToRender:h,isToastActive:d,count:p}=n2(e),{className:y,style:v,rtl:w,containerId:S,hotKeys:N}=e;function L(V){let O=Gi("Toastify__toast-container",`Toastify__toast-container--${V}`,{"Toastify__toast-container--rtl":w});return Dr(y)?y({position:V,rtl:w,defaultClassName:O}):Gi(O,kf(y))}function j(){t&&(o(!0),Ue.play())}return i2(()=>{var V;if(t){let O=l.current.querySelectorAll('[data-in="true"]'),z=12,K=(V=e.position)==null?void 0:V.includes("top"),ee=0,se=0;Array.from(O).reverse().forEach((oe,k)=>{let I=oe;I.classList.add("Toastify__toast--stacked"),k>0&&(I.dataset.collapsed=`${s}`),I.dataset.pos||(I.dataset.pos=K?"top":"bot");let x=ee*(s?.2:1)+(s?0:z*k);I.style.setProperty("--y",`${K?x:x*-1}px`),I.style.setProperty("--g",`${z}`),I.style.setProperty("--s",`${1-(s?se:0)}`),ee+=I.offsetHeight,se+=.025})}},[s,p,t]),H.useEffect(()=>{function V(O){var z;let K=l.current;N(O)&&((z=K.querySelector('[tabIndex="0"]'))==null||z.focus(),o(!1),Ue.pause()),O.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(o(!0),Ue.play())}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[N]),Xe.createElement("section",{ref:l,className:"Toastify",id:S,onMouseEnter:()=>{t&&(o(!1),Ue.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((V,O)=>{let z=O.length?{...v}:{...v,pointerEvents:"none"};return Xe.createElement("div",{tabIndex:-1,className:L(V),"data-stacked":t,style:z,key:`c-${V}`},O.map(({content:K,props:ee})=>Xe.createElement(f2,{...ee,stacked:t,collapseAll:j,isIn:d(ee.toastId,ee.containerId),key:`t-${ee.key}`},K)))}))}const y2=()=>{const[r,e]=H.useState({fullname:"",phone:"",email:""}),[t,s]=H.useState(null),{cart:o,totalPrice:l}=H.useContext(za),h=y=>{e({...r,[y.target.name]:y.target.value})},d=async y=>{y.preventDefault();const v={buyer:{...r},products:{...o},total:l(),date:ht.fromDate(new Date)},w=await Ox(r);w.status==="success"?await p(v):Ue.warn(w.message)},p=async y=>{try{const v=j_(gd,"orders"),w=await HS(v,y);s(w.id)}catch(v){console.log(v)}};return M.jsx("div",{className:"checkout",children:t?M.jsxs("div",{className:"checkout__container",children:[M.jsxs(Tn,{to:"/",className:"checkout__button checkout__button--back",children:["<"," Go back"]}),M.jsx("h2",{className:"checkout__text checkout__text--title",children:"Thank you for your purchase!"}),M.jsxs("p",{className:"checkout__text checkout__text--order",children:["Your order number is: ",t]})]}):M.jsx(ZS,{dataForm:r,handleChangeInput:h,handleSubmitForm:d})})};function _2(){return M.jsx("div",{className:"app app__container",children:M.jsx($1,{children:M.jsxs(J1,{children:[M.jsx(eE,{}),M.jsx(py,{}),M.jsx(g2,{theme:"dark",position:"bottom-center"}),M.jsxs(_1,{children:[M.jsx(Ys,{path:"/",element:M.jsx(Mg,{greeting:"Welcome To Our Store"})}),M.jsx(Ys,{path:"/category/:idCategory",element:M.jsx(Mg,{greeting:"Welcome To Our Store"})}),M.jsx(Ys,{path:"/detail/:idProduct",element:M.jsx(YS,{})}),M.jsx(Ys,{path:"/cart",element:M.jsx(JS,{})}),M.jsx(Ys,{path:"/checkout",element:M.jsx(y2,{})})]})]})})})}Cv.createRoot(document.getElementById("root")).render(M.jsx(H.StrictMode,{children:M.jsx(_2,{})}));
